<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://corridor.github.io/ggx-docs/technology/self-hosting/installation/aws/">
      
      
        <link rel="prev" href="../gcp/gcp-vms/">
      
      
        <link rel="next" href="aws-fargate/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/logos/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Install on Amazon Web Services (AWS) - Corridor GGX Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:300,300i,400,400i,700,700i%7CDM+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"DM Sans";--md-code-font:"DM Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/print-pdf.css">
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-SMFMDV1JW7"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-SMFMDV1JW7",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-SMFMDV1JW7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="corridor" data-md-color-primary="rgb(41,-49,-71)" data-md-color-accent="rgb(41,-49,-71)">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#use-cases" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Corridor GGX Documentation" class="md-header__button md-logo" aria-label="Corridor GGX Documentation" data-md-component="logo">
      
  <img src="../../../../assets/logos/ggx-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Corridor GGX Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install on Amazon Web Services (AWS)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="corridor" data-md-color-primary="rgb(41,-49,-71)" data-md-color-accent="rgb(41,-49,-71)" aria-hidden="true" type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/corridor/ggx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    corridor/ggx-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../register-and-refine/" class="md-tabs__link">
          
  
  
    
  
  Register and Refine

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../evaluate-and-approve/" class="md-tabs__link">
          
  
  
    
  
  Evaluate and Approve

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../deploy-and-monitor/" class="md-tabs__link">
          
  
  
    
  
  Deploy and Monitor

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../integrations/" class="md-tabs__link">
          
  
  
    
  
  Integrations

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Technology

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Corridor GGX Documentation" class="md-nav__button md-logo" aria-label="Corridor GGX Documentation" data-md-component="logo">
      
  <img src="../../../../assets/logos/ggx-white.png" alt="logo">

    </a>
    Corridor GGX Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/corridor/ggx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    corridor/ggx-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../register-and-refine/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Register and Refine
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Register and Refine
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../register-and-refine/inventory-management/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Inventory Management
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Inventory Management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/inventory-management/table-registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/inventory-management/model-catalog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Catalog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/inventory-management/prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/inventory-management/rags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAGs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/inventory-management/pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/collaboration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collaboration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/version-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/lineage-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lineage Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/prompt-optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompt Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/corridor_sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Corridor Sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8">
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Asset Registration Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Asset Registration Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/examples/model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gemini 2.0 Flash Model Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8_2">
        
          
          <label class="md-nav__link" for="__nav_1_8_2" id="__nav_1_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Intent Classification Pipeline Example
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Intent Classification Pipeline Example
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/examples/intent-classification-pipeline-registration/prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompt Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/examples/intent-classification-pipeline-registration/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipeline Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8_3">
        
          
          <label class="md-nav__link" for="__nav_1_8_3" id="__nav_1_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Language Translation Pipeline Example
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Language Translation Pipeline Example
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../register-and-refine/examples/language-translation-pipeline-registration/pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipeline Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../evaluate-and-approve/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Evaluate and Approve
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Evaluate and Approve
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Simulation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/reporting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reporting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/approval-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Approval Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/human-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Human Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../evaluate-and-approve/document-generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../deploy-and-monitor/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Deploy and Monitor
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deploy and Monitor
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../deploy-and-monitor/direct-to-production/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Direct to Production
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../deploy-and-monitor/oversight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Oversight
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../deploy-and-monitor/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../deploy-and-monitor/annotation-queues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Annotation Queues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../integrations/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../integrations/llm-providers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    LLM Providers
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    LLM Providers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/gcp-vertexai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GCP VertexAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/aws-bedrock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AWS Bedrock
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/azureai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AzureAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/openai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/huggingface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HuggingFace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/llm-providers/anthropic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anthropic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3">
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Evaluation Providers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Evaluation Providers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../integrations/evaluation-providers/cleanlab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cleanlab
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Technology
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technology
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Self Hosted Installation
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Self Hosted Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../minimum-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Minimum Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../gcp/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    GCP
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_3_1" id="__nav_5_1_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    GCP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gcp/gcp-gke/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Google Kubernetes Engine (GKE)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gcp/gcp-vms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Google Compute Engine VMs (GCE)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    
  
    AWS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_5_1_3_2" id="__nav_5_1_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    AWS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="aws-fargate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Amazon Fargate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="aws-eks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Amazon Elastic Kubernetes Service (EKS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="aws-ec2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Amazon Elastic Compute Cloud (EC2)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../azure/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Azure
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_3_3" id="__nav_5_1_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../azure/azure-aks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Kubernetes Service (AKS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../azure/azure-vms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Virtual Machines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../on-prem/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    On Prem
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1_3_4" id="__nav_5_1_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    On Prem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-prem/bundle-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bundle Install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-prem/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Containers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_4">
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configurations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configurations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/approvals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI CD Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/common-configs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Configs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata: Database Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/datalake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datalake Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Email Notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/packages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Additional Libraries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/process-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Process Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/saml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SAML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/web-servers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Server Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardening - Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_6">
        
          
          <label class="md-nav__link" for="__nav_5_1_6" id="__nav_5_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Scaling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Scaling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scaling/backups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backups &amp; Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scaling/concurrency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiple Corridor Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scaling/scalability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scalability and Sizing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use Cases
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-prerequisites-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Prerequisites and Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical Prerequisites and Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operating-system-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operating System Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storage Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compute Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-service-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Service Quotas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisite-skills-or-specialized-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisite Skills or Specialized Knowledge
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisite Skills or Specialized Knowledge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Knowledge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-services-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Services Knowledge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripting-and-programming-languages" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scripting and Programming Languages
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-skills-by-deployment-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Skills (by Deployment Method)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-experience-level" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended Experience Level
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-account-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Account Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operating-system-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operating System Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#licensing-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Licensing Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        DNS Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-and-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access and Authentication
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-account-root-user-warning" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Account Root User Warning
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#principle-of-least-privilege" class="md-nav__link">
    <span class="md-ellipsis">
      
        Principle of Least Privilege
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-resources-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Public Resources Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-roles-and-policies-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Roles and Policies Purpose
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keys-purpose-and-location" class="md-nav__link">
    <span class="md-ellipsis">
      
        Keys Purpose and Location
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secrets Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensitive-customer-data-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sensitive Customer Data Storage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-encryption-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Encryption Configurations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-configuration-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Configuration Details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-metadata-service-imds-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instance Metadata Service (IMDS) Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typical-customer-deployment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Typical Customer Deployment Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typical Customer Deployment Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#infrastructure-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Infrastructure Resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compute Resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storage Resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Application Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supporting-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supporting Services
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-deployment-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Post-Deployment Resources
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Options
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-availability-zone-single-az" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single-Availability Zone (Single-AZ)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-availability-zone-multi-az" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Availability Zone (Multi-AZ)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-region" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Region
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expected-deployment-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        Expected Deployment Time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-aws-regions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported AWS Regions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported AWS Regions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#us-regions" class="md-nav__link">
    <span class="md-ellipsis">
      
        US Regions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#europe-regions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Europe Regions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asia-pacific-regions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Asia Pacific Regions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-regions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Regions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cost-and-licensing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost and Licensing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cost and Licensing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#billable-aws-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Billable AWS Services
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Billable AWS Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mandatory Services
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optional Services
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#licensing-costs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Licensing Costs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-sizing-and-provisioning" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Sizing and Provisioning
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resource Sizing and Provisioning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-provisioning-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Provisioning Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compute-resource-sizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compute Resource Sizing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compute Resource Sizing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eks-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        EKS Deployments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-fargate-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Fargate Deployments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ec2-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        EC2 Deployments
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-resource-sizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Resource Sizing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-resource-sizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storage Resource Sizing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage Resource Sizing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amazon-efs-eksfargate-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Amazon EFS (EKS/Fargate Deployments)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-ebs-ec2-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Amazon EBS (EC2 Deployments)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-s3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Amazon S3
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-resource-sizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Resource Sizing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Network Resource Sizing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-load-balancer-alb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Application Load Balancer (ALB)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nat-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      
        NAT Gateway
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpc-and-subnets" class="md-nav__link">
    <span class="md-ellipsis">
      
        VPC and Subnets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-sizing-summary-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Sizing Summary Table
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-provisioning-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Provisioning Scripts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-and-right-sizing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring and Right-Sizing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-deployment-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-Step Deployment Instructions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-Step Deployment Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-provision-network-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Provision Network Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-provision-database-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Provision Database Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-provision-storage-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Provision Storage Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-provision-compute-infrastructure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Provision Compute Infrastructure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-create-application-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Create Application Load Balancer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-deploy-corridor-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Deploy Corridor Application
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-configure-dns-and-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Configure DNS and SSL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-post-deployment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Post-Deployment Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-and-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing and Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing and Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-deployment-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-Deployment Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-deployment-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Post-Deployment Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues-and-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues and Troubleshooting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-additional-help" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting Additional Help
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#health-monitoring-and-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Health Monitoring and Assessment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Health Monitoring and Assessment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-configure-application-health-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Configure Application Health Checks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-set-up-cloudwatch-metrics-and-alarms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Set Up CloudWatch Metrics and Alarms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-monitor-application-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Monitor Application Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-monitor-database-health" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Monitor Database Health
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-monitor-storage-health" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Monitor Storage Health
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-monitor-network-health" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Monitor Network Health
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-perform-regular-health-assessments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Perform Regular Health Assessments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-create-health-monitoring-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Create Health Monitoring Dashboard
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup and Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backup and Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-stores-and-configurations-for-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Stores and Configurations for Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step-backup-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-Step Backup Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-Step Backup Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-storage-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Storage Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Backup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step-recovery-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-Step Recovery Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step-by-Step Recovery Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-storage-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Storage Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automated-backup-schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Backup Schedule
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credential-and-key-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Credential and Key Rotation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Credential and Key Rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rotating-database-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotating Database Credentials
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotating-aws-access-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotating AWS Access Keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotating-ssltls-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotating SSL/TLS Certificates
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotating-application-api-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotating Application API Keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotation-schedule-recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotation Schedule Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software-patches-and-upgrades" class="md-nav__link">
    <span class="md-ellipsis">
      
        Software Patches and Upgrades
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software Patches and Upgrades">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patch-management-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Patch Management Strategy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-patch-preparation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-Patch Preparation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-application-updates" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Application Updates
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-infrastructure-patches" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Infrastructure Patches
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-patch-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Post-Patch Verification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollback-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rollback Procedures
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        License Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="License Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corridor-software-license-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Corridor Software License Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-service-license-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Service License Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-service-limits-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Service Limits Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AWS Service Limits Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-aws-service-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding AWS Service Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-current-service-limits" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checking Current Service Limits
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requesting-limit-increases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Requesting Limit Increases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proactive-limit-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proactive Limit Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fault-handling-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fault Handling and Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fault Handling and Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handling-fault-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling Fault Conditions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling Fault Conditions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fault-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fault Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-fault-scenarios-and-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Fault Scenarios and Resolution
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-recovery-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Software Recovery Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software Recovery Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complete-deployment-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Deployment Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disaster-recovery-to-secondary-region" class="md-nav__link">
    <span class="md-ellipsis">
      
        Disaster Recovery to Secondary Region
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery Testing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support-information" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support Information
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Support Information">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-receive-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to Receive Support
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-support-tiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Support Tiers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support-tiers-and-service-level-agreements-slas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support Tiers and Service Level Agreements (SLAs)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-kubernetes-eks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option 1: Kubernetes - EKS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-serverless-ecs-fargate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option 2: Serverless - ECS Fargate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-3-virtual-machines-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option 3: Virtual Machines - EC2
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-aws-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common AWS Services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-the-right-option" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choosing the Right Option
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation">
    <ol class="md-path__list">
      
      
        
  
  
    
    
      
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Technology
  </span>

        </a>
      </li>
    
  

    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Self Hosted Installation
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      
  
  
    
    
      <li class="md-path__item">
        <a href="../gcp/" class="md-path__link">
          
  <span class="md-ellipsis">
    Installation
  </span>

        </a>
      </li>
    
  

    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    AWS
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/corridor/ggx-docs/edit/main/docs/technology/self-hosting/installation/aws/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  


  <h1>Installation on AWS</h1>

<p>This guide provides an overview of deploying Corridor on Amazon Web Services. Corridor supports three deployment approaches on AWS.</p>
<h2 id="use-cases">Use Cases<a class="headerlink" href="#use-cases" title="Permanent link"></a></h2>
<p>Corridor GenGuardX is a Responsible AI Governance &amp; Testing Automation Platform designed to help organizations deploy and manage Generative AI applications securely and compliantly. Common use cases include:</p>
<ul>
<li><strong>IVR Systems</strong>: Deploy and monitor interactive voice response systems powered by GenAI</li>
<li><strong>Agent Assist Tools</strong>: Build and govern AI-powered customer service agent assistance applications</li>
<li><strong>Chatbots</strong>: Create, test, and deploy conversational AI chatbots with comprehensive governance</li>
<li><strong>RAG Applications</strong>: Deploy Retrieval-Augmented Generation systems with end-to-end testing and monitoring</li>
<li><strong>Multi-Agent Workflows</strong>: Orchestrate complex agent-based workflows with approval and monitoring capabilities</li>
<li><strong>Regulatory Compliance</strong>: Ensure GenAI applications meet Model Risk Management (MRM), Fair Lending, and other regulatory requirements</li>
</ul>
<p>Corridor enables organizations to move from experimentation to production deployment of high-ROI GenAI use cases with strong end-to-end pipeline testing, regulatory governance, and continual human-in-the-loop monitoring.</p>
<h2 id="technical-prerequisites-and-requirements">Technical Prerequisites and Requirements<a class="headerlink" href="#technical-prerequisites-and-requirements" title="Permanent link"></a></h2>
<p>Before beginning the deployment, ensure the following technical prerequisites and requirements are met:</p>
<h3 id="operating-system-requirements">Operating System Requirements<a class="headerlink" href="#operating-system-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>EC2 Deployments</strong>: Amazon Linux 2, Ubuntu 20.04 LTS or later, or RHEL 8+ for EC2-based installations</li>
<li><strong>EKS/ECS Deployments</strong>: Container-based deployments use Linux-based container images (no OS installation required on host)</li>
<li><strong>Python</strong>: Python 3.11+ is required for EC2 deployments</li>
<li><strong>Java</strong>: Java 8+ is required for Spark worker functionality (EC2 deployments)</li>
</ul>
<h3 id="database-requirements">Database Requirements<a class="headerlink" href="#database-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>Database Type</strong>: PostgreSQL 11.7+ (PostgreSQL 14+ recommended for production)</li>
<li><strong>Database Storage</strong>: Minimum 5 GB for metadata storage (production deployments should allocate 100 GB+)</li>
<li><strong>Database Configuration</strong>: </li>
<li>Multi-AZ configuration recommended for production environments</li>
<li>Automated backups enabled</li>
<li>Encryption at rest enabled</li>
<li><strong>Alternative Databases</strong>: Oracle 19+ or MSSQL 2016+ are supported but PostgreSQL is recommended for AWS deployments</li>
</ul>
<h3 id="storage-requirements">Storage Requirements<a class="headerlink" href="#storage-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>File Storage</strong>: Minimum 50 GB for file management (production deployments should allocate 500 GB+)</li>
<li><strong>Storage Types</strong>:</li>
<li><strong>EKS/Fargate</strong>: Amazon EFS (Elastic File System) for persistent storage</li>
<li><strong>EC2</strong>: EBS volumes (gp3 recommended) or Amazon S3 for object storage</li>
<li><strong>Database Storage</strong>: EBS-backed storage for RDS instances (gp3 or io1/io2 for high-performance workloads)</li>
<li><strong>Backup Storage</strong>: Amazon S3 for database backups and snapshots</li>
</ul>
<h3 id="compute-requirements">Compute Requirements<a class="headerlink" href="#compute-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>Web Application &amp; API Worker</strong>: Minimum 4 GB RAM, 4 CPU cores</li>
<li><strong>Spark Worker</strong>: Minimum 16 GB RAM, 8 CPU cores (for data processing workloads)</li>
<li><strong>Jupyter Notebook</strong>: Minimum 4 GB RAM, 4 CPU cores (scales with concurrent users)</li>
<li><strong>Redis</strong>: Minimum 1 GB RAM, 1 CPU core</li>
<li><strong>Database (RDS)</strong>: Minimum db.t3.medium (2 vCPU, 4 GB RAM) for development; db.t3.xlarge+ recommended for production</li>
</ul>
<h3 id="network-requirements">Network Requirements<a class="headerlink" href="#network-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>VPC</strong>: Virtual Private Cloud with public and private subnets</li>
<li><strong>Subnets</strong>: Minimum 2 availability zones for production deployments</li>
<li><strong>Internet Connectivity</strong>: NAT Gateway for outbound internet access from private subnets</li>
<li><strong>DNS</strong>: Domain name system (DNS) configuration via Route 53 or external DNS provider</li>
<li><strong>SSL/TLS</strong>: SSL certificates for HTTPS (Let's Encrypt via cert-manager or AWS Certificate Manager)</li>
</ul>
<h3 id="aws-service-quotas">AWS Service Quotas<a class="headerlink" href="#aws-service-quotas" title="Permanent link"></a></h3>
<p>Ensure sufficient service quotas (limits) are available in your AWS account:
- EC2 instances (if using EC2 deployment)
- EKS clusters and nodes (if using EKS deployment)
- ECS tasks and services (if using Fargate deployment)
- RDS instances
- EFS file systems
- VPCs and subnets
- NAT Gateways
- Application Load Balancers</p>
<p>For detailed component-specific requirements, refer to the <a href="../minimum-requirements/">Minimum Requirements</a> documentation.</p>
<h2 id="prerequisite-skills-or-specialized-knowledge">Prerequisite Skills or Specialized Knowledge<a class="headerlink" href="#prerequisite-skills-or-specialized-knowledge" title="Permanent link"></a></h2>
<p>Successful deployment of Corridor on AWS requires familiarity with the following skills and knowledge areas:</p>
<h3 id="aws-knowledge">AWS Knowledge<a class="headerlink" href="#aws-knowledge" title="Permanent link"></a></h3>
<ul>
<li><strong>AWS Fundamentals</strong>: Understanding of AWS core services, regions, availability zones, and account management</li>
<li><strong>AWS Networking</strong>: Knowledge of VPC, subnets, security groups, route tables, NAT Gateways, and Internet Gateways</li>
<li><strong>AWS IAM</strong>: Understanding of IAM roles, policies, and service roles for resource access</li>
<li><strong>AWS Compute Services</strong>: Familiarity with at least one of the following:</li>
<li><strong>EKS</strong>: Kubernetes concepts, EKS cluster management, node groups, and Kubernetes resource management</li>
<li><strong>ECS</strong>: ECS clusters, task definitions, services, and Fargate launch types</li>
<li><strong>EC2</strong>: EC2 instance management, AMIs, security groups, and instance types</li>
</ul>
<h3 id="aws-services-knowledge">AWS Services Knowledge<a class="headerlink" href="#aws-services-knowledge" title="Permanent link"></a></h3>
<p>Deployers should be familiar with the following AWS services used in Corridor deployments:</p>
<ul>
<li><strong>Amazon RDS</strong>: Database instance creation, configuration, Multi-AZ setup, and backup management</li>
<li><strong>Amazon EFS</strong>: File system creation, mount targets, and access point configuration (for EKS/Fargate)</li>
<li><strong>Amazon S3</strong>: Bucket creation, IAM policies, and object storage management</li>
<li><strong>Application Load Balancer</strong>: ALB configuration, target groups, listeners, and SSL certificate management</li>
<li><strong>Route 53</strong>: DNS zone management, record creation, and health checks</li>
<li><strong>AWS Secrets Manager</strong>: Secret storage and retrieval for sensitive configuration</li>
<li><strong>CloudWatch</strong>: Logging, monitoring, and alerting configuration</li>
<li><strong>AWS WAF</strong>: Web application firewall rules and DDoS protection (optional)</li>
</ul>
<h3 id="scripting-and-programming-languages">Scripting and Programming Languages<a class="headerlink" href="#scripting-and-programming-languages" title="Permanent link"></a></h3>
<ul>
<li><strong>Bash/Shell Scripting</strong>: Required for automation scripts, installation procedures, and system administration tasks</li>
<li><strong>Python</strong>: Python 3.11+ knowledge is helpful for troubleshooting and custom configuration (EC2 deployments)</li>
<li><strong>Terraform or CloudFormation</strong>: Infrastructure-as-Code (IaC) knowledge is recommended for automated deployments</li>
<li><strong>YAML/JSON</strong>: Understanding of YAML and JSON syntax for configuration files (Kubernetes manifests, ECS task definitions, etc.)</li>
</ul>
<h3 id="additional-skills-by-deployment-method">Additional Skills (by Deployment Method)<a class="headerlink" href="#additional-skills-by-deployment-method" title="Permanent link"></a></h3>
<p><strong>For EKS Deployments:</strong>
- <strong>Kubernetes</strong>: Strong understanding of Kubernetes concepts including pods, services, deployments, ConfigMaps, Secrets, and Ingress
- <strong>kubectl</strong>: Proficiency with kubectl command-line tool
- <strong>eksctl</strong>: Familiarity with eksctl for EKS cluster management (optional but recommended)
- <strong>Kustomize or Helm</strong>: Knowledge of Kubernetes package management tools</p>
<p><strong>For ECS Fargate Deployments:</strong>
- <strong>Docker</strong>: Understanding of container concepts and Docker images
- <strong>ECS CLI</strong>: Basic familiarity with ECS command-line tools</p>
<p><strong>For EC2 Deployments:</strong>
- <strong>Linux System Administration</strong>: SSH access, package management, service management (systemd), and file system operations
- <strong>Network Configuration</strong>: Understanding of network interfaces, firewall rules, and routing</p>
<h3 id="recommended-experience-level">Recommended Experience Level<a class="headerlink" href="#recommended-experience-level" title="Permanent link"></a></h3>
<ul>
<li><strong>Minimum</strong>: 1-2 years of AWS experience with hands-on deployment experience</li>
<li><strong>Recommended</strong>: 3+ years of AWS experience with production deployment experience</li>
<li><strong>For EKS</strong>: Additional 1+ years of Kubernetes experience</li>
</ul>
<h2 id="environment-configuration">Environment Configuration<a class="headerlink" href="#environment-configuration" title="Permanent link"></a></h2>
<p>Before deploying Corridor, ensure the following environment configuration is in place:</p>
<h3 id="aws-account-requirements">AWS Account Requirements<a class="headerlink" href="#aws-account-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>Active AWS Account</strong>: A valid AWS account with appropriate billing and payment methods configured</li>
<li><strong>IAM Permissions</strong>: AWS account or IAM user with sufficient permissions to create and manage:</li>
<li>EC2 instances, EKS clusters, or ECS clusters (depending on deployment method)</li>
<li>RDS database instances</li>
<li>VPC, subnets, security groups, and networking resources</li>
<li>EFS file systems or S3 buckets</li>
<li>Application Load Balancers</li>
<li>IAM roles and policies</li>
<li>Route 53 hosted zones (if using Route 53)</li>
<li>CloudWatch logs and metrics</li>
<li><strong>Service Quotas</strong>: Verify that AWS service quotas (limits) are sufficient for your deployment size</li>
<li><strong>Billing Alerts</strong>: Configure AWS billing alerts to monitor costs</li>
</ul>
<h3 id="operating-system-configuration">Operating System Configuration<a class="headerlink" href="#operating-system-configuration" title="Permanent link"></a></h3>
<ul>
<li><strong>EC2 Deployments</strong>: </li>
<li>EC2 instances must be launched with a supported AMI (Amazon Linux 2, Ubuntu 20.04+, or RHEL 8+)</li>
<li>SSH access configured with key pairs or AWS Systems Manager Session Manager</li>
<li>System updates applied and security patches installed</li>
<li><strong>EKS/ECS Deployments</strong>: </li>
<li>No OS configuration required on host systems (container-based)</li>
<li>Container images must be based on Linux</li>
</ul>
<h3 id="licensing-requirements">Licensing Requirements<a class="headerlink" href="#licensing-requirements" title="Permanent link"></a></h3>
<ul>
<li><strong>Corridor Software</strong>: Valid Corridor license and access to Corridor installation bundle or container images</li>
<li><strong>Container Registry Access</strong>: Access credentials for Corridor container registry (for EKS/ECS deployments)</li>
<li><strong>Third-Party Software</strong>: </li>
<li>PostgreSQL database (managed by AWS RDS - no separate license required)</li>
<li>Redis (open-source, no license required)</li>
<li>Python 3.11+ (open-source)</li>
<li>Java 8+ (open-source OpenJDK)</li>
<li>Spark 3.3+ (open-source, if using Spark workers)</li>
</ul>
<h3 id="dns-configuration">DNS Configuration<a class="headerlink" href="#dns-configuration" title="Permanent link"></a></h3>
<ul>
<li><strong>Domain Name</strong>: A registered domain name for accessing the Corridor instance (e.g., <code>corridor.example.com</code>)</li>
<li><strong>DNS Provider</strong>: Either:</li>
<li><strong>AWS Route 53</strong>: Hosted zone configured in Route 53</li>
<li><strong>External DNS Provider</strong>: DNS provider (e.g., Cloudflare, GoDaddy) with ability to create A and CNAME records</li>
<li><strong>DNS Records</strong>: Ability to create DNS records pointing to the Application Load Balancer</li>
<li><strong>SSL Certificate</strong>: SSL/TLS certificate for HTTPS (can be obtained via Let's Encrypt or AWS Certificate Manager)</li>
</ul>
<h3 id="network-configuration">Network Configuration<a class="headerlink" href="#network-configuration" title="Permanent link"></a></h3>
<ul>
<li><strong>VPC Setup</strong>: </li>
<li>VPC with CIDR block (e.g., 10.0.0.0/16)</li>
<li>Public subnets for load balancers and NAT Gateways</li>
<li>Private subnets for application components and databases</li>
<li>Minimum 2 availability zones for production deployments</li>
<li><strong>Security Groups</strong>: Security group rules configured for:</li>
<li>Application Load Balancer (inbound HTTPS/HTTP from internet)</li>
<li>Application components (inbound from ALB, outbound to internet)</li>
<li>Database (inbound from application components only)</li>
<li>EFS mount targets (inbound from application components)</li>
<li><strong>NAT Gateway</strong>: NAT Gateway configured in public subnet for outbound internet access from private subnets</li>
</ul>
<h3 id="access-and-authentication">Access and Authentication<a class="headerlink" href="#access-and-authentication" title="Permanent link"></a></h3>
<ul>
<li><strong>AWS CLI</strong>: AWS CLI installed and configured with appropriate credentials</li>
<li><strong>kubectl</strong> (EKS only): kubectl CLI installed and configured to access EKS cluster</li>
<li><strong>eksctl</strong> (EKS only, optional): eksctl CLI installed for EKS cluster management</li>
<li><strong>SSH Access</strong> (EC2 only): SSH key pair created and configured for EC2 instance access</li>
<li><strong>Container Registry</strong>: Access credentials configured for pulling Corridor container images (EKS/ECS deployments)</li>
</ul>
<h2 id="security-configuration">Security Configuration<a class="headerlink" href="#security-configuration" title="Permanent link"></a></h2>
<p>This section provides comprehensive security guidance for deploying Corridor on AWS, including access controls, encryption, network security, and data protection measures.</p>
<h3 id="aws-account-root-user-warning">AWS Account Root User Warning<a class="headerlink" href="#aws-account-root-user-warning" title="Permanent link"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Do Not Use AWS Account Root User</p>
<p><strong>CRITICAL SECURITY REQUIREMENT</strong>: The Corridor deployment and operation <strong>must not</strong> require the use of AWS account root user credentials. Using the root account for deployment or operations poses significant security risks.</p>
<p><strong>Required Actions:</strong>
- Create IAM users or roles with appropriate permissions for deployment and operations
- Never use root account credentials for day-to-day operations
- Enable MFA (Multi-Factor Authentication) on the root account and store credentials securely
- Use the root account only for initial account setup and critical account-level operations</p>
<p>For more information on securing your root account, refer to the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#lock-away-credentials">AWS Security Best Practices</a> documentation.</p>
</div>
<h3 id="principle-of-least-privilege">Principle of Least Privilege<a class="headerlink" href="#principle-of-least-privilege" title="Permanent link"></a></h3>
<p>All IAM roles, policies, and access configurations must follow the <strong>principle of least privilege</strong>, granting only the minimum permissions necessary for each component to function.</p>
<p><strong>Guidance for IAM Roles and Policies:</strong></p>
<ul>
<li><strong>EKS Cluster Service Role</strong>: Grants permissions for EKS to create and manage AWS resources on your behalf</li>
<li>Required permissions: <code>eks:CreateCluster</code>, <code>eks:DescribeCluster</code>, <code>ec2:CreateNetworkInterface</code>, <code>ec2:DescribeNetworkInterfaces</code></li>
<li>
<p>Should NOT include: Full EC2 access, S3 write access, or other unnecessary permissions</p>
</li>
<li>
<p><strong>EKS Node Group Role</strong>: Allows EKS nodes to join the cluster and access required AWS services</p>
</li>
<li>Required permissions: <code>ec2:DescribeInstances</code>, <code>ec2:DescribeInstanceTypes</code>, <code>ecr:GetAuthorizationToken</code>, <code>ecr:BatchCheckLayerAvailability</code>, <code>ecr:GetDownloadUrlForLayer</code>, <code>ecr:BatchGetImage</code></li>
<li>
<p>Should NOT include: S3 write access (unless specifically required), RDS access, or other unrelated services</p>
</li>
<li>
<p><strong>ECS Task Execution Role</strong>: Allows ECS tasks to pull container images and write logs</p>
</li>
<li>Required permissions: <code>ecr:GetAuthorizationToken</code>, <code>ecr:BatchCheckLayerAvailability</code>, <code>ecr:GetDownloadUrlForLayer</code>, <code>ecr:BatchGetImage</code>, <code>logs:CreateLogStream</code>, <code>logs:PutLogEvents</code></li>
<li>
<p>Should NOT include: S3 access, RDS access, or other unnecessary permissions</p>
</li>
<li>
<p><strong>ECS Task Role</strong>: Grants permissions for application code running in containers</p>
</li>
<li>Should be scoped to only the specific AWS services the application needs (e.g., S3 read/write for specific buckets, Secrets Manager read for specific secrets)</li>
<li>
<p>Should NOT include: Broad S3 access, RDS admin access, or other overly permissive policies</p>
</li>
<li>
<p><strong>EC2 Instance Profile</strong>: For EC2 deployments, grants permissions for the instance to access AWS services</p>
</li>
<li>Should be scoped to only required services (e.g., S3 read/write for specific buckets, Secrets Manager read)</li>
<li>Should NOT include: Full EC2 access, RDS admin access, or other unnecessary permissions</li>
</ul>
<p><strong>Best Practices:</strong>
- Review and audit IAM policies regularly
- Use AWS IAM Policy Simulator to test permissions before deployment
- Implement resource-level permissions (e.g., restrict S3 access to specific buckets)
- Use condition keys to further restrict access (e.g., IP address restrictions, time-based access)
- Separate read and write permissions where possible
- Document the purpose of each permission granted</p>
<h3 id="public-resources-documentation">Public Resources Documentation<a class="headerlink" href="#public-resources-documentation" title="Permanent link"></a></h3>
<p>Corridor deployments on AWS are designed to minimize public exposure. The following resources may be configured as public:</p>
<p><strong>Public Resources:</strong></p>
<ul>
<li><strong>Application Load Balancer (ALB)</strong>: The ALB is deployed in public subnets and accepts inbound HTTPS/HTTP traffic from the internet. This is required for users to access the Corridor web interface.</li>
<li><strong>Security</strong>: ALB should be configured with security groups that only allow HTTPS (port 443) and optionally HTTP (port 80) for redirects</li>
<li>
<p><strong>Recommendation</strong>: Use AWS WAF in front of the ALB for additional protection</p>
</li>
<li>
<p><strong>Route 53 Public Hosted Zone</strong> (if using Route 53): Public DNS records are required for domain resolution</p>
</li>
<li><strong>Security</strong>: DNS records themselves are public by design; ensure DNS records point to the ALB, not directly to application instances</li>
</ul>
<p><strong>Private Resources (Not Publicly Accessible):</strong></p>
<ul>
<li><strong>EC2 Instances</strong>: Deployed in private subnets, not directly accessible from the internet</li>
<li><strong>EKS Nodes</strong>: Deployed in private subnets</li>
<li><strong>ECS Tasks</strong>: Deployed in private subnets</li>
<li><strong>RDS Database</strong>: Deployed in private subnets, accessible only from application components</li>
<li><strong>EFS File Systems</strong>: Mount targets in private subnets, accessible only from application components</li>
<li><strong>S3 Buckets</strong>: By default, S3 buckets are private. Bucket policies should NOT allow public access unless specifically required for a use case (which is not typical for Corridor deployments)</li>
</ul>
<p><strong>No Public S3 Buckets Required</strong>: Corridor deployments do not require any S3 buckets with public access policies. All S3 buckets used for file storage, backups, or other purposes should be configured as private with appropriate IAM policies for access control.</p>
<h3 id="iam-roles-and-policies-purpose">IAM Roles and Policies Purpose<a class="headerlink" href="#iam-roles-and-policies-purpose" title="Permanent link"></a></h3>
<p>The following IAM roles and policies are created during Corridor deployment. Each role serves a specific purpose:</p>
<p><strong>EKS Deployments:</strong></p>
<ul>
<li><strong>EKS Cluster Service Role</strong> (<code>AmazonEKSClusterPolicy</code>, <code>AmazonEKSVPCResourceController</code>)</li>
<li><strong>Purpose</strong>: Allows the EKS service to create and manage AWS resources (VPC, ENIs, security groups) on your behalf</li>
<li><strong>Used by</strong>: EKS service when creating/managing the cluster</li>
<li>
<p><strong>Scope</strong>: Cluster-level operations</p>
</li>
<li>
<p><strong>EKS Node Group Role</strong> (<code>AmazonEKSWorkerNodePolicy</code>, <code>AmazonEKS_CNI_Policy</code>, <code>AmazonEC2ContainerRegistryReadOnly</code>, <code>AmazonEKS_EFS_CSI_Driver_Policy</code>)</p>
</li>
<li><strong>Purpose</strong>: Allows EKS worker nodes to join the cluster, pull container images from ECR, and access EFS for persistent storage</li>
<li><strong>Used by</strong>: EC2 instances in the EKS node group</li>
<li>
<p><strong>Scope</strong>: Node-level operations</p>
</li>
<li>
<p><strong>EKS Pod Service Account Role</strong> (Application-specific)</p>
</li>
<li><strong>Purpose</strong>: Grants permissions for application pods to access AWS services (S3, Secrets Manager, etc.)</li>
<li><strong>Used by</strong>: Corridor application containers running in pods</li>
<li><strong>Scope</strong>: Application-level operations, scoped to specific services and resources</li>
</ul>
<p><strong>ECS Fargate Deployments:</strong></p>
<ul>
<li><strong>ECS Task Execution Role</strong> (<code>AmazonECSTaskExecutionRolePolicy</code>)</li>
<li><strong>Purpose</strong>: Allows ECS tasks to pull container images from ECR and write logs to CloudWatch</li>
<li><strong>Used by</strong>: ECS service when starting tasks</li>
<li>
<p><strong>Scope</strong>: Task lifecycle operations</p>
</li>
<li>
<p><strong>ECS Task Role</strong> (Application-specific)</p>
</li>
<li><strong>Purpose</strong>: Grants permissions for application code running in containers to access AWS services</li>
<li><strong>Used by</strong>: Corridor application containers</li>
<li><strong>Scope</strong>: Application runtime operations, scoped to specific services</li>
</ul>
<p><strong>EC2 Deployments:</strong></p>
<ul>
<li><strong>EC2 Instance Profile Role</strong> (Application-specific)</li>
<li><strong>Purpose</strong>: Grants permissions for the EC2 instance to access AWS services (S3, Secrets Manager, CloudWatch)</li>
<li><strong>Used by</strong>: Corridor application components running on the EC2 instance</li>
<li><strong>Scope</strong>: Instance-level operations</li>
</ul>
<p><strong>Common Policies:</strong></p>
<ul>
<li><strong>Secrets Manager Read Policy</strong>: Allows reading specific secrets from AWS Secrets Manager</li>
<li><strong>Purpose</strong>: Retrieve database credentials and other sensitive configuration</li>
<li>
<p><strong>Scope</strong>: Read-only access to specific secret ARNs</p>
</li>
<li>
<p><strong>S3 Access Policy</strong>: Allows read/write access to specific S3 buckets</p>
</li>
<li><strong>Purpose</strong>: Store and retrieve files, backups, and artifacts</li>
<li><strong>Scope</strong>: Bucket-level or object-level permissions</li>
</ul>
<h3 id="keys-purpose-and-location">Keys Purpose and Location<a class="headerlink" href="#keys-purpose-and-location" title="Permanent link"></a></h3>
<p>The following keys and credentials are created or used during Corridor deployment:</p>
<p><strong>SSH Key Pairs (EC2 Deployments Only):</strong></p>
<ul>
<li><strong>Purpose</strong>: Secure access to EC2 instances for initial setup and troubleshooting</li>
<li><strong>Location</strong>: </li>
<li>Public key: Stored in AWS EC2 Key Pairs service, associated with EC2 instances</li>
<li>Private key: Stored securely on the deployer's local machine (never stored in AWS)</li>
<li><strong>Usage</strong>: Used for SSH access to EC2 instances</li>
<li><strong>Security</strong>: Private keys should be stored with appropriate file permissions (chmod 600) and never shared or committed to version control</li>
</ul>
<p><strong>Database Credentials:</strong></p>
<ul>
<li><strong>Purpose</strong>: Authentication to the RDS PostgreSQL database</li>
<li><strong>Location</strong>: </li>
<li><strong>Primary Storage</strong>: AWS Secrets Manager (recommended)</li>
<li><strong>Alternative</strong>: Environment variables or configuration files (less secure)</li>
<li><strong>Usage</strong>: Used by Corridor application components to connect to the database</li>
<li><strong>Security</strong>: </li>
<li>Rotate credentials regularly (every 90 days recommended)</li>
<li>Use Secrets Manager for automatic rotation if possible</li>
<li>Never hardcode credentials in application code or configuration files</li>
</ul>
<p><strong>Container Registry Credentials (EKS/ECS Deployments):</strong></p>
<ul>
<li><strong>Purpose</strong>: Authentication to pull Corridor container images from the container registry</li>
<li><strong>Location</strong>: </li>
<li><strong>EKS</strong>: Stored as Kubernetes image pull secrets in the cluster</li>
<li><strong>ECS</strong>: Stored in ECS task definition or retrieved via IAM role (if using ECR)</li>
<li><strong>Usage</strong>: Used by Kubernetes/ECS to authenticate and pull container images</li>
<li><strong>Security</strong>: </li>
<li>Use IAM roles for ECR access when possible (no credentials needed)</li>
<li>If using external registries, store credentials in AWS Secrets Manager</li>
</ul>
<p><strong>SSL/TLS Certificates:</strong></p>
<ul>
<li><strong>Purpose</strong>: Encrypt HTTPS traffic between users and the application</li>
<li><strong>Location</strong>: </li>
<li><strong>EKS</strong>: Managed by cert-manager, stored as Kubernetes secrets</li>
<li><strong>ECS/EC2</strong>: AWS Certificate Manager (ACM) or Let's Encrypt certificates</li>
<li><strong>Usage</strong>: Used by Application Load Balancer for SSL/TLS termination</li>
<li><strong>Security</strong>: Certificates are automatically renewed by cert-manager or ACM</li>
</ul>
<p><strong>API Keys and Application Secrets:</strong></p>
<ul>
<li><strong>Purpose</strong>: Authentication for external integrations (LLM providers, data sources, etc.)</li>
<li><strong>Location</strong>: AWS Secrets Manager (recommended) or environment variables</li>
<li><strong>Usage</strong>: Used by Corridor application components for external API access</li>
<li><strong>Security</strong>: Rotate regularly and use Secrets Manager for centralized management</li>
</ul>
<h3 id="secrets-management">Secrets Management<a class="headerlink" href="#secrets-management" title="Permanent link"></a></h3>
<p>Corridor deployments use AWS Secrets Manager for secure storage and management of sensitive credentials and configuration.</p>
<p><strong>Secrets Stored in AWS Secrets Manager:</strong></p>
<ul>
<li><strong>Database Credentials</strong>: RDS PostgreSQL username and password</li>
<li><strong>Application Secrets</strong>: API keys, tokens, and other sensitive configuration</li>
<li><strong>External Integration Credentials</strong>: LLM provider API keys, data source credentials</li>
</ul>
<p><strong>Maintaining Stored Secrets:</strong></p>
<ol>
<li>
<p><strong>Initial Secret Creation</strong>:
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Create database credentials secret</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>create-secret<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span>--name<span class="w"> </span>corridor/database/credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span>--secret-string<span class="w"> </span><span class="s1">'{"username":"corridor","password":"&lt;secure-password&gt;"}'</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Secret Rotation</strong>:</p>
</li>
<li><strong>Manual Rotation</strong>: Update secrets via AWS Secrets Manager console or CLI</li>
<li><strong>Automatic Rotation</strong>: Configure RDS automatic password rotation (if supported)</li>
<li>
<p><strong>Rotation Schedule</strong>: Rotate secrets every 90 days or as per organizational policy</p>
</li>
<li>
<p><strong>Secret Access</strong>:</p>
</li>
<li>Application components retrieve secrets at runtime via AWS SDK</li>
<li>Never log or expose secret values in application logs</li>
<li>
<p>Use IAM policies to restrict secret access to specific roles/users</p>
</li>
<li>
<p><strong>Secret Updates</strong>:</p>
</li>
<li>Update secrets via AWS Secrets Manager console or CLI</li>
<li>Application components should handle secret updates gracefully (may require restart)</li>
<li>
<p>Test secret updates in non-production environments first</p>
</li>
<li>
<p><strong>Secret Deletion</strong>:</p>
</li>
<li>Use recovery window (7-30 days) when deleting secrets</li>
<li>Ensure applications are updated before permanently deleting secrets</li>
<li>Document all secrets and their purposes</li>
</ol>
<p><strong>Best Practices:</strong>
- Use separate secrets for different environments (dev, staging, production)
- Implement secret versioning to track changes
- Monitor secret access via CloudTrail
- Use resource-based policies to restrict secret access
- Regularly audit secret access permissions</p>
<h3 id="sensitive-customer-data-storage">Sensitive Customer Data Storage<a class="headerlink" href="#sensitive-customer-data-storage" title="Permanent link"></a></h3>
<p>Corridor stores customer data in the following locations. All storage locations implement encryption at rest and in transit:</p>
<p><strong>Database Storage (Amazon RDS PostgreSQL):</strong></p>
<ul>
<li><strong>Location</strong>: RDS PostgreSQL database instance</li>
<li><strong>Data Stored</strong>: </li>
<li>User account information (usernames, email addresses, hashed passwords)</li>
<li>Application metadata (pipelines, prompts, models, RAG configurations)</li>
<li>Evaluation results and reports</li>
<li>Audit logs and activity history</li>
<li><strong>Encryption</strong>: Encryption at rest enabled (AWS KMS), encryption in transit (TLS)</li>
<li><strong>Access Control</strong>: Database accessible only from application components via security groups and IAM authentication</li>
</ul>
<p><strong>File Storage (Amazon EFS or EBS):</strong></p>
<ul>
<li><strong>Location</strong>: </li>
<li><strong>EKS/Fargate</strong>: Amazon EFS file system</li>
<li><strong>EC2</strong>: EBS volumes attached to EC2 instances</li>
<li><strong>Data Stored</strong>: </li>
<li>Uploaded files and datasets</li>
<li>Generated artifacts and outputs</li>
<li>Temporary files and cache</li>
<li><strong>Encryption</strong>: Encryption at rest enabled (AWS KMS for EFS, EBS encryption for volumes), encryption in transit (TLS for EFS)</li>
<li><strong>Access Control</strong>: File systems accessible only from application components via security groups and mount targets</li>
</ul>
<p><strong>Object Storage (Amazon S3):</strong></p>
<ul>
<li><strong>Location</strong>: Amazon S3 buckets (optional, for backups and large files)</li>
<li><strong>Data Stored</strong>: </li>
<li>Database backups and snapshots</li>
<li>Large files and datasets</li>
<li>Exported reports and artifacts</li>
<li><strong>Encryption</strong>: Server-side encryption enabled (SSE-S3 or SSE-KMS), encryption in transit (HTTPS)</li>
<li><strong>Access Control</strong>: Buckets are private; access controlled via IAM policies and bucket policies</li>
</ul>
<p><strong>Application Memory (Temporary):</strong></p>
<ul>
<li><strong>Location</strong>: Application server memory (Redis, application cache)</li>
<li><strong>Data Stored</strong>: </li>
<li>Session data</li>
<li>Temporary task data</li>
<li>Cache entries</li>
<li><strong>Encryption</strong>: Data in memory is not encrypted (standard for in-memory storage)</li>
<li><strong>Access Control</strong>: Redis accessible only from application components via security groups</li>
</ul>
<p><strong>Log Storage (Amazon CloudWatch Logs):</strong></p>
<ul>
<li><strong>Location</strong>: CloudWatch Logs</li>
<li><strong>Data Stored</strong>: </li>
<li>Application logs</li>
<li>Access logs</li>
<li>Error logs</li>
<li><strong>Encryption</strong>: Encryption at rest enabled (AWS KMS), encryption in transit (TLS)</li>
<li><strong>Access Control</strong>: Log groups accessible only via IAM policies</li>
</ul>
<p><strong>Data Residency</strong>: Customer data remains within the selected AWS region unless explicitly configured for cross-region replication (backups only).</p>
<h3 id="data-encryption-configurations">Data Encryption Configurations<a class="headerlink" href="#data-encryption-configurations" title="Permanent link"></a></h3>
<p>Corridor deployments implement encryption at rest and in transit for all data storage and communication:</p>
<p><strong>Encryption at Rest:</strong></p>
<ul>
<li><strong>Amazon RDS PostgreSQL</strong>:</li>
<li><strong>Encryption Method</strong>: AWS KMS (Key Management Service) encryption</li>
<li><strong>Configuration</strong>: Encryption enabled during RDS instance creation</li>
<li><strong>Key Management</strong>: Customer-managed KMS keys (CMK) or AWS-managed keys</li>
<li>
<p><strong>Scope</strong>: All database data, logs, backups, and snapshots</p>
</li>
<li>
<p><strong>Amazon EFS</strong>:</p>
</li>
<li><strong>Encryption Method</strong>: AWS KMS encryption</li>
<li><strong>Configuration</strong>: Encryption enabled during EFS file system creation</li>
<li><strong>Key Management</strong>: Customer-managed KMS keys (CMK) or AWS-managed keys</li>
<li>
<p><strong>Scope</strong>: All files stored in EFS</p>
</li>
<li>
<p><strong>Amazon EBS Volumes</strong> (EC2 deployments):</p>
</li>
<li><strong>Encryption Method</strong>: EBS encryption using AWS KMS</li>
<li><strong>Configuration</strong>: Encryption enabled during volume creation or via instance-level encryption</li>
<li><strong>Key Management</strong>: Customer-managed KMS keys (CMK) or AWS-managed keys</li>
<li>
<p><strong>Scope</strong>: All data on EBS volumes, including root volumes and data volumes</p>
</li>
<li>
<p><strong>Amazon S3</strong>:</p>
</li>
<li><strong>Encryption Method</strong>: Server-Side Encryption (SSE-S3 or SSE-KMS)</li>
<li><strong>Configuration</strong>: Default encryption enabled on S3 buckets</li>
<li><strong>Key Management</strong>: AWS-managed keys (SSE-S3) or customer-managed KMS keys (SSE-KMS)</li>
<li>
<p><strong>Scope</strong>: All objects stored in S3 buckets</p>
</li>
<li>
<p><strong>Amazon CloudWatch Logs</strong>:</p>
</li>
<li><strong>Encryption Method</strong>: AWS KMS encryption</li>
<li><strong>Configuration</strong>: Encryption enabled on log groups</li>
<li><strong>Key Management</strong>: Customer-managed KMS keys (CMK) or AWS-managed keys</li>
<li><strong>Scope</strong>: All log data stored in CloudWatch Logs</li>
</ul>
<p><strong>Encryption in Transit:</strong></p>
<ul>
<li><strong>HTTPS/TLS</strong>: All communication between users and the application is encrypted using TLS 1.2 or higher</li>
<li><strong>SSL/TLS Termination</strong>: Application Load Balancer handles SSL/TLS termination</li>
<li>
<p><strong>Certificate Management</strong>: Certificates managed via AWS Certificate Manager (ACM) or Let's Encrypt (via cert-manager)</p>
</li>
<li>
<p><strong>Database Connections</strong>: All connections to RDS PostgreSQL are encrypted using TLS</p>
</li>
<li><strong>Configuration</strong>: TLS required in database connection strings</li>
<li>
<p><strong>Certificate Validation</strong>: RDS SSL certificates validated</p>
</li>
<li>
<p><strong>EFS Connections</strong>: All connections to EFS are encrypted using TLS</p>
</li>
<li>
<p><strong>Configuration</strong>: TLS encryption enabled for EFS mount operations</p>
</li>
<li>
<p><strong>S3 Connections</strong>: All connections to S3 use HTTPS</p>
</li>
<li>
<p><strong>Configuration</strong>: S3 endpoints use HTTPS by default</p>
</li>
<li>
<p><strong>Internal Communication</strong>: Application components communicate over encrypted channels within the VPC</p>
</li>
</ul>
<p><strong>Key Management:</strong></p>
<ul>
<li><strong>AWS KMS</strong>: Use AWS Key Management Service for managing encryption keys</li>
<li><strong>Key Rotation</strong>: Enable automatic key rotation for KMS keys (annual rotation)</li>
<li><strong>Key Access</strong>: Restrict KMS key access via IAM policies following least privilege principles</li>
<li><strong>Audit</strong>: Monitor key usage via CloudTrail</li>
</ul>
<h3 id="network-configuration-details">Network Configuration Details<a class="headerlink" href="#network-configuration-details" title="Permanent link"></a></h3>
<p>Corridor deployments involve multiple network components working together to provide secure, isolated networking:</p>
<p><strong>Virtual Private Cloud (VPC):</strong></p>
<ul>
<li><strong>Purpose</strong>: Provides isolated network environment for Corridor resources</li>
<li><strong>Configuration</strong>: </li>
<li>CIDR block: Typically 10.0.0.0/16 (65,536 IP addresses)</li>
<li>DNS resolution and DNS hostnames enabled</li>
<li>Internet gateway attached for public subnet internet access</li>
<li><strong>Location</strong>: Single AWS region (multi-region deployments use separate VPCs per region)</li>
</ul>
<p><strong>Subnets:</strong></p>
<ul>
<li><strong>Public Subnets</strong>: </li>
<li><strong>Purpose</strong>: Host Application Load Balancer and NAT Gateways</li>
<li><strong>Configuration</strong>: <ul>
<li>CIDR blocks: e.g., 10.0.1.0/24, 10.0.2.0/24 (one per availability zone)</li>
<li>Route table: Routes internet traffic (0.0.0.0/0) to Internet Gateway</li>
<li>Auto-assign public IP: Enabled</li>
</ul>
</li>
<li>
<p><strong>Location</strong>: Minimum 2 availability zones for high availability</p>
</li>
<li>
<p><strong>Private Subnets</strong>: </p>
</li>
<li><strong>Purpose</strong>: Host application components, databases, and internal resources</li>
<li><strong>Configuration</strong>: <ul>
<li>CIDR blocks: e.g., 10.0.10.0/24, 10.0.11.0/24 (one per availability zone)</li>
<li>Route table: Routes internet traffic (0.0.0.0/0) to NAT Gateway</li>
<li>Auto-assign public IP: Disabled</li>
</ul>
</li>
<li><strong>Location</strong>: Minimum 2 availability zones for high availability</li>
</ul>
<p><strong>Security Groups:</strong></p>
<ul>
<li><strong>ALB Security Group</strong>:</li>
<li><strong>Inbound Rules</strong>: <ul>
<li>HTTPS (443) from 0.0.0.0/0 (internet)</li>
<li>HTTP (80) from 0.0.0.0/0 (for redirects to HTTPS)</li>
</ul>
</li>
<li><strong>Outbound Rules</strong>: <ul>
<li>All traffic to application security group (ports 80, 443)</li>
</ul>
</li>
<li>
<p><strong>Purpose</strong>: Controls access to the Application Load Balancer</p>
</li>
<li>
<p><strong>Application Security Group</strong> (EKS/ECS/EC2):</p>
</li>
<li><strong>Inbound Rules</strong>: <ul>
<li>HTTP (80) from ALB security group</li>
<li>HTTPS (443) from ALB security group</li>
</ul>
</li>
<li><strong>Outbound Rules</strong>: <ul>
<li>HTTPS (443) to internet (0.0.0.0/0) for external API calls</li>
<li>TCP (5432) to RDS security group for database access</li>
<li>TCP (2049) to EFS security group for file system access</li>
</ul>
</li>
<li>
<p><strong>Purpose</strong>: Controls access to application components</p>
</li>
<li>
<p><strong>RDS Security Group</strong>:</p>
</li>
<li><strong>Inbound Rules</strong>: <ul>
<li>PostgreSQL (5432) from application security group only</li>
</ul>
</li>
<li><strong>Outbound Rules</strong>: None (database does not initiate connections)</li>
<li>
<p><strong>Purpose</strong>: Restricts database access to application components only</p>
</li>
<li>
<p><strong>EFS Security Group</strong>:</p>
</li>
<li><strong>Inbound Rules</strong>: <ul>
<li>NFS (2049) from application security group only</li>
</ul>
</li>
<li><strong>Outbound Rules</strong>: None</li>
<li><strong>Purpose</strong>: Restricts file system access to application components only</li>
</ul>
<p><strong>Network ACLs (NACLs):</strong></p>
<ul>
<li><strong>Purpose</strong>: Additional network-level security controls (stateless firewall)</li>
<li><strong>Configuration</strong>: </li>
<li>Default NACLs allow all traffic (can be customized for stricter controls)</li>
<li>Custom NACLs can be created for subnet-level restrictions</li>
<li><strong>Best Practice</strong>: Use security groups for primary access control (stateful), NACLs for additional network-level restrictions if needed</li>
</ul>
<p><strong>Route Tables:</strong></p>
<ul>
<li><strong>Public Route Table</strong>:</li>
<li><strong>Routes</strong>: <ul>
<li>10.0.0.0/16  Local (VPC internal)</li>
<li>0.0.0.0/0  Internet Gateway (public internet)</li>
</ul>
</li>
<li>
<p><strong>Associated With</strong>: Public subnets</p>
</li>
<li>
<p><strong>Private Route Table</strong>:</p>
</li>
<li><strong>Routes</strong>: <ul>
<li>10.0.0.0/16  Local (VPC internal)</li>
<li>0.0.0.0/0  NAT Gateway (outbound internet)</li>
</ul>
</li>
<li><strong>Associated With</strong>: Private subnets</li>
</ul>
<p><strong>NAT Gateway:</strong></p>
<ul>
<li><strong>Purpose</strong>: Provides outbound internet access for resources in private subnets</li>
<li><strong>Configuration</strong>: </li>
<li>Deployed in public subnet</li>
<li>Elastic IP address associated</li>
<li>Route table configured to route private subnet traffic to NAT Gateway</li>
<li><strong>High Availability</strong>: Deploy NAT Gateway in each availability zone for redundancy (recommended for production)</li>
</ul>
<p><strong>VPC Endpoints (Optional):</strong></p>
<ul>
<li><strong>Purpose</strong>: Private connectivity to AWS services without internet gateway or NAT Gateway</li>
<li><strong>Services</strong>: Can be configured for S3, Secrets Manager, CloudWatch Logs</li>
<li><strong>Benefits</strong>: Reduced data transfer costs, improved security, lower latency</li>
</ul>
<h3 id="instance-metadata-service-imds-configuration">Instance Metadata Service (IMDS) Configuration<a class="headerlink" href="#instance-metadata-service-imds-configuration" title="Permanent link"></a></h3>
<p>Corridor deployments support disabling Instance Metadata Service Version 1 (IMDSv1) to enhance security.</p>
<p><strong>IMDSv1 Disable Support:</strong></p>
<ul>
<li><strong>Requirement</strong>: All components hosted in the customer's AWS account must support disabling IMDSv1</li>
<li><strong>Compliance</strong>: Corridor uses the latest AWS SDK versions, which automatically use IMDSv2 (Token-based authentication) when available</li>
</ul>
<p><strong>Configuration:</strong></p>
<ul>
<li><strong>EKS Deployments</strong>: </li>
<li>EKS node groups can be configured to require IMDSv2</li>
<li>Set <code>metadata_options.http_tokens</code> to <code>required</code> in node group configuration</li>
<li>
<p>Application pods use IMDSv2 automatically via AWS SDK</p>
</li>
<li>
<p><strong>ECS Fargate Deployments</strong>: </p>
</li>
<li>ECS tasks automatically use IMDSv2 when available</li>
<li>
<p>No additional configuration required</p>
</li>
<li>
<p><strong>EC2 Deployments</strong>: </p>
</li>
<li>EC2 instances can be configured to require IMDSv2</li>
<li>Set <code>MetadataOptions.HttpTokens</code> to <code>required</code> during instance launch</li>
<li>Application code uses IMDSv2 automatically via AWS SDK</li>
</ul>
<p><strong>Verification:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Verify IMDSv1 is disabled (should return 401 Unauthorized)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>curl<span class="w"> </span>http://169.254.169.254/latest/meta-data/
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Verify IMDSv2 works (should return metadata)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span><span class="s2">"http://169.254.169.254/latest/api/token"</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">"X-aws-ec2-metadata-token-ttl-seconds: 21600"</span><span class="k">)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">"X-aws-ec2-metadata-token: </span><span class="nv">$TOKEN</span><span class="s2">"</span><span class="w"> </span>http://169.254.169.254/latest/meta-data/
</span></code></pre></div>
<p><strong>AWS SDK Compatibility:</strong></p>
<ul>
<li>Corridor uses AWS SDK versions that support IMDSv2 automatically</li>
<li>SDKs automatically fall back to IMDSv2 when IMDSv1 is disabled</li>
<li>No code changes required when disabling IMDSv1</li>
</ul>
<h2 id="typical-customer-deployment-overview">Typical Customer Deployment Overview<a class="headerlink" href="#typical-customer-deployment-overview" title="Permanent link"></a></h2>
<p>A typical Corridor deployment on AWS includes the following resources and components:</p>
<h3 id="infrastructure-resources">Infrastructure Resources<a class="headerlink" href="#infrastructure-resources" title="Permanent link"></a></h3>
<ul>
<li><strong>Virtual Private Cloud (VPC)</strong>: Isolated network environment with public and private subnets</li>
<li><strong>Subnets</strong>: Multiple availability zones for high availability (minimum 2 AZs for production)</li>
<li><strong>NAT Gateway</strong>: For outbound internet access from private subnets</li>
<li><strong>Internet Gateway</strong>: For public subnet internet access</li>
<li><strong>Route Tables</strong>: Network routing configuration</li>
<li><strong>Security Groups</strong>: Firewall rules for network access control</li>
<li><strong>Network ACLs</strong>: Additional network-level security controls</li>
</ul>
<h3 id="compute-resources">Compute Resources<a class="headerlink" href="#compute-resources" title="Permanent link"></a></h3>
<ul>
<li><strong>EKS Cluster</strong> (Kubernetes option): Managed Kubernetes cluster with node groups</li>
<li><strong>ECS Cluster</strong> (Fargate option): Serverless container orchestration cluster</li>
<li><strong>EC2 Instances</strong> (VM option): Virtual machines running Corridor components</li>
<li><strong>Application Load Balancer (ALB)</strong>: HTTP(S) load balancing and SSL termination</li>
<li><strong>Target Groups</strong>: Backend service routing configuration</li>
</ul>
<h3 id="storage-resources">Storage Resources<a class="headerlink" href="#storage-resources" title="Permanent link"></a></h3>
<ul>
<li><strong>Amazon RDS PostgreSQL</strong>: Managed database for metadata storage (Multi-AZ for production)</li>
<li><strong>Amazon EFS</strong>: Network file system for persistent storage (EKS/Fargate deployments)</li>
<li><strong>Amazon S3</strong>: Object storage for file management and backups</li>
<li><strong>EBS Volumes</strong>: Block storage for EC2 instances</li>
</ul>
<h3 id="application-components">Application Components<a class="headerlink" href="#application-components" title="Permanent link"></a></h3>
<ul>
<li><strong>corridor-app</strong>: Web application server providing the analytical UI</li>
<li><strong>corridor-api</strong>: API server for business logic</li>
<li><strong>corridor-worker-api</strong>: Celery worker for asynchronous API tasks</li>
<li><strong>corridor-worker-spark</strong>: Celery worker for asynchronous Spark tasks</li>
<li><strong>corridor-jupyter</strong>: Jupyter Notebook server for analytical use</li>
<li><strong>Redis</strong>: Message queue for task orchestration</li>
</ul>
<h3 id="supporting-services">Supporting Services<a class="headerlink" href="#supporting-services" title="Permanent link"></a></h3>
<ul>
<li><strong>Route 53</strong>: Domain name management and DNS configuration</li>
<li><strong>AWS Secrets Manager</strong>: Secure storage for sensitive configuration and credentials</li>
<li><strong>CloudWatch</strong>: Logging, monitoring, and alerting</li>
<li><strong>AWS WAF</strong>: Web application firewall for DDoS protection</li>
<li><strong>CloudFront</strong>: Content delivery network for static asset caching (optional)</li>
<li><strong>cert-manager</strong>: Automated TLS certificate management (EKS deployments)</li>
</ul>
<h3 id="post-deployment-resources">Post-Deployment Resources<a class="headerlink" href="#post-deployment-resources" title="Permanent link"></a></h3>
<ul>
<li><strong>IAM Roles and Policies</strong>: Service roles for AWS resource access</li>
<li><strong>Service Accounts</strong>: Kubernetes service accounts (EKS deployments)</li>
<li><strong>ConfigMaps and Secrets</strong>: Kubernetes configuration management (EKS deployments)</li>
<li><strong>Ingress Resources</strong>: HTTP routing configuration (EKS deployments)</li>
</ul>
<p>Upon completion of deployment, customers have a fully functional Corridor instance accessible via HTTPS with all components running, database initialized, and monitoring configured.</p>
<h2 id="deployment-options">Deployment Options<a class="headerlink" href="#deployment-options" title="Permanent link"></a></h2>
<p>Corridor supports multiple deployment configurations on AWS to meet different availability and geographic requirements:</p>
<h3 id="single-availability-zone-single-az">Single-Availability Zone (Single-AZ)<a class="headerlink" href="#single-availability-zone-single-az" title="Permanent link"></a></h3>
<p>A single-AZ deployment runs all resources within a single AWS Availability Zone. This configuration is suitable for:</p>
<ul>
<li>Development and testing environments</li>
<li>Non-production workloads</li>
<li>Cost-optimized deployments</li>
<li>Scenarios where downtime tolerance is acceptable</li>
</ul>
<p><strong>Characteristics:</strong>
- Lower cost (no cross-AZ data transfer fees)
- Simpler network configuration
- Single point of failure for infrastructure components
- RDS can be configured as single-AZ (not recommended for production)</p>
<h3 id="multi-availability-zone-multi-az">Multi-Availability Zone (Multi-AZ)<a class="headerlink" href="#multi-availability-zone-multi-az" title="Permanent link"></a></h3>
<p>A multi-AZ deployment distributes resources across multiple Availability Zones within a single AWS Region. This configuration provides:</p>
<ul>
<li>High availability and fault tolerance</li>
<li>Automatic failover capabilities</li>
<li>Production-ready resilience</li>
<li>Data redundancy</li>
</ul>
<p><strong>Characteristics:</strong>
- RDS Multi-AZ deployment with automatic failover
- Application Load Balancer across multiple AZs
- EFS mount targets in each AZ
- EKS nodes distributed across AZs
- Higher cost due to cross-AZ data transfer</p>
<p><strong>Recommended for:</strong> Production environments requiring high availability.</p>
<h3 id="multi-region">Multi-Region<a class="headerlink" href="#multi-region" title="Permanent link"></a></h3>
<p>A multi-region deployment spans multiple AWS Regions for disaster recovery and geographic distribution. This configuration provides:</p>
<ul>
<li>Geographic redundancy and disaster recovery</li>
<li>Reduced latency for global users</li>
<li>Compliance with data residency requirements</li>
<li>Cross-region failover capabilities</li>
</ul>
<p><strong>Characteristics:</strong>
- Primary and secondary region deployments
- Cross-region data replication
- Route 53 health checks and failover routing
- More complex networking and data synchronization
- Highest cost due to cross-region data transfer</p>
<p><strong>Recommended for:</strong> Enterprise deployments requiring disaster recovery and global presence.</p>
<p>All three deployment options (EKS, ECS Fargate, and EC2) support single-AZ, multi-AZ, and multi-region configurations. The specific implementation details vary by deployment method and are documented in the respective installation guides.</p>
<h2 id="expected-deployment-time">Expected Deployment Time<a class="headerlink" href="#expected-deployment-time" title="Permanent link"></a></h2>
<p>The expected time to complete a Corridor deployment on AWS is <strong>30 minutes</strong> for a standard single-AZ or multi-AZ deployment. This includes:</p>
<ul>
<li>Infrastructure provisioning (VPC, subnets, security groups)</li>
<li>Database setup (RDS PostgreSQL)</li>
<li>Storage configuration (EFS or S3)</li>
<li>Application component deployment</li>
<li>Initial configuration and verification</li>
</ul>
<p><strong>Note:</strong> Multi-region deployments may take longer (typically 45-60 minutes) due to additional networking and replication setup requirements.</p>
<p>Actual deployment time may vary based on:
- AWS service provisioning times
- Network configuration complexity
- Size of deployment (number of nodes/instances)
- Automation tooling used (Terraform, CloudFormation, etc.)</p>
<h2 id="supported-aws-regions">Supported AWS Regions<a class="headerlink" href="#supported-aws-regions" title="Permanent link"></a></h2>
<p>Corridor can be deployed in all AWS Regions where the required services (EKS, ECS, EC2, RDS, EFS, S3) are available. Supported regions include:</p>
<h3 id="us-regions">US Regions<a class="headerlink" href="#us-regions" title="Permanent link"></a></h3>
<ul>
<li><strong>US East (N. Virginia)</strong> - <code>us-east-1</code></li>
<li><strong>US East (Ohio)</strong> - <code>us-east-2</code></li>
<li><strong>US West (N. California)</strong> - <code>us-west-1</code></li>
<li><strong>US West (Oregon)</strong> - <code>us-west-2</code></li>
</ul>
<h3 id="europe-regions">Europe Regions<a class="headerlink" href="#europe-regions" title="Permanent link"></a></h3>
<ul>
<li><strong>Europe (Ireland)</strong> - <code>eu-west-1</code></li>
<li><strong>Europe (London)</strong> - <code>eu-west-2</code></li>
<li><strong>Europe (Frankfurt)</strong> - <code>eu-central-1</code></li>
<li><strong>Europe (Paris)</strong> - <code>eu-west-3</code></li>
<li><strong>Europe (Stockholm)</strong> - <code>eu-north-1</code></li>
<li><strong>Europe (Milan)</strong> - <code>eu-south-1</code></li>
</ul>
<h3 id="asia-pacific-regions">Asia Pacific Regions<a class="headerlink" href="#asia-pacific-regions" title="Permanent link"></a></h3>
<ul>
<li><strong>Asia Pacific (Tokyo)</strong> - <code>ap-northeast-1</code></li>
<li><strong>Asia Pacific (Seoul)</strong> - <code>ap-northeast-2</code></li>
<li><strong>Asia Pacific (Singapore)</strong> - <code>ap-southeast-1</code></li>
<li><strong>Asia Pacific (Sydney)</strong> - <code>ap-southeast-2</code></li>
<li><strong>Asia Pacific (Mumbai)</strong> - <code>ap-south-1</code></li>
<li><strong>Asia Pacific (Hong Kong)</strong> - <code>ap-east-1</code></li>
</ul>
<h3 id="other-regions">Other Regions<a class="headerlink" href="#other-regions" title="Permanent link"></a></h3>
<ul>
<li><strong>Canada (Central)</strong> - <code>ca-central-1</code></li>
<li><strong>South America (So Paulo)</strong> - <code>sa-east-1</code></li>
<li><strong>Middle East (Bahrain)</strong> - <code>me-south-1</code></li>
<li><strong>Middle East (UAE)</strong> - <code>me-central-1</code></li>
<li><strong>Africa (Cape Town)</strong> - <code>af-south-1</code></li>
</ul>
<p><strong>Note:</strong> Some AWS services may have limited availability in certain regions. Verify service availability in your target region before deployment. For the most current list of supported regions and service availability, refer to the <a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/">AWS Regional Services List</a>.</p>
<h2 id="cost-and-licensing">Cost and Licensing<a class="headerlink" href="#cost-and-licensing" title="Permanent link"></a></h2>
<p>This section provides information about AWS billable services, cost models, and licensing costs for Corridor deployments on AWS.</p>
<h3 id="billable-aws-services">Billable AWS Services<a class="headerlink" href="#billable-aws-services" title="Permanent link"></a></h3>
<p>The following AWS services are used in Corridor deployments. Each service is categorized as mandatory or optional:</p>
<h4 id="mandatory-services">Mandatory Services<a class="headerlink" href="#mandatory-services" title="Permanent link"></a></h4>
<p><strong>Compute Services:</strong></p>
<ul>
<li><strong>Amazon EKS</strong> (Kubernetes deployments) - <strong>Mandatory</strong></li>
<li><strong>Cost Model</strong>: Cluster management fee ($0.10/hour per cluster) + EC2 node costs</li>
<li><strong>Billing</strong>: Hourly charges for cluster management and node instances</li>
<li>
<p><strong>Notes</strong>: Required for EKS-based deployments</p>
</li>
<li>
<p><strong>Amazon ECS Fargate</strong> (Serverless deployments) - <strong>Mandatory</strong></p>
</li>
<li><strong>Cost Model</strong>: Pay-per-use based on vCPU and memory resources consumed</li>
<li><strong>Billing</strong>: Charges for vCPU-hours and GB-hours of memory</li>
<li>
<p><strong>Notes</strong>: Required for Fargate-based deployments</p>
</li>
<li>
<p><strong>Amazon EC2</strong> (VM deployments) - <strong>Mandatory</strong></p>
</li>
<li><strong>Cost Model</strong>: On-demand or reserved instance pricing based on instance type</li>
<li><strong>Billing</strong>: Hourly charges for running instances</li>
<li><strong>Notes</strong>: Required for EC2-based deployments</li>
</ul>
<p><strong>Database Services:</strong></p>
<ul>
<li><strong>Amazon RDS PostgreSQL</strong> - <strong>Mandatory</strong></li>
<li><strong>Cost Model</strong>: Instance pricing based on instance class, storage, and Multi-AZ configuration</li>
<li><strong>Billing</strong>: Hourly charges for database instances + storage costs</li>
<li><strong>Notes</strong>: Required for all deployment types. Multi-AZ adds ~2x cost for high availability</li>
</ul>
<p><strong>Storage Services:</strong></p>
<ul>
<li><strong>Amazon EFS</strong> (EKS/Fargate deployments) - <strong>Mandatory</strong></li>
<li><strong>Cost Model</strong>: Pay-per-use based on storage capacity (GB-month) + data transfer costs</li>
<li><strong>Billing</strong>: Monthly charges for storage + data transfer fees</li>
<li>
<p><strong>Notes</strong>: Required for EKS and Fargate deployments for persistent file storage</p>
</li>
<li>
<p><strong>Amazon EBS</strong> (EC2 deployments) - <strong>Mandatory</strong></p>
</li>
<li><strong>Cost Model</strong>: Volume pricing based on volume type and size (GB-month)</li>
<li><strong>Billing</strong>: Monthly charges for provisioned storage</li>
<li>
<p><strong>Notes</strong>: Required for EC2 deployments for local storage</p>
</li>
<li>
<p><strong>Amazon S3</strong> - <strong>Mandatory</strong></p>
</li>
<li><strong>Cost Model</strong>: Pay-per-use based on storage (GB-month), requests, and data transfer</li>
<li><strong>Billing</strong>: Monthly charges for storage, PUT/GET requests, and data transfer</li>
<li><strong>Notes</strong>: Required for backups and optional file storage</li>
</ul>
<p><strong>Networking Services:</strong></p>
<ul>
<li><strong>Application Load Balancer (ALB)</strong> - <strong>Mandatory</strong></li>
<li><strong>Cost Model</strong>: Hourly charges + data processing charges (per GB)</li>
<li><strong>Billing</strong>: Hourly charges for load balancer + charges for data processed</li>
<li>
<p><strong>Notes</strong>: Required for all deployments to provide HTTPS access</p>
</li>
<li>
<p><strong>NAT Gateway</strong> - <strong>Mandatory</strong></p>
</li>
<li><strong>Cost Model</strong>: Hourly charges + data processing charges (per GB)</li>
<li><strong>Billing</strong>: Hourly charges + charges for data processed through NAT Gateway</li>
<li>
<p><strong>Notes</strong>: Required for outbound internet access from private subnets</p>
</li>
<li>
<p><strong>VPC</strong> - <strong>Mandatory</strong> (No additional charge)</p>
</li>
<li><strong>Cost Model</strong>: No additional charge for VPC itself</li>
<li><strong>Billing</strong>: Included in AWS account (no separate charge)</li>
<li>
<p><strong>Notes</strong>: Required for network isolation. Charges apply to resources within VPC</p>
</li>
<li>
<p><strong>Data Transfer</strong> - <strong>Mandatory</strong> (Usage-based)</p>
</li>
<li><strong>Cost Model</strong>: Charges for data transfer out of AWS (per GB)</li>
<li><strong>Billing</strong>: Charges for internet data transfer, cross-AZ transfer, cross-region transfer</li>
<li><strong>Notes</strong>: Charges apply based on actual data transfer usage</li>
</ul>
<h4 id="optional-services">Optional Services<a class="headerlink" href="#optional-services" title="Permanent link"></a></h4>
<p><strong>DNS and Domain Services:</strong></p>
<ul>
<li><strong>Amazon Route 53</strong> - <strong>Optional</strong></li>
<li><strong>Cost Model</strong>: Hosted zone charges ($0.50/month) + query charges ($0.40 per million queries)</li>
<li><strong>Billing</strong>: Monthly charges for hosted zones + per-query charges</li>
<li><strong>Notes</strong>: Optional if using external DNS provider (e.g., Cloudflare, GoDaddy)</li>
</ul>
<p><strong>Security and Compliance Services:</strong></p>
<ul>
<li><strong>AWS Secrets Manager</strong> - <strong>Optional</strong></li>
<li><strong>Cost Model</strong>: $0.40 per secret per month + $0.05 per 10,000 API calls</li>
<li><strong>Billing</strong>: Monthly charges per secret + API call charges</li>
<li>
<p><strong>Notes</strong>: Optional but recommended for secure credential management. Can use environment variables or configuration files instead</p>
</li>
<li>
<p><strong>AWS WAF</strong> - <strong>Optional</strong></p>
</li>
<li><strong>Cost Model</strong>: $5 per web ACL per month + $1 per million requests</li>
<li><strong>Billing</strong>: Monthly charges for web ACLs + per-request charges</li>
<li><strong>Notes</strong>: Optional but recommended for production deployments for DDoS protection</li>
</ul>
<p><strong>Monitoring and Logging Services:</strong></p>
<ul>
<li><strong>Amazon CloudWatch</strong> - <strong>Optional</strong></li>
<li><strong>Cost Model</strong>: Free tier includes 10 custom metrics, 5 GB log ingestion, 10 GB log storage. Beyond free tier: $0.30 per custom metric, $0.50 per GB log ingestion, $0.03 per GB log storage</li>
<li><strong>Billing</strong>: Charges for metrics, log ingestion, and log storage beyond free tier</li>
<li>
<p><strong>Notes</strong>: Optional but recommended for production monitoring. Basic monitoring is included with EC2/EKS</p>
</li>
<li>
<p><strong>CloudWatch Logs Insights</strong> - <strong>Optional</strong></p>
</li>
<li><strong>Cost Model</strong>: $0.005 per GB of data scanned</li>
<li><strong>Billing</strong>: Charges for log data scanned during queries</li>
<li><strong>Notes</strong>: Optional for advanced log analysis</li>
</ul>
<p><strong>Content Delivery:</strong></p>
<ul>
<li><strong>Amazon CloudFront</strong> - <strong>Optional</strong></li>
<li><strong>Cost Model</strong>: Pay-per-use based on data transfer (per GB) and requests (per 10,000 requests)</li>
<li><strong>Billing</strong>: Charges for data transfer out + request charges</li>
<li><strong>Notes</strong>: Optional for static asset caching and CDN functionality</li>
</ul>
<p><strong>Key Management:</strong></p>
<ul>
<li><strong>AWS KMS</strong> - <strong>Optional</strong> (but recommended for encryption)</li>
<li><strong>Cost Model</strong>: $1 per month per customer-managed key + $0.03 per 10,000 API requests</li>
<li><strong>Billing</strong>: Monthly charges for keys + API request charges</li>
<li><strong>Notes</strong>: Optional if using AWS-managed keys (free). Required for customer-managed encryption keys</li>
</ul>
<p><strong>Certificate Management:</strong></p>
<ul>
<li><strong>AWS Certificate Manager (ACM)</strong> - <strong>Optional</strong> (but recommended)</li>
<li><strong>Cost Model</strong>: Free for public SSL/TLS certificates</li>
<li><strong>Billing</strong>: No charge for public certificates</li>
<li><strong>Notes</strong>: Optional if using Let's Encrypt (via cert-manager). Recommended for simplified certificate management</li>
</ul>
<h3 id="cost-model">Cost Model<a class="headerlink" href="#cost-model" title="Permanent link"></a></h3>
<p>Corridor deployments on AWS follow a pay-as-you-go cost model with the following cost components:</p>
<p><strong>Infrastructure Costs:</strong></p>
<ul>
<li><strong>Compute</strong>: Costs vary by deployment method:</li>
<li><strong>EKS</strong>: Cluster management fee + EC2 node costs (on-demand or reserved instances)</li>
<li><strong>ECS Fargate</strong>: Pay-per-use based on vCPU and memory consumed</li>
<li>
<p><strong>EC2</strong>: On-demand or reserved instance pricing based on instance type and size</p>
</li>
<li>
<p><strong>Database</strong>: RDS PostgreSQL instance costs based on:</p>
</li>
<li>Instance class (e.g., db.t3.medium, db.t3.xlarge)</li>
<li>Storage type and size (gp3, io1, io2)</li>
<li>Multi-AZ configuration (adds ~2x cost for high availability)</li>
<li>
<p>Backup storage (first 100% of provisioned storage is free)</p>
</li>
<li>
<p><strong>Storage</strong>: </p>
</li>
<li><strong>EFS</strong>: Pay-per-use based on storage capacity (Standard tier: ~$0.30/GB-month)</li>
<li><strong>EBS</strong>: Provisioned storage costs (gp3: ~$0.08/GB-month)</li>
<li><strong>S3</strong>: Tiered pricing based on storage class (Standard: ~$0.023/GB-month)</li>
</ul>
<p><strong>Network Costs:</strong></p>
<ul>
<li><strong>Load Balancer</strong>: Hourly charges (~$0.0225/hour) + data processing charges (~$0.008/GB)</li>
<li><strong>NAT Gateway</strong>: Hourly charges (~$0.045/hour) + data processing charges (~$0.045/GB)</li>
<li><strong>Data Transfer</strong>: </li>
<li>Internet data transfer out: First 100 GB/month free, then ~$0.09/GB</li>
<li>Cross-AZ data transfer: ~$0.01/GB</li>
<li>Cross-region data transfer: ~$0.02/GB</li>
</ul>
<p><strong>Operational Costs:</strong></p>
<ul>
<li><strong>Monitoring</strong>: CloudWatch charges for metrics, logs, and alarms (free tier available)</li>
<li><strong>Backup</strong>: RDS backup storage costs (first 100% of provisioned storage free)</li>
<li><strong>Secrets Management</strong>: Secrets Manager charges if used (~$0.40/secret/month)</li>
</ul>
<p><strong>Cost Optimization Recommendations:</strong></p>
<ol>
<li><strong>Use Reserved Instances</strong>: For predictable workloads, use EC2 or RDS Reserved Instances to save up to 75% compared to on-demand pricing</li>
<li><strong>Right-Size Resources</strong>: Start with minimum required resources and scale based on actual usage</li>
<li><strong>Use Spot Instances</strong>: For non-production environments, consider EC2 Spot Instances for EKS nodes (up to 90% savings)</li>
<li><strong>Optimize Storage</strong>: Use appropriate storage classes (S3 Intelligent-Tiering, EFS Infrequent Access) for cost optimization</li>
<li><strong>Monitor Costs</strong>: Set up AWS Cost Explorer and billing alerts to track and optimize spending</li>
<li><strong>Single-AZ for Development</strong>: Use single-AZ deployments for development/testing to reduce costs</li>
<li><strong>Data Transfer Optimization</strong>: Minimize cross-AZ and cross-region data transfer where possible</li>
</ol>
<p><strong>Estimated Monthly Costs</strong> (Example - Production Multi-AZ Deployment):</p>
<ul>
<li><strong>Small Deployment</strong> (10-50 users):</li>
<li>Compute: $200-400/month</li>
<li>Database: $150-300/month</li>
<li>Storage: $50-100/month</li>
<li>Networking: $50-100/month</li>
<li>
<p><strong>Total</strong>: ~$450-900/month</p>
</li>
<li>
<p><strong>Medium Deployment</strong> (50-200 users):</p>
</li>
<li>Compute: $400-800/month</li>
<li>Database: $300-600/month</li>
<li>Storage: $100-200/month</li>
<li>Networking: $100-200/month</li>
<li>
<p><strong>Total</strong>: ~$900-1,800/month</p>
</li>
<li>
<p><strong>Large Deployment</strong> (200+ users):</p>
</li>
<li>Compute: $800-2,000/month</li>
<li>Database: $600-1,200/month</li>
<li>Storage: $200-500/month</li>
<li>Networking: $200-400/month</li>
<li><strong>Total</strong>: ~$1,800-4,100/month</li>
</ul>
<p><strong>Note:</strong> Actual costs vary significantly based on:
- Deployment method (EKS vs ECS vs EC2)
- Instance sizes and types
- Data transfer volumes
- Storage requirements
- Multi-AZ vs single-AZ configuration
- Region selected
- Reserved Instance usage</p>
<p>Use the <a href="https://calculator.aws/">AWS Pricing Calculator</a> for accurate cost estimates based on your specific requirements.</p>
<h3 id="licensing-costs">Licensing Costs<a class="headerlink" href="#licensing-costs" title="Permanent link"></a></h3>
<p><strong>Corridor Software Licensing:</strong></p>
<ul>
<li><strong>License Model</strong>: Corridor GenGuardX is licensed on a subscription basis</li>
<li><strong>Pricing</strong>: Contact Corridor sales for current licensing pricing and terms</li>
<li><strong>License Components</strong>: </li>
<li>Base platform license (required)</li>
<li>Optional add-ons and premium features</li>
<li>Support and maintenance (included or optional tier)</li>
<li><strong>License Scope</strong>: License covers the Corridor software platform and does not include AWS infrastructure costs</li>
<li><strong>Billing</strong>: Licensing costs are separate from AWS infrastructure costs and billed directly by Corridor</li>
</ul>
<p><strong>Third-Party Software Licensing:</strong></p>
<ul>
<li><strong>PostgreSQL</strong>: Open-source (no license cost when using Amazon RDS)</li>
<li><strong>Redis</strong>: Open-source (no license cost)</li>
<li><strong>Python</strong>: Open-source (no license cost)</li>
<li><strong>Java</strong>: Open-source OpenJDK (no license cost)</li>
<li><strong>Apache Spark</strong>: Open-source (no license cost)</li>
<li><strong>Kubernetes</strong>: Open-source (no license cost when using Amazon EKS)</li>
</ul>
<p><strong>AWS Service Licensing:</strong></p>
<ul>
<li>All AWS services are billed on a pay-as-you-go basis with no upfront licensing fees</li>
<li>AWS services do not require separate software licenses</li>
<li>Charges are based on actual usage of AWS resources</li>
</ul>
<p><strong>Total Cost of Ownership (TCO):</strong></p>
<p>The total cost of running Corridor on AWS includes:
1. <strong>Corridor Software License</strong>: Subscription fee (contact sales for pricing)
2. <strong>AWS Infrastructure Costs</strong>: Pay-as-you-go charges for AWS services (see cost estimates above)
3. <strong>Support Costs</strong>: Included in license or optional support tiers
4. <strong>Operational Costs</strong>: Staff time for deployment, maintenance, and operations</p>
<p><strong>Note:</strong> For accurate licensing pricing and terms, please contact Corridor sales or your account representative.</p>
<h2 id="resource-sizing-and-provisioning">Resource Sizing and Provisioning<a class="headerlink" href="#resource-sizing-and-provisioning" title="Permanent link"></a></h2>
<p>This section provides guidance on selecting the appropriate type and size for AWS resources required for Corridor deployments. Automated provisioning scripts and Infrastructure-as-Code (IaC) templates are available in the detailed installation guides for each deployment method.</p>
<h3 id="resource-provisioning-options">Resource Provisioning Options<a class="headerlink" href="#resource-provisioning-options" title="Permanent link"></a></h3>
<p>Corridor provides two approaches for provisioning AWS resources:</p>
<ol>
<li>
<p><strong>Automated Provisioning Scripts</strong>: Terraform and CloudFormation templates are available in the detailed installation guides (<a href="aws-eks/">EKS</a>, <a href="aws-fargate/">ECS Fargate</a>, <a href="aws-ec2/">EC2</a>) that automate the creation of all required resources.</p>
</li>
<li>
<p><strong>Manual Provisioning Guidance</strong>: Detailed guidance below for selecting resource types and sizes when provisioning manually or customizing automated scripts.</p>
</li>
</ol>
<h3 id="compute-resource-sizing">Compute Resource Sizing<a class="headerlink" href="#compute-resource-sizing" title="Permanent link"></a></h3>
<h4 id="eks-deployments">EKS Deployments<a class="headerlink" href="#eks-deployments" title="Permanent link"></a></h4>
<p><strong>EKS Cluster:</strong></p>
<ul>
<li><strong>Type</strong>: Amazon EKS (Managed Kubernetes Service)</li>
<li><strong>Sizing</strong>: Single cluster per environment (development, staging, production)</li>
</ul>
<p><strong>Node Groups:</strong></p>
<ul>
<li><strong>Development/Testing</strong>: </li>
<li>Instance Type: <code>m5.large</code> or <code>m5.xlarge</code></li>
<li>Node Count: 2-3 nodes</li>
<li>
<p>Auto-scaling: Min 2, Max 5 nodes</p>
</li>
<li>
<p><strong>Production (Small - 10-50 users)</strong>:</p>
</li>
<li>Instance Type: <code>m5.xlarge</code> (4 vCPU, 16 GB RAM)</li>
<li>Node Count: 3 nodes (minimum for high availability)</li>
<li>
<p>Auto-scaling: Min 3, Max 8 nodes</p>
</li>
<li>
<p><strong>Production (Medium - 50-200 users)</strong>:</p>
</li>
<li>Instance Type: <code>m5.2xlarge</code> (8 vCPU, 32 GB RAM)</li>
<li>Node Count: 3-5 nodes</li>
<li>
<p>Auto-scaling: Min 3, Max 12 nodes</p>
</li>
<li>
<p><strong>Production (Large - 200+ users)</strong>:</p>
</li>
<li>Instance Type: <code>m5.4xlarge</code> (16 vCPU, 64 GB RAM) or <code>m5.8xlarge</code> (32 vCPU, 128 GB RAM)</li>
<li>Node Count: 5+ nodes</li>
<li>Auto-scaling: Min 5, Max 20 nodes</li>
</ul>
<p><strong>Selection Criteria:</strong>
- Start with <code>m5.xlarge</code> for production and scale based on actual usage
- Use <code>m5</code> instance family for general-purpose workloads
- Consider <code>c5</code> instances if CPU-intensive, <code>r5</code> if memory-intensive
- Distribute nodes across multiple availability zones for high availability</p>
<h4 id="ecs-fargate-deployments">ECS Fargate Deployments<a class="headerlink" href="#ecs-fargate-deployments" title="Permanent link"></a></h4>
<p><strong>ECS Cluster:</strong>
- <strong>Type</strong>: Amazon ECS with Fargate launch type
- <strong>Sizing</strong>: Single cluster per environment</p>
<p><strong>Task Definitions (CPU and Memory):</strong>
- <strong>Development/Testing</strong>:
  - <strong>corridor-app</strong>: 1 vCPU, 2 GB memory
  - <strong>corridor-worker</strong>: 1 vCPU, 2 GB memory
  - <strong>corridor-jupyter</strong>: 1 vCPU, 2 GB memory
  - <strong>redis</strong>: 0.5 vCPU, 1 GB memory
- <strong>Production (Small - 10-50 users)</strong>:
  - <strong>corridor-app</strong>: 2 vCPU, 4 GB memory
  - <strong>corridor-worker</strong>: 2 vCPU, 4 GB memory
  - <strong>corridor-jupyter</strong>: 2 vCPU, 4 GB memory
  - <strong>redis</strong>: 1 vCPU, 2 GB memory
- <strong>Production (Medium - 50-200 users)</strong>:
  - <strong>corridor-app</strong>: 4 vCPU, 8 GB memory
  - <strong>corridor-worker</strong>: 4 vCPU, 8 GB memory (scale horizontally)
  - <strong>corridor-jupyter</strong>: 4 vCPU, 8 GB memory
  - <strong>redis</strong>: 2 vCPU, 4 GB memory
- <strong>Production (Large - 200+ users)</strong>:
  - <strong>corridor-app</strong>: 4-8 vCPU, 8-16 GB memory
  - <strong>corridor-worker</strong>: 4-8 vCPU, 8-16 GB memory (scale horizontally)
  - <strong>corridor-jupyter</strong>: 4-8 vCPU, 8-16 GB memory
  - <strong>redis</strong>: 2-4 vCPU, 4-8 GB memory</p>
<p><strong>Selection Criteria:</strong>
- Start with smaller sizes and use auto-scaling to scale based on demand
- Fargate automatically scales tasks based on CPU and memory utilization
- Monitor CloudWatch metrics to optimize task sizes</p>
<h4 id="ec2-deployments">EC2 Deployments<a class="headerlink" href="#ec2-deployments" title="Permanent link"></a></h4>
<p><strong>EC2 Instances:</strong>
- <strong>Development/Testing</strong>:
  - Instance Type: <code>t3.xlarge</code> (4 vCPU, 16 GB RAM)
  - Instance Count: 1 instance
- <strong>Production (Small - 10-50 users)</strong>:
  - Instance Type: <code>t3.2xlarge</code> (8 vCPU, 32 GB RAM) - <strong>Recommended minimum</strong>
  - Instance Count: 1 instance (can add more for high availability)
- <strong>Production (Medium - 50-200 users)</strong>:
  - Instance Type: <code>m5.2xlarge</code> (8 vCPU, 32 GB RAM) or <code>m5.4xlarge</code> (16 vCPU, 64 GB RAM)
  - Instance Count: 1-2 instances
- <strong>Production (Large - 200+ users)</strong>:
  - Instance Type: <code>m5.4xlarge</code> (16 vCPU, 64 GB RAM) or <code>m5.8xlarge</code> (32 vCPU, 128 GB RAM)
  - Instance Count: 2+ instances (load balanced)</p>
<p><strong>Selection Criteria:</strong>
- Use <code>t3</code> instances for burstable workloads (development, small production)
- Use <code>m5</code> instances for consistent performance requirements (medium/large production)
- Consider <code>c5</code> instances for CPU-intensive workloads, <code>r5</code> for memory-intensive workloads
- Ensure instance meets minimum requirements: 4 GB RAM, 4 CPU cores (see <a href="#technical-prerequisites-and-requirements">Technical Prerequisites and Requirements</a>)</p>
<h3 id="database-resource-sizing">Database Resource Sizing<a class="headerlink" href="#database-resource-sizing" title="Permanent link"></a></h3>
<p><strong>Amazon RDS PostgreSQL:</strong></p>
<ul>
<li><strong>Development/Testing</strong>:</li>
<li>Instance Class: <code>db.t3.medium</code> (2 vCPU, 4 GB RAM)</li>
<li>Storage: 20-50 GB (gp3)</li>
<li>Multi-AZ: Disabled (single-AZ)</li>
<li><strong>Production (Small - 10-50 users)</strong>:</li>
<li>Instance Class: <code>db.t3.xlarge</code> (4 vCPU, 16 GB RAM) - <strong>Recommended minimum</strong></li>
<li>Storage: 100 GB (gp3)</li>
<li>Multi-AZ: Enabled (recommended)</li>
<li><strong>Production (Medium - 50-200 users)</strong>:</li>
<li>Instance Class: <code>db.m5.xlarge</code> (4 vCPU, 16 GB RAM) or <code>db.m5.2xlarge</code> (8 vCPU, 32 GB RAM)</li>
<li>Storage: 200-500 GB (gp3)</li>
<li>Multi-AZ: Enabled</li>
<li><strong>Production (Large - 200+ users)</strong>:</li>
<li>Instance Class: <code>db.m5.2xlarge</code> (8 vCPU, 32 GB RAM) or <code>db.m5.4xlarge</code> (16 vCPU, 64 GB RAM)</li>
<li>Storage: 500 GB - 1 TB (gp3 or io1/io2 for high IOPS)</li>
<li>Multi-AZ: Enabled</li>
</ul>
<p><strong>Storage Type Selection:</strong>
- <strong>gp3</strong>: General-purpose SSD (recommended for most workloads)
- <strong>io1/io2</strong>: Provisioned IOPS SSD (for high-performance database workloads requiring consistent IOPS)</p>
<p><strong>Selection Criteria:</strong>
- Start with <code>db.t3.xlarge</code> for production and scale based on database performance metrics
- Monitor CloudWatch metrics (CPUUtilization, DatabaseConnections, ReadLatency, WriteLatency)
- Enable Multi-AZ for production environments for high availability
- Provisioned storage can be increased without downtime (storage autoscaling recommended)</p>
<h3 id="storage-resource-sizing">Storage Resource Sizing<a class="headerlink" href="#storage-resource-sizing" title="Permanent link"></a></h3>
<h4 id="amazon-efs-eksfargate-deployments">Amazon EFS (EKS/Fargate Deployments)<a class="headerlink" href="#amazon-efs-eksfargate-deployments" title="Permanent link"></a></h4>
<ul>
<li><strong>Development/Testing</strong>:</li>
<li>Storage: 50-100 GB</li>
<li>Performance Mode: General Purpose</li>
<li>Throughput Mode: Bursting</li>
<li><strong>Production (Small - 10-50 users)</strong>:</li>
<li>Storage: 100-500 GB</li>
<li>Performance Mode: General Purpose</li>
<li>Throughput Mode: Bursting or Provisioned (if consistent performance needed)</li>
<li><strong>Production (Medium - 50-200 users)</strong>:</li>
<li>Storage: 500 GB - 2 TB</li>
<li>Performance Mode: General Purpose</li>
<li>Throughput Mode: Provisioned (for consistent performance)</li>
<li><strong>Production (Large - 200+ users)</strong>:</li>
<li>Storage: 2 TB+</li>
<li>Performance Mode: General Purpose or Max I/O (for high concurrency)</li>
<li>Throughput Mode: Provisioned</li>
</ul>
<p><strong>Selection Criteria:</strong>
- EFS storage scales automatically (pay for what you use)
- Use General Purpose performance mode for most workloads
- Use Max I/O performance mode for applications with high levels of aggregate throughput and operations per second
- Enable lifecycle management to move infrequently accessed files to Infrequent Access (IA) storage class</p>
<h4 id="amazon-ebs-ec2-deployments">Amazon EBS (EC2 Deployments)<a class="headerlink" href="#amazon-ebs-ec2-deployments" title="Permanent link"></a></h4>
<ul>
<li><strong>Development/Testing</strong>:</li>
<li>Volume Size: 50-100 GB</li>
<li>Volume Type: gp3</li>
<li>IOPS: 3,000 (gp3 baseline)</li>
<li><strong>Production (Small - 10-50 users)</strong>:</li>
<li>Volume Size: 100-200 GB</li>
<li>Volume Type: gp3</li>
<li>IOPS: 3,000-6,000</li>
<li><strong>Production (Medium - 50-200 users)</strong>:</li>
<li>Volume Size: 200-500 GB</li>
<li>Volume Type: gp3 or io1/io2</li>
<li>IOPS: 6,000-10,000</li>
<li><strong>Production (Large - 200+ users)</strong>:</li>
<li>Volume Size: 500 GB - 1 TB</li>
<li>Volume Type: gp3 or io1/io2</li>
<li>IOPS: 10,000+</li>
</ul>
<p><strong>Selection Criteria:</strong>
- Use gp3 for most workloads (cost-effective, good performance)
- Use io1/io2 for workloads requiring consistent IOPS (database workloads, high-transaction applications)
- Enable encryption at rest for all EBS volumes
- Monitor CloudWatch metrics (VolumeReadOps, VolumeWriteOps, VolumeQueueLength)</p>
<h4 id="amazon-s3">Amazon S3<a class="headerlink" href="#amazon-s3" title="Permanent link"></a></h4>
<ul>
<li><strong>Development/Testing</strong>:</li>
<li>Storage: 10-50 GB</li>
<li>Storage Class: Standard</li>
<li><strong>Production</strong>:</li>
<li>Storage: Varies based on backup retention and file storage needs</li>
<li>Storage Class: Standard (frequently accessed), Intelligent-Tiering (unknown access patterns), Standard-IA (infrequently accessed)</li>
</ul>
<p><strong>Selection Criteria:</strong>
- Use Standard storage class for frequently accessed data
- Use Intelligent-Tiering for data with unknown or changing access patterns
- Use Standard-IA or Glacier for backups and archival data
- Enable lifecycle policies to automatically transition objects to appropriate storage classes</p>
<h3 id="network-resource-sizing">Network Resource Sizing<a class="headerlink" href="#network-resource-sizing" title="Permanent link"></a></h3>
<h4 id="application-load-balancer-alb">Application Load Balancer (ALB)<a class="headerlink" href="#application-load-balancer-alb" title="Permanent link"></a></h4>
<ul>
<li><strong>Type</strong>: Application Load Balancer</li>
<li><strong>Sizing</strong>: Single ALB per environment (can handle high traffic volumes)</li>
<li><strong>Configuration</strong>:</li>
<li>Scheme: Internet-facing</li>
<li>IP Address Type: IPv4</li>
<li>Subnets: Public subnets across multiple availability zones</li>
<li>Security Groups: Allow HTTPS (443) and HTTP (80) from internet</li>
</ul>
<p><strong>Selection Criteria:</strong>
- ALB automatically scales to handle traffic (no size selection needed)
- Deploy ALB in at least 2 availability zones for high availability
- Use AWS WAF in front of ALB for additional protection (optional)</p>
<h4 id="nat-gateway">NAT Gateway<a class="headerlink" href="#nat-gateway" title="Permanent link"></a></h4>
<ul>
<li><strong>Type</strong>: NAT Gateway</li>
<li><strong>Sizing</strong>: One NAT Gateway per availability zone (for high availability)</li>
<li><strong>Configuration</strong>:</li>
<li>Elastic IP: Required (one per NAT Gateway)</li>
<li>Subnets: Public subnets</li>
</ul>
<p><strong>Selection Criteria:</strong>
- Deploy one NAT Gateway per availability zone for high availability (recommended for production)
- Single NAT Gateway is sufficient for development/testing environments
- NAT Gateway automatically scales (no size selection needed)</p>
<h4 id="vpc-and-subnets">VPC and Subnets<a class="headerlink" href="#vpc-and-subnets" title="Permanent link"></a></h4>
<ul>
<li><strong>VPC CIDR</strong>: <code>/16</code> (e.g., 10.0.0.0/16) - provides 65,536 IP addresses</li>
<li><strong>Public Subnets</strong>: <code>/24</code> per availability zone (e.g., 10.0.1.0/24, 10.0.2.0/24) - 256 IP addresses each</li>
<li><strong>Private Subnets</strong>: <code>/24</code> per availability zone (e.g., 10.0.10.0/24, 10.0.11.0/24) - 256 IP addresses each</li>
</ul>
<p><strong>Selection Criteria:</strong>
- Use <code>/16</code> CIDR for VPC to allow for future growth
- Allocate <code>/24</code> subnets per availability zone (sufficient for most deployments)
- Ensure subnets don't overlap with existing network ranges</p>
<h3 id="resource-sizing-summary-table">Resource Sizing Summary Table<a class="headerlink" href="#resource-sizing-summary-table" title="Permanent link"></a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Development</th>
<th>Small Production</th>
<th>Medium Production</th>
<th>Large Production</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>EKS Nodes</strong></td>
<td>m5.large (2-3 nodes)</td>
<td>m5.xlarge (3 nodes)</td>
<td>m5.2xlarge (3-5 nodes)</td>
<td>m5.4xlarge+ (5+ nodes)</td>
</tr>
<tr>
<td><strong>ECS Tasks</strong></td>
<td>1 vCPU, 2 GB</td>
<td>2 vCPU, 4 GB</td>
<td>4 vCPU, 8 GB</td>
<td>4-8 vCPU, 8-16 GB</td>
</tr>
<tr>
<td><strong>EC2 Instance</strong></td>
<td>t3.xlarge</td>
<td>t3.2xlarge</td>
<td>m5.2xlarge</td>
<td>m5.4xlarge+</td>
</tr>
<tr>
<td><strong>RDS Instance</strong></td>
<td>db.t3.medium</td>
<td>db.t3.xlarge</td>
<td>db.m5.xlarge</td>
<td>db.m5.2xlarge+</td>
</tr>
<tr>
<td><strong>RDS Storage</strong></td>
<td>20-50 GB</td>
<td>100 GB</td>
<td>200-500 GB</td>
<td>500 GB - 1 TB</td>
</tr>
<tr>
<td><strong>EFS/EBS Storage</strong></td>
<td>50-100 GB</td>
<td>100-500 GB</td>
<td>500 GB - 2 TB</td>
<td>2 TB+</td>
</tr>
</tbody>
</table>
<h3 id="automated-provisioning-scripts">Automated Provisioning Scripts<a class="headerlink" href="#automated-provisioning-scripts" title="Permanent link"></a></h3>
<p>Terraform and CloudFormation templates are available in the detailed installation guides that automate the provisioning of all required resources with recommended sizing:</p>
<ul>
<li><strong>EKS Deployment</strong>: See <a href="aws-eks/">EKS Installation Guide</a> for Terraform templates and Kubernetes manifests</li>
<li><strong>ECS Fargate Deployment</strong>: See <a href="aws-fargate/">Fargate Installation Guide</a> for CloudFormation templates and ECS task definitions</li>
<li><strong>EC2 Deployment</strong>: See <a href="aws-ec2/">EC2 Installation Guide</a> for Terraform templates and AWS CLI scripts</li>
</ul>
<p>These scripts include:
- Pre-configured resource sizes based on deployment type (development, production)
- Security best practices (encryption, security groups, IAM roles)
- High availability configurations (Multi-AZ, auto-scaling)
- Cost optimization settings</p>
<p><strong>Using Automated Scripts:</strong>
1. Review the Terraform/CloudFormation templates in the respective installation guides
2. Customize variables (instance types, storage sizes) based on your requirements
3. Deploy using <code>terraform apply</code> or CloudFormation console/CLI
4. Monitor resource utilization and adjust sizes as needed</p>
<p><strong>Manual Provisioning:</strong>
If provisioning manually, follow the sizing guidance above and refer to the <a href="#technical-prerequisites-and-requirements">Technical Prerequisites and Requirements</a> section for minimum requirements.</p>
<h3 id="monitoring-and-right-sizing">Monitoring and Right-Sizing<a class="headerlink" href="#monitoring-and-right-sizing" title="Permanent link"></a></h3>
<p>After deployment, monitor resource utilization using AWS CloudWatch and adjust sizes as needed:</p>
<ul>
<li><strong>CPU Utilization</strong>: Target 40-70% average utilization</li>
<li><strong>Memory Utilization</strong>: Target 60-80% average utilization</li>
<li><strong>Storage Utilization</strong>: Monitor and scale before reaching 80% capacity</li>
<li><strong>Network Throughput</strong>: Monitor data transfer and optimize if needed</li>
</ul>
<p>Use AWS Cost Explorer and CloudWatch metrics to identify opportunities for right-sizing and cost optimization.</p>
<h2 id="step-by-step-deployment-instructions">Step-by-Step Deployment Instructions<a class="headerlink" href="#step-by-step-deployment-instructions" title="Permanent link"></a></h2>
<p>This section provides step-by-step instructions for deploying Corridor on AWS according to the typical deployment architecture described in the <a href="#typical-customer-deployment-overview">Typical Customer Deployment Overview</a> section. The deployment follows a multi-AZ production architecture with high availability.</p>
<h3 id="step-1-provision-network-infrastructure">Step 1: Provision Network Infrastructure<a class="headerlink" href="#step-1-provision-network-infrastructure" title="Permanent link"></a></h3>
<p><strong>1.1 Create VPC and Subnets</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Create VPC</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-vpc<span class="w"> </span>--cidr-block<span class="w"> </span><span class="m">10</span>.0.0.0/16<span class="w"> </span>--tag-specifications<span class="w"> </span><span class="s1">'ResourceType=vpc,Tags=[{Key=Name,Value=corridor-vpc}]'</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># Create public subnets (one per availability zone)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-subnet<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;<span class="w"> </span>--cidr-block<span class="w"> </span><span class="m">10</span>.0.1.0/24<span class="w"> </span>--availability-zone<span class="w"> </span>us-east-1a
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-subnet<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;<span class="w"> </span>--cidr-block<span class="w"> </span><span class="m">10</span>.0.2.0/24<span class="w"> </span>--availability-zone<span class="w"> </span>us-east-1b
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># Create private subnets (one per availability zone)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-subnet<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;<span class="w"> </span>--cidr-block<span class="w"> </span><span class="m">10</span>.0.10.0/24<span class="w"> </span>--availability-zone<span class="w"> </span>us-east-1a
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-subnet<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;<span class="w"> </span>--cidr-block<span class="w"> </span><span class="m">10</span>.0.11.0/24<span class="w"> </span>--availability-zone<span class="w"> </span>us-east-1b
</span></code></pre></div>
<p><strong>1.2 Create Internet Gateway and NAT Gateway</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Create and attach Internet Gateway</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-internet-gateway<span class="w"> </span>--tag-specifications<span class="w"> </span><span class="s1">'ResourceType=internet-gateway,Tags=[{Key=Name,Value=corridor-igw}]'</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>aws<span class="w"> </span>ec2<span class="w"> </span>attach-internet-gateway<span class="w"> </span>--internet-gateway-id<span class="w"> </span>&lt;igw-id&gt;<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Allocate Elastic IP for NAT Gateway</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>aws<span class="w"> </span>ec2<span class="w"> </span>allocate-address<span class="w"> </span>--domain<span class="w"> </span>vpc
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1"># Create NAT Gateway in public subnet</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-nat-gateway<span class="w"> </span>--subnet-id<span class="w"> </span>&lt;public-subnet-id&gt;<span class="w"> </span>--allocation-id<span class="w"> </span>&lt;eip-id&gt;
</span></code></pre></div>
<p><strong>1.3 Configure Route Tables</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Create route table for public subnets</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-route-table<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-route<span class="w"> </span>--route-table-id<span class="w"> </span>&lt;public-rt-id&gt;<span class="w"> </span>--destination-cidr-block<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span>--gateway-id<span class="w"> </span>&lt;igw-id&gt;
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># Create route table for private subnets</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-route-table<span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-route<span class="w"> </span>--route-table-id<span class="w"> </span>&lt;private-rt-id&gt;<span class="w"> </span>--destination-cidr-block<span class="w"> </span><span class="m">0</span>.0.0.0/0<span class="w"> </span>--nat-gateway-id<span class="w"> </span>&lt;nat-gw-id&gt;
</span></code></pre></div>
<p><strong>1.4 Create Security Groups</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Security group for Application Load Balancer</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-security-group<span class="w"> </span>--group-name<span class="w"> </span>corridor-alb-sg<span class="w"> </span>--description<span class="w"> </span><span class="s2">"Security group for ALB"</span><span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;alb-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">443</span><span class="w"> </span>--cidr<span class="w"> </span><span class="m">0</span>.0.0.0/0
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;alb-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">80</span><span class="w"> </span>--cidr<span class="w"> </span><span class="m">0</span>.0.0.0/0
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c1"># Security group for application components</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-security-group<span class="w"> </span>--group-name<span class="w"> </span>corridor-app-sg<span class="w"> </span>--description<span class="w"> </span><span class="s2">"Security group for application"</span><span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;app-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">80</span><span class="w"> </span>--source-group<span class="w"> </span>&lt;alb-sg-id&gt;
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;app-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">443</span><span class="w"> </span>--source-group<span class="w"> </span>&lt;alb-sg-id&gt;
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="c1"># Security group for RDS database</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-security-group<span class="w"> </span>--group-name<span class="w"> </span>corridor-db-sg<span class="w"> </span>--description<span class="w"> </span><span class="s2">"Security group for RDS"</span><span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;db-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">5432</span><span class="w"> </span>--source-group<span class="w"> </span>&lt;app-sg-id&gt;
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="c1"># Security group for EFS (if using EKS/Fargate)</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-security-group<span class="w"> </span>--group-name<span class="w"> </span>corridor-efs-sg<span class="w"> </span>--description<span class="w"> </span><span class="s2">"Security group for EFS"</span><span class="w"> </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>aws<span class="w"> </span>ec2<span class="w"> </span>authorize-security-group-ingress<span class="w"> </span>--group-id<span class="w"> </span>&lt;efs-sg-id&gt;<span class="w"> </span>--protocol<span class="w"> </span>tcp<span class="w"> </span>--port<span class="w"> </span><span class="m">2049</span><span class="w"> </span>--source-group<span class="w"> </span>&lt;app-sg-id&gt;
</span></code></pre></div>
<h3 id="step-2-provision-database-infrastructure">Step 2: Provision Database Infrastructure<a class="headerlink" href="#step-2-provision-database-infrastructure" title="Permanent link"></a></h3>
<p><strong>2.1 Create DB Subnet Group</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>aws<span class="w"> </span>rds<span class="w"> </span>create-db-subnet-group<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span>--db-subnet-group-name<span class="w"> </span>corridor-db-subnet<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span>--db-subnet-group-description<span class="w"> </span><span class="s2">"Subnet group for Corridor RDS"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span>--subnet-ids<span class="w"> </span>&lt;private-subnet-1-id&gt;<span class="w"> </span>&lt;private-subnet-2-id&gt;
</span></code></pre></div>
<p><strong>2.2 Create RDS PostgreSQL Instance</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>aws<span class="w"> </span>rds<span class="w"> </span>create-db-instance<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span>--db-instance-class<span class="w"> </span>db.t3.xlarge<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span>--engine<span class="w"> </span>postgres<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span>--engine-version<span class="w"> </span><span class="m">14</span>.9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span>--master-username<span class="w"> </span>corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span>--master-user-password<span class="w"> </span>&lt;secure-password&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span>--allocated-storage<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span>--storage-type<span class="w"> </span>gp3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">  </span>--storage-encrypted<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">  </span>--multi-az<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span>--db-name<span class="w"> </span>corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">  </span>--db-subnet-group-name<span class="w"> </span>corridor-db-subnet<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">  </span>--vpc-security-group-ids<span class="w"> </span>&lt;db-sg-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">  </span>--backup-retention-period<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">  </span>--enable-cloudwatch-logs-export<span class="w"> </span>postgresql
</span></code></pre></div>
<p><strong>2.3 Store Database Credentials in Secrets Manager</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>create-secret<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span>--name<span class="w"> </span>corridor/database/credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span>--secret-string<span class="w"> </span><span class="s1">'{"username":"corridor","password":"&lt;secure-password&gt;","host":"&lt;rds-endpoint&gt;","port":"5432","database":"corridor"}'</span>
</span></code></pre></div>
<h3 id="step-3-provision-storage-infrastructure">Step 3: Provision Storage Infrastructure<a class="headerlink" href="#step-3-provision-storage-infrastructure" title="Permanent link"></a></h3>
<p><strong>For EKS/Fargate Deployments:</strong></p>
<p><strong>3.1 Create EFS File System</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Create EFS file system</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>aws<span class="w"> </span>efs<span class="w"> </span>create-file-system<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span>--creation-token<span class="w"> </span>corridor-efs<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span>--performance-mode<span class="w"> </span>generalPurpose<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span>--throughput-mode<span class="w"> </span>bursting<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span>--encrypted
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c1"># Create mount targets in each private subnet</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>aws<span class="w"> </span>efs<span class="w"> </span>create-mount-target<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">  </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">  </span>--subnet-id<span class="w"> </span>&lt;private-subnet-1-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">  </span>--security-groups<span class="w"> </span>&lt;efs-sg-id&gt;
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>aws<span class="w"> </span>efs<span class="w"> </span>create-mount-target<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">  </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">  </span>--subnet-id<span class="w"> </span>&lt;private-subnet-2-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">  </span>--security-groups<span class="w"> </span>&lt;efs-sg-id&gt;
</span></code></pre></div>
<p><strong>For EC2 Deployments:</strong></p>
<p><strong>3.2 Create EBS Volume (if needed)</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-volume<span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span>--availability-zone<span class="w"> </span>us-east-1a<span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span>--size<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span>--volume-type<span class="w"> </span>gp3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span>--encrypted
</span></code></pre></div>
<p><strong>3.3 Create S3 Bucket for Backups</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>aws<span class="w"> </span>s3<span class="w"> </span>mb<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;<span class="w"> </span>--region<span class="w"> </span>us-east-1
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>aws<span class="w"> </span>s3api<span class="w"> </span>put-bucket-encryption<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span>--bucket<span class="w"> </span>corridor-backups-&lt;unique-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span>--server-side-encryption-configuration<span class="w"> </span><span class="s1">'{"Rules":[{"ApplyServerSideEncryptionByDefault":{"SSEAlgorithm":"AES256"}}]}'</span>
</span></code></pre></div>
<h3 id="step-4-provision-compute-infrastructure">Step 4: Provision Compute Infrastructure<a class="headerlink" href="#step-4-provision-compute-infrastructure" title="Permanent link"></a></h3>
<p><strong>For EKS Deployment:</strong></p>
<p><strong>4.1 Create EKS Cluster</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Create IAM role for EKS cluster</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>aws<span class="w"> </span>iam<span class="w"> </span>create-role<span class="w"> </span>--role-name<span class="w"> </span>corridor-eks-cluster-role<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span>--assume-role-policy-document<span class="w"> </span>file://eks-cluster-trust-policy.json
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1"># Attach required policies</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>aws<span class="w"> </span>iam<span class="w"> </span>attach-role-policy<span class="w"> </span>--role-name<span class="w"> </span>corridor-eks-cluster-role<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AmazonEKSClusterPolicy
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c1"># Create EKS cluster</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>aws<span class="w"> </span>eks<span class="w"> </span>create-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">  </span>--name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">  </span>--role-arn<span class="w"> </span>arn:aws:iam::&lt;account-id&gt;:role/corridor-eks-cluster-role<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">  </span>--resources-vpc-config<span class="w"> </span><span class="nv">subnetIds</span><span class="o">=</span>&lt;private-subnet-1-id&gt;,&lt;private-subnet-2-id&gt;,endpointPrivateAccess<span class="o">=</span>true,endpointPublicAccess<span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">  </span>--version<span class="w"> </span><span class="m">1</span>.28
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="c1"># Create node group</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>aws<span class="w"> </span>eks<span class="w"> </span>create-nodegroup<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">  </span>--cluster-name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">  </span>--nodegroup-name<span class="w"> </span>corridor-nodes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">  </span>--node-role<span class="w"> </span>arn:aws:iam::&lt;account-id&gt;:role/corridor-eks-node-role<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">  </span>--subnets<span class="w"> </span>&lt;private-subnet-1-id&gt;<span class="w"> </span>&lt;private-subnet-2-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">  </span>--instance-types<span class="w"> </span>m5.xlarge<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="w">  </span>--scaling-config<span class="w"> </span><span class="nv">minSize</span><span class="o">=</span><span class="m">3</span>,maxSize<span class="o">=</span><span class="m">10</span>,desiredSize<span class="o">=</span><span class="m">3</span>
</span></code></pre></div>
<p><strong>For ECS Fargate Deployment:</strong></p>
<p><strong>4.2 Create ECS Cluster</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>aws<span class="w"> </span>ecs<span class="w"> </span>create-cluster<span class="w"> </span>--cluster-name<span class="w"> </span>corridor-cluster<span class="w"> </span>--capacity-providers<span class="w"> </span>FARGATE<span class="w"> </span>FARGATE_SPOT
</span></code></pre></div>
<p><strong>For EC2 Deployment:</strong></p>
<p><strong>4.3 Launch EC2 Instance</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>aws<span class="w"> </span>ec2<span class="w"> </span>run-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span>--image-id<span class="w"> </span>ami-&lt;latest-amazon-linux-2&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span>--instance-type<span class="w"> </span>t3.2xlarge<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">  </span>--subnet-id<span class="w"> </span>&lt;private-subnet-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">  </span>--security-group-ids<span class="w"> </span>&lt;app-sg-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">  </span>--iam-instance-profile<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>corridor-instance-profile<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">  </span>--user-data<span class="w"> </span>file://install-corridor.sh<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">  </span>--block-device-mappings<span class="w"> </span><span class="s1">'[{"DeviceName":"/dev/xvda","Ebs":{"VolumeSize":100,"VolumeType":"gp3","Encrypted":true}}]'</span>
</span></code></pre></div>
<h3 id="step-5-create-application-load-balancer">Step 5: Create Application Load Balancer<a class="headerlink" href="#step-5-create-application-load-balancer" title="Permanent link"></a></h3>
<p><strong>5.1 Create ALB</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>create-load-balancer<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span>--name<span class="w"> </span>corridor-alb<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">  </span>--subnets<span class="w"> </span>&lt;public-subnet-1-id&gt;<span class="w"> </span>&lt;public-subnet-2-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span>--security-groups<span class="w"> </span>&lt;alb-sg-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">  </span>--scheme<span class="w"> </span>internet-facing<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span>--type<span class="w"> </span>application<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">  </span>--ip-address-type<span class="w"> </span>ipv4
</span></code></pre></div>
<p><strong>5.2 Create Target Group</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>create-target-group<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span>--name<span class="w"> </span>corridor-targets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span>--protocol<span class="w"> </span>HTTP<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span>--port<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span>--vpc-id<span class="w"> </span>&lt;vpc-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span>--health-check-path<span class="w"> </span>/health<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span>--health-check-interval-seconds<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span>--health-check-timeout-seconds<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span>--healthy-threshold-count<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">  </span>--unhealthy-threshold-count<span class="w"> </span><span class="m">3</span>
</span></code></pre></div>
<p><strong>5.3 Create Listener</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Create HTTPS listener (requires SSL certificate)</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>create-listener<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span>--load-balancer-arn<span class="w"> </span>&lt;alb-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span>--protocol<span class="w"> </span>HTTPS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span>--port<span class="w"> </span><span class="m">443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span>--certificates<span class="w"> </span><span class="nv">CertificateArn</span><span class="o">=</span>&lt;acm-certificate-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">  </span>--default-actions<span class="w"> </span><span class="nv">Type</span><span class="o">=</span>forward,TargetGroupArn<span class="o">=</span>&lt;target-group-arn&gt;
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="c1"># Create HTTP listener (redirects to HTTPS)</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>create-listener<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">  </span>--load-balancer-arn<span class="w"> </span>&lt;alb-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">  </span>--protocol<span class="w"> </span>HTTP<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">  </span>--port<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">  </span>--default-actions<span class="w"> </span><span class="nv">Type</span><span class="o">=</span>redirect,RedirectConfig<span class="o">=</span><span class="s1">'{Protocol=HTTPS,Port=443,StatusCode=HTTP_301}'</span>
</span></code></pre></div>
<h3 id="step-6-deploy-corridor-application">Step 6: Deploy Corridor Application<a class="headerlink" href="#step-6-deploy-corridor-application" title="Permanent link"></a></h3>
<p><strong>For EKS Deployment:</strong></p>
<p><strong>6.1 Install Cluster Components</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Install AWS Load Balancer Controller</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://github.com/kubernetes-sigs/aws-load-balancer-controller/releases/download/v2.7.0/v2_7_0_full.yaml
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1"># Install cert-manager</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c1"># Install EFS CSI Driver</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-k<span class="w"> </span><span class="s2">"github.com/kubernetes-sigs/aws-efs-csi-driver/deploy/kubernetes/overlays/stable/?ref=release-1.7"</span>
</span></code></pre></div>
<p><strong>6.2 Deploy Corridor</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Create namespace</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>kubectl<span class="w"> </span>create<span class="w"> </span>namespace<span class="w"> </span>corridor
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c1"># Create secrets for database credentials</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>corridor-db-credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">username</span><span class="o">=</span>corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">password</span><span class="o">=</span>&lt;password&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">host</span><span class="o">=</span>&lt;rds-endpoint&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">  </span>--namespace<span class="w"> </span>corridor
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="c1"># Apply Kubernetes manifests</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>corridor-manifests.yaml<span class="w"> </span>-n<span class="w"> </span>corridor
</span></code></pre></div>
<p><strong>For ECS Fargate Deployment:</strong></p>
<p><strong>6.3 Create Task Definition and Service</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Register task definition</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>aws<span class="w"> </span>ecs<span class="w"> </span>register-task-definition<span class="w"> </span>--cli-input-json<span class="w"> </span>file://corridor-task-definition.json
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Create ECS service</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>aws<span class="w"> </span>ecs<span class="w"> </span>create-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">  </span>--service-name<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task<span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span>--desired-count<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">  </span>--launch-type<span class="w"> </span>FARGATE<span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">  </span>--network-configuration<span class="w"> </span><span class="s2">"awsvpcConfiguration={subnets=[&lt;private-subnet-1-id&gt;,&lt;private-subnet-2-id&gt;],securityGroups=[&lt;app-sg-id&gt;],assignPublicIp=DISABLED}"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">  </span>--load-balancers<span class="w"> </span><span class="nv">targetGroupArn</span><span class="o">=</span>&lt;target-group-arn&gt;,containerName<span class="o">=</span>corridor-app,containerPort<span class="o">=</span><span class="m">80</span>
</span></code></pre></div>
<p><strong>For EC2 Deployment:</strong></p>
<p><strong>6.4 Install Corridor Components</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># SSH into EC2 instance</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>ssh<span class="w"> </span>-i<span class="w"> </span>&lt;key-pair&gt;.pem<span class="w"> </span>ec2-user@&lt;ec2-instance-ip&gt;
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># Install system dependencies</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>sudo<span class="w"> </span>yum<span class="w"> </span>update<span class="w"> </span>-y
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3.11<span class="w"> </span>python3.11-devel<span class="w"> </span>java-1.8.0-openjdk<span class="w"> </span>redis<span class="w"> </span>nginx
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="c1"># Extract and install Corridor bundle</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="nb">cd</span><span class="w"> </span>/tmp
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>unzip<span class="w"> </span>corridor-bundle.zip
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>sudo<span class="w"> </span>./corridor-bundle/install<span class="w"> </span>app<span class="w"> </span>-i<span class="w"> </span>/opt/corridor
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>sudo<span class="w"> </span>./corridor-bundle/install<span class="w"> </span>api<span class="w"> </span>-i<span class="w"> </span>/opt/corridor
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>sudo<span class="w"> </span>./corridor-bundle/install<span class="w"> </span>worker-api<span class="w"> </span>-i<span class="w"> </span>/opt/corridor
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>sudo<span class="w"> </span>./corridor-bundle/install<span class="w"> </span>worker-spark<span class="w"> </span>-i<span class="w"> </span>/opt/corridor
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>sudo<span class="w"> </span>./corridor-bundle/install<span class="w"> </span>jupyter<span class="w"> </span>-i<span class="w"> </span>/opt/corridor
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="c1"># Configure database connection</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>sudo<span class="w"> </span>vi<span class="w"> </span>/opt/corridor/instances/default/config/api_config.py
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="c1"># Update SQLALCHEMY_DATABASE_URI with RDS endpoint</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="c1"># Initialize database</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span>upgrade
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="c1"># Start services</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api<span class="w"> </span>corridor-worker-api<span class="w"> </span>corridor-worker-spark<span class="w"> </span>corridor-jupyter
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>corridor-app<span class="w"> </span>corridor-api<span class="w"> </span>corridor-worker-api<span class="w"> </span>corridor-worker-spark<span class="w"> </span>corridor-jupyter
</span></code></pre></div>
<h3 id="step-7-configure-dns-and-ssl">Step 7: Configure DNS and SSL<a class="headerlink" href="#step-7-configure-dns-and-ssl" title="Permanent link"></a></h3>
<p><strong>7.1 Configure DNS</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># If using Route 53</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>aws<span class="w"> </span>route53<span class="w"> </span>change-resource-record-sets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span>--hosted-zone-id<span class="w"> </span>&lt;hosted-zone-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span>--change-batch<span class="w"> </span><span class="s1">'{</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="s1">    "Changes": [{</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="s1">      "Action": "UPSERT",</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="s1">      "ResourceRecordSet": {</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="s1">        "Name": "corridor.example.com",</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="s1">        "Type": "A",</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="s1">        "AliasTarget": {</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="s1">          "HostedZoneId": "&lt;alb-hosted-zone-id&gt;",</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="s1">          "DNSName": "&lt;alb-dns-name&gt;",</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="s1">          "EvaluateTargetHealth": true</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="s1">        }</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="s1">      }</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="s1">    }]</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="s1">  }'</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="c1"># If using external DNS provider, create A record pointing to ALB DNS name</span>
</span></code></pre></div>
<p><strong>7.2 Verify SSL Certificate</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># For EKS with cert-manager, check certificate status</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>certificate<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1"># For ACM certificates, verify in AWS Console or CLI</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>aws<span class="w"> </span>acm<span class="w"> </span>describe-certificate<span class="w"> </span>--certificate-arn<span class="w"> </span>&lt;certificate-arn&gt;
</span></code></pre></div>
<h3 id="step-8-post-deployment-configuration">Step 8: Post-Deployment Configuration<a class="headerlink" href="#step-8-post-deployment-configuration" title="Permanent link"></a></h3>
<p><strong>8.1 Initialize Admin User</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Access Corridor web interface via HTTPS</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1"># Navigate to https://corridor.example.com</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1"># Follow initial setup wizard to create admin user</span>
</span></code></pre></div>
<p><strong>8.2 Configure Monitoring</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Enable CloudWatch Container Insights (for EKS/ECS)</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-cluster-config<span class="w"> </span>--name<span class="w"> </span>corridor-cluster<span class="w"> </span>--logging<span class="w"> </span><span class="s1">'{"enable":[{"types":["api","audit","authenticator","controllerManager","scheduler"]}]}'</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1"># Create CloudWatch alarms for key metrics</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">  </span>--alarm-name<span class="w"> </span>corridor-high-cpu<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert when CPU exceeds 80%"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">  </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold
</span></code></pre></div>
<p><strong>8.3 Verify Deployment</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Check application health endpoint</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="c1"># Verify all services are running</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="c1"># For EKS: kubectl get pods -n corridor</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c1"># For ECS: aws ecs describe-services --cluster corridor-cluster --services corridor-service</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="c1"># For EC2: sudo systemctl status corridor-app corridor-api</span>
</span></code></pre></div>
<h2 id="testing-and-troubleshooting">Testing and Troubleshooting<a class="headerlink" href="#testing-and-troubleshooting" title="Permanent link"></a></h2>
<p>This section provides prescriptive guidance for testing your Corridor deployment and troubleshooting common issues.</p>
<h3 id="pre-deployment-testing">Pre-Deployment Testing<a class="headerlink" href="#pre-deployment-testing" title="Permanent link"></a></h3>
<p>Before deploying to production, test the deployment in a development or staging environment:</p>
<p><strong>1. Infrastructure Testing</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Verify VPC connectivity</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-vpcs<span class="w"> </span>--vpc-ids<span class="w"> </span>&lt;vpc-id&gt;
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1"># Test security group rules</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;sg-id&gt;
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="c1"># Verify NAT Gateway is working</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="c1"># From an instance in private subnet, test internet connectivity</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>ping<span class="w"> </span><span class="m">8</span>.8.8.8
</span></code></pre></div>
<p><strong>2. Database Connectivity Testing</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Test RDS connectivity from application subnet</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1"># Verify database credentials from Secrets Manager</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>get-secret-value<span class="w"> </span>--secret-id<span class="w"> </span>corridor/database/credentials
</span></code></pre></div>
<p><strong>3. Storage Testing</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># For EFS: Test mount from application instance</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>efs<span class="w"> </span>&lt;efs-id&gt;:/<span class="w"> </span>/mnt/efs
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"test"</span><span class="w"> </span>&gt;<span class="w"> </span>/mnt/efs/test.txt
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>cat<span class="w"> </span>/mnt/efs/test.txt
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="c1"># For S3: Test bucket access</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>aws<span class="w"> </span>s3<span class="w"> </span>ls<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>test.txt<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/
</span></code></pre></div>
<h3 id="post-deployment-testing">Post-Deployment Testing<a class="headerlink" href="#post-deployment-testing" title="Permanent link"></a></h3>
<p><strong>1. Application Health Checks</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Test health endpoint</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="c1"># Expected response: {"status": "healthy", "version": "x.x.x"}</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="c1"># Test API endpoint</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>curl<span class="w"> </span>https://corridor.example.com/api/v1/status
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="c1"># Test web interface</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>curl<span class="w"> </span>-I<span class="w"> </span>https://corridor.example.com
</span></code></pre></div>
<p><strong>2. Component Testing</strong></p>
<p><strong>For EKS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># Check pod status</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="c1"># Check pod logs</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--tail<span class="o">=</span><span class="m">100</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="c1"># Test pod connectivity</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--<span class="w"> </span>curl<span class="w"> </span>http://localhost:8000/health
</span></code></pre></div><p></p>
<p><strong>For ECS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># Check task status</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-tasks<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--tasks<span class="w"> </span>&lt;task-id&gt;
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="c1"># Check task logs</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/ecs/corridor<span class="w"> </span>--follow
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="c1"># Test task connectivity</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>aws<span class="w"> </span>ecs<span class="w"> </span>execute-command<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--task<span class="w"> </span>&lt;task-id&gt;<span class="w"> </span>--container<span class="w"> </span>corridor-app<span class="w"> </span>--command<span class="w"> </span><span class="s2">"/bin/sh"</span>
</span></code></pre></div><p></p>
<p><strong>For EC2:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># Check service status</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api<span class="w"> </span>corridor-worker-api
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="c1"># Check service logs</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>corridor-app<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>sudo<span class="w"> </span>tail<span class="w"> </span>-f<span class="w"> </span>/opt/corridor/logs/app.log
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="c1"># Test service connectivity</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>curl<span class="w"> </span>http://localhost:8000/health
</span></code></pre></div><p></p>
<p><strong>3. Load Balancer Testing</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1"># Check ALB target health</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="c1"># Test ALB routing</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Host: corridor.example.com"</span><span class="w"> </span>http://&lt;alb-dns-name&gt;/health
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="c1"># Verify SSL certificate</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>corridor.example.com:443<span class="w"> </span>-servername<span class="w"> </span>corridor.example.com
</span></code></pre></div>
<p><strong>4. Database Testing</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># Test database connectivity from application</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="c1"># Connect to application pod/instance and test database connection</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">"import psycopg2; conn = psycopg2.connect(host='&lt;rds-endpoint&gt;', user='corridor', password='&lt;password&gt;', dbname='corridor'); print('Connected successfully')"</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="c1"># Check database tables</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor<span class="w"> </span>-c<span class="w"> </span><span class="s2">"\dt"</span>
</span></code></pre></div>
<h3 id="common-issues-and-troubleshooting">Common Issues and Troubleshooting<a class="headerlink" href="#common-issues-and-troubleshooting" title="Permanent link"></a></h3>
<p><strong>Issue 1: Application Not Accessible</strong></p>
<p><strong>Symptoms:</strong> Cannot access application via HTTPS URL</p>
<p><strong>Troubleshooting Steps:</strong></p>
<ol>
<li>
<p><strong>Verify DNS Configuration</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1"># Check DNS resolution</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>nslookup<span class="w"> </span>corridor.example.com
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>dig<span class="w"> </span>corridor.example.com
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="c1"># Verify DNS points to ALB</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>aws<span class="w"> </span>route53<span class="w"> </span>list-resource-record-sets<span class="w"> </span>--hosted-zone-id<span class="w"> </span>&lt;hosted-zone-id&gt;
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check Load Balancer Status</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1"># Verify ALB is active</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-load-balancers<span class="w"> </span>--load-balancer-arns<span class="w"> </span>&lt;alb-arn&gt;
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="c1"># Check target health</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Verify Security Groups</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1"># Check ALB security group allows HTTPS</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;alb-sg-id&gt;
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="c1"># Check application security group allows traffic from ALB</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;app-sg-id&gt;
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check SSL Certificate</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1"># Verify certificate is valid</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>aws<span class="w"> </span>acm<span class="w"> </span>describe-certificate<span class="w"> </span>--certificate-arn<span class="w"> </span>&lt;cert-arn&gt;
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="c1"># Test SSL connection</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>corridor.example.com:443
</span></code></pre></div><p></p>
</li>
</ol>
<p><strong>Issue 2: Database Connection Failures</strong></p>
<p><strong>Symptoms:</strong> Application cannot connect to RDS database</p>
<p><strong>Troubleshooting Steps:</strong></p>
<ol>
<li>
<p><strong>Verify Database Endpoint</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1"># Check RDS instance status</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span>--db-instance-identifier<span class="w"> </span>corridor-db
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="c1"># Verify endpoint is correct</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].Endpoint.Address'</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check Security Groups</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1"># Verify RDS security group allows PostgreSQL from application</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;db-sg-id&gt;
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="c1"># Test connectivity from application subnet</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>telnet<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span><span class="m">5432</span>
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Verify Credentials</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1"># Check credentials in Secrets Manager</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>get-secret-value<span class="w"> </span>--secret-id<span class="w"> </span>corridor/database/credentials
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="c1"># Test connection with credentials</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check Database Status</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1"># Verify database is available</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].DBInstanceStatus'</span>
</span></code></pre></div><p></p>
</li>
</ol>
<p><strong>Issue 3: Pod/Container Failures (EKS/ECS)</strong></p>
<p><strong>Symptoms:</strong> Pods or containers are crashing or not starting</p>
<p><strong>Troubleshooting Steps:</strong></p>
<p><strong>For EKS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1"># Check pod status</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="c1"># Describe pod for events</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>kubectl<span class="w"> </span>describe<span class="w"> </span>pod<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="c1"># Check pod logs</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>--previous
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="c1"># Check resource limits</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>kubectl<span class="w"> </span>top<span class="w"> </span>pod<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor
</span></code></pre></div><p></p>
<p><strong>For ECS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1"># Check task status</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-tasks<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--tasks<span class="w"> </span>&lt;task-id&gt;
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="c1"># Check task logs</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/ecs/corridor<span class="w"> </span>--follow
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="c1"># Check task definition</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-task-definition<span class="w"> </span>--task-definition<span class="w"> </span>corridor-task
</span></code></pre></div><p></p>
<p><strong>Issue 4: Storage Mount Failures</strong></p>
<p><strong>Symptoms:</strong> EFS or EBS volumes not mounting correctly</p>
<p><strong>Troubleshooting Steps:</strong></p>
<ol>
<li>
<p><strong>For EFS:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1"># Verify EFS file system exists</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-file-systems<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="c1"># Check mount targets</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-mount-targets<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="c1"># Test mount from application instance</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>efs<span class="w"> </span>-o<span class="w"> </span>tls<span class="w"> </span>&lt;efs-id&gt;:/<span class="w"> </span>/mnt/efs
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>For EBS:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1"># Verify volume is attached</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-volumes<span class="w"> </span>--volume-ids<span class="w"> </span>&lt;volume-id&gt;
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="c1"># Check volume attachment</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span>--instance-ids<span class="w"> </span>&lt;instance-id&gt;<span class="w"> </span>--query<span class="w"> </span><span class="s1">'Instances[0].BlockDeviceMappings'</span>
</span></code></pre></div><p></p>
</li>
</ol>
<p><strong>Issue 5: High CPU or Memory Usage</strong></p>
<p><strong>Symptoms:</strong> Application performance degradation, timeouts</p>
<p><strong>Troubleshooting Steps:</strong></p>
<ol>
<li>
<p><strong>Monitor Resource Usage</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1"># For EKS</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>kubectl<span class="w"> </span>top<span class="w"> </span>nodes
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>kubectl<span class="w"> </span>top<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="c1"># For ECS</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ServiceName,Value<span class="o">=</span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">  </span>--start-time<span class="w"> </span>&lt;start-time&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">  </span>--end-time<span class="w"> </span>&lt;end-time&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">  </span>--statistics<span class="w"> </span>Average
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Check Application Logs</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1"># Look for errors or warnings</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--tail<span class="o">=</span><span class="m">500</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>error
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Scale Resources</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1"># For EKS: Scale node group</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-nodegroup-config<span class="w"> </span>--cluster-name<span class="w"> </span>corridor-cluster<span class="w"> </span>--nodegroup-name<span class="w"> </span>corridor-nodes<span class="w"> </span>--scaling-config<span class="w"> </span><span class="nv">minSize</span><span class="o">=</span><span class="m">5</span>,maxSize<span class="o">=</span><span class="m">15</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="c1"># For ECS: Update service desired count</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--service<span class="w"> </span>corridor-service<span class="w"> </span>--desired-count<span class="w"> </span><span class="m">4</span>
</span></code></pre></div><p></p>
</li>
</ol>
<h3 id="getting-additional-help">Getting Additional Help<a class="headerlink" href="#getting-additional-help" title="Permanent link"></a></h3>
<p>If you encounter issues not covered in this guide:</p>
<ol>
<li><strong>Check Application Logs</strong>: Review application logs for error messages</li>
<li><strong>Review AWS CloudWatch</strong>: Check CloudWatch metrics and logs for infrastructure issues</li>
<li><strong>Contact Corridor Support</strong>: Reach out to Corridor support with:</li>
<li>Deployment method (EKS/ECS/EC2)</li>
<li>Error messages and logs</li>
<li>Steps to reproduce the issue</li>
<li>AWS region and resource IDs</li>
<li><strong>AWS Support</strong>: For AWS infrastructure issues, contact AWS Support</li>
</ol>
<h2 id="health-monitoring-and-assessment">Health Monitoring and Assessment<a class="headerlink" href="#health-monitoring-and-assessment" title="Permanent link"></a></h2>
<p>This section provides step-by-step instructions for assessing and monitoring the health and proper function of the Corridor application deployed on AWS. Regular health monitoring ensures the application is operating correctly and helps identify issues before they impact users.</p>
<h3 id="step-1-configure-application-health-checks">Step 1: Configure Application Health Checks<a class="headerlink" href="#step-1-configure-application-health-checks" title="Permanent link"></a></h3>
<p><strong>1.1 Application Health Endpoint</strong></p>
<p>The Corridor application exposes a health endpoint at <code>/health</code> that returns the application status:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1"># Test health endpoint</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="c1"># Expected response:</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="c1"># {"status": "healthy", "version": "x.x.x", "timestamp": "2024-01-01T00:00:00Z"}</span>
</span></code></pre></div>
<p><strong>1.2 Configure Load Balancer Health Checks</strong></p>
<p><strong>For Application Load Balancer:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="c1"># Update target group health check settings</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>modify-target-group<span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">  </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">  </span>--health-check-path<span class="w"> </span>/health<span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">  </span>--health-check-interval-seconds<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">  </span>--health-check-timeout-seconds<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">  </span>--healthy-threshold-count<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">  </span>--unhealthy-threshold-count<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">  </span>--health-check-protocol<span class="w"> </span>HTTP<span class="w"> </span><span class="se">\</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">  </span>--health-check-port<span class="w"> </span><span class="m">80</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="c1"># Verify health check configuration</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-groups<span class="w"> </span>--target-group-arns<span class="w"> </span>&lt;target-group-arn&gt;
</span></code></pre></div>
<p><strong>For EKS Deployments:</strong></p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1"># Add health check to Kubernetes deployment</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="nt">metadata</span><span class="p">:</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">corridor-app</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="nt">spec</span><span class="p">:</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">corridor-app</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">        </span><span class="nt">livenessProbe</span><span class="p">:</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="w">          </span><span class="nt">httpGet</span><span class="p">:</span>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/health</span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5002</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="w">          </span><span class="nt">initialDelaySeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span>
</span><span id="__span-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="w">          </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</span><span id="__span-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="w">          </span><span class="nt">timeoutSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a><span class="w">          </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span><span id="__span-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="w">        </span><span class="nt">readinessProbe</span><span class="p">:</span>
</span><span id="__span-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="w">          </span><span class="nt">httpGet</span><span class="p">:</span>
</span><span id="__span-53-21"><a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/health</span>
</span><span id="__span-53-22"><a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5002</span>
</span><span id="__span-53-23"><a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a><span class="w">          </span><span class="nt">initialDelaySeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</span><span id="__span-53-24"><a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a><span class="w">          </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-53-25"><a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a><span class="w">          </span><span class="nt">timeoutSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-53-26"><a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a><span class="w">          </span><span class="nt">failureThreshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span></code></pre></div>
<p><strong>For ECS Deployments:</strong></p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="p">{</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">  </span><span class="nt">"healthCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">    </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"CMD-SHELL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"curl -f http://localhost:5002/health || exit 1"</span><span class="p">],</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">    </span><span class="nt">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="w">    </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="w">    </span><span class="nt">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="w">    </span><span class="nt">"startPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>1.3 Verify Health Check Status</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="c1"># Check target health status</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="c1"># Expected output shows "healthy" status for all targets</span>
</span></code></pre></div>
<h3 id="step-2-set-up-cloudwatch-metrics-and-alarms">Step 2: Set Up CloudWatch Metrics and Alarms<a class="headerlink" href="#step-2-set-up-cloudwatch-metrics-and-alarms" title="Permanent link"></a></h3>
<p><strong>2.1 Enable CloudWatch Container Insights (EKS/ECS)</strong></p>
<p><strong>For EKS:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="c1"># Enable Container Insights</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-cluster-config<span class="w"> </span><span class="se">\</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">  </span>--name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">  </span>--logging<span class="w"> </span><span class="s1">'{</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="s1">    "enable": [</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="s1">      {"types": ["api", "audit", "authenticator", "controllerManager", "scheduler"]}</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="s1">    ]</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="s1">  }'</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="c1"># Install CloudWatch Container Insights</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://raw.githubusercontent.com/aws-samples/amazon-cloudwatch-container-insights/latest/k8s-deployment-manifest-templates/deployment-mode/daemonset/container-insights-monitoring/quickstart/cwagent-fluentd-quickstart.yaml
</span></code></pre></div>
<p><strong>For ECS:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="c1"># Container Insights is automatically enabled for ECS Fargate</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="c1"># Verify in ECS console: Cluster  Monitoring  Container Insights</span>
</span></code></pre></div>
<p><strong>2.2 Create CloudWatch Alarms for Application Health</strong></p>
<p><strong>Alarm 1: Application Health Check Failures</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">  </span>--alarm-name<span class="w"> </span>corridor-health-check-failures<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert when application health checks fail"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>HealthyHostCount<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ApplicationELB<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">  </span>--statistic<span class="w"> </span>Minimum<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>LessThanThreshold<span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-10"><a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">  </span>--evaluation-periods<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-58-11"><a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">  </span>--alarm-actions<span class="w"> </span>arn:aws:sns:us-east-1:&lt;account-id&gt;:corridor-alerts
</span></code></pre></div>
<p><strong>Alarm 2: High CPU Utilization</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">  </span>--alarm-name<span class="w"> </span>corridor-high-cpu<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert when CPU exceeds 80%"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">  </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">  </span>--evaluation-periods<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ServiceName,Value<span class="o">=</span>corridor-service<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ClusterName,Value<span class="o">=</span>corridor-cluster
</span></code></pre></div>
<p><strong>Alarm 3: High Memory Utilization</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">  </span>--alarm-name<span class="w"> </span>corridor-high-memory<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert when memory exceeds 85%"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>MemoryUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">  </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">85</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold<span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="w">  </span>--evaluation-periods<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ServiceName,Value<span class="o">=</span>corridor-service<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ClusterName,Value<span class="o">=</span>corridor-cluster
</span></code></pre></div>
<p><strong>Alarm 4: Database Connection Errors</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">  </span>--alarm-name<span class="w"> </span>corridor-db-connection-errors<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert on database connection errors"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>DatabaseConnections<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/RDS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">  </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold<span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">  </span>--evaluation-periods<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>DBInstanceIdentifier,Value<span class="o">=</span>corridor-db
</span></code></pre></div>
<p><strong>2.3 Create SNS Topic for Alarms</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="c1"># Create SNS topic for alerts</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>aws<span class="w"> </span>sns<span class="w"> </span>create-topic<span class="w"> </span>--name<span class="w"> </span>corridor-alerts
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="c1"># Subscribe email to topic</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>aws<span class="w"> </span>sns<span class="w"> </span>subscribe<span class="w"> </span><span class="se">\</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">  </span>--topic-arn<span class="w"> </span>arn:aws:sns:us-east-1:&lt;account-id&gt;:corridor-alerts<span class="w"> </span><span class="se">\</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">  </span>--protocol<span class="w"> </span>email<span class="w"> </span><span class="se">\</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">  </span>--notification-endpoint<span class="w"> </span>admin@example.com
</span></code></pre></div>
<h3 id="step-3-monitor-application-logs">Step 3: Monitor Application Logs<a class="headerlink" href="#step-3-monitor-application-logs" title="Permanent link"></a></h3>
<p><strong>3.1 Configure Log Aggregation</strong></p>
<p><strong>For EKS:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="c1"># Verify Fluentd/CloudWatch Logs integration</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>daemonset<span class="w"> </span>-n<span class="w"> </span>amazon-cloudwatch
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="c1"># Check log streams</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>aws<span class="w"> </span>logs<span class="w"> </span>describe-log-streams<span class="w"> </span>--log-group-name<span class="w"> </span>/aws/eks/corridor-cluster/cluster
</span></code></pre></div>
<p><strong>For ECS:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1"># Logs are automatically sent to CloudWatch Logs</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="c1"># Check log groups</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>aws<span class="w"> </span>logs<span class="w"> </span>describe-log-groups<span class="w"> </span>--log-group-name-prefix<span class="w"> </span>/ecs/corridor
</span></code></pre></div>
<p><strong>For EC2:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="c1"># Install CloudWatch Agent</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>wget<span class="w"> </span>https://s3.amazonaws.com/amazoncloudwatch-agent/amazon_linux/amd64/latest/amazon-cloudwatch-agent.rpm
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>sudo<span class="w"> </span>rpm<span class="w"> </span>-U<span class="w"> </span>./amazon-cloudwatch-agent.rpm
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="c1"># Configure CloudWatch Agent</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a>sudo<span class="w"> </span>/opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard
</span></code></pre></div>
<p><strong>3.2 Monitor Application Logs</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="c1"># View recent application logs</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/ecs/corridor<span class="w"> </span>--follow
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="c1"># Filter for errors</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>aws<span class="w"> </span>logs<span class="w"> </span>filter-log-events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">  </span>--log-group-name<span class="w"> </span>/ecs/corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="w">  </span>--filter-pattern<span class="w"> </span><span class="s2">"ERROR"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%s<span class="k">)</span><span class="m">000</span>
</span><span id="__span-66-9"><a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a>
</span><span id="__span-66-10"><a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a><span class="c1"># Search for specific patterns</span>
</span><span id="__span-66-11"><a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a>aws<span class="w"> </span>logs<span class="w"> </span>filter-log-events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-12"><a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a><span class="w">  </span>--log-group-name<span class="w"> </span>/ecs/corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-13"><a id="__codelineno-66-13" name="__codelineno-66-13" href="#__codelineno-66-13"></a><span class="w">  </span>--filter-pattern<span class="w"> </span><span class="s2">"database connection"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-66-14"><a id="__codelineno-66-14" name="__codelineno-66-14" href="#__codelineno-66-14"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-d<span class="w"> </span><span class="s1">'24 hours ago'</span><span class="w"> </span>+%s<span class="k">)</span><span class="m">000</span>
</span></code></pre></div>
<h3 id="step-4-monitor-database-health">Step 4: Monitor Database Health<a class="headerlink" href="#step-4-monitor-database-health" title="Permanent link"></a></h3>
<p><strong>4.1 Check RDS Instance Status</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="c1"># Check database instance status</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].[DBInstanceStatus,DBInstanceClass,MultiAZ,BackupRetentionPeriod]'</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="c1"># Expected output:</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="c1"># - DBInstanceStatus: "available"</span>
</span><span id="__span-67-8"><a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="c1"># - MultiAZ: true (for production)</span>
</span><span id="__span-67-9"><a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="c1"># - BackupRetentionPeriod: 7 (or higher)</span>
</span></code></pre></div>
<p><strong>4.2 Monitor Database Metrics</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="c1"># Check database CPU utilization</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/RDS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>DBInstanceIdentifier,Value<span class="o">=</span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-7"><a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-8"><a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-9"><a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="w">  </span>--statistics<span class="w"> </span>Average
</span><span id="__span-68-10"><a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a>
</span><span id="__span-68-11"><a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="c1"># Check database connections</span>
</span><span id="__span-68-12"><a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-13"><a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/RDS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-14"><a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="w">  </span>--metric-name<span class="w"> </span>DatabaseConnections<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-15"><a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>DBInstanceIdentifier,Value<span class="o">=</span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-16"><a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-17"><a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-18"><a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-68-19"><a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="w">  </span>--statistics<span class="w"> </span>Average,Maximum
</span></code></pre></div>
<p><strong>4.3 Test Database Connectivity</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="c1"># Test database connection from application</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="c1"># For EKS:</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--<span class="w"> </span><span class="se">\</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">  </span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">"import psycopg2; conn = psycopg2.connect(host='&lt;rds-endpoint&gt;', user='corridor', password='&lt;password&gt;', dbname='corridor'); print('Connected successfully')"</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="c1"># For ECS:</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>aws<span class="w"> </span>ecs<span class="w"> </span>execute-command<span class="w"> </span><span class="se">\</span>
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="w">  </span>--task<span class="w"> </span>&lt;task-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-69-10"><a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="w">  </span>--container<span class="w"> </span>corridor-app<span class="w"> </span><span class="se">\</span>
</span><span id="__span-69-11"><a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="w">  </span>--command<span class="w"> </span><span class="s2">"python3 -c \"import psycopg2; conn = psycopg2.connect(host='&lt;rds-endpoint&gt;', user='corridor', password='&lt;password&gt;', dbname='corridor'); print('Connected successfully')\""</span>
</span><span id="__span-69-12"><a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>
</span><span id="__span-69-13"><a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a><span class="c1"># For EC2:</span>
</span><span id="__span-69-14"><a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor<span class="w"> </span>-c<span class="w"> </span><span class="s2">"SELECT version();"</span>
</span></code></pre></div>
<p><strong>4.4 Check Database Backup Status</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="c1"># List recent backups</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-snapshots<span class="w"> </span><span class="se">\</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBSnapshots[*].[DBSnapshotIdentifier,Status,SnapshotCreateTime]'</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">  </span>--output<span class="w"> </span>table
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="c1"># Verify automated backups are enabled</span>
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-70-9"><a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-70-10"><a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].[BackupRetentionPeriod,AutomatedBackups]'</span>
</span></code></pre></div>
<h3 id="step-5-monitor-storage-health">Step 5: Monitor Storage Health<a class="headerlink" href="#step-5-monitor-storage-health" title="Permanent link"></a></h3>
<p><strong>5.1 Monitor EFS File System (EKS/Fargate)</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="c1"># Check EFS file system status</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-file-systems<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="c1"># Check mount target status</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-mount-targets<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="c1"># Monitor EFS metrics</span>
</span><span id="__span-71-8"><a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-9"><a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/EFS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-10"><a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a><span class="w">  </span>--metric-name<span class="w"> </span>StorageBytes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-11"><a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>FileSystemId,Value<span class="o">=</span>&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-12"><a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-13"><a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-14"><a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-71-15"><a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a><span class="w">  </span>--statistics<span class="w"> </span>Average
</span></code></pre></div>
<p><strong>5.2 Monitor EBS Volumes (EC2)</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="c1"># Check EBS volume status</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-volumes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">  </span>--volume-ids<span class="w"> </span>&lt;volume-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'Volumes[0].[State,Size,VolumeType,Iops]'</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="c1"># Monitor EBS metrics</span>
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-8"><a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/EBS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-9"><a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a><span class="w">  </span>--metric-name<span class="w"> </span>VolumeReadOps<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-10"><a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>VolumeId,Value<span class="o">=</span>&lt;volume-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-11"><a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-12"><a id="__codelineno-72-12" name="__codelineno-72-12" href="#__codelineno-72-12"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-13"><a id="__codelineno-72-13" name="__codelineno-72-13" href="#__codelineno-72-13"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-72-14"><a id="__codelineno-72-14" name="__codelineno-72-14" href="#__codelineno-72-14"></a><span class="w">  </span>--statistics<span class="w"> </span>Sum
</span></code></pre></div>
<p><strong>5.3 Monitor S3 Bucket Health</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="c1"># Check S3 bucket metrics</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/S3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">  </span>--metric-name<span class="w"> </span>BucketSizeBytes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>BucketName,Value<span class="o">=</span>corridor-backups<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>StorageType,Value<span class="o">=</span>StandardStorage<span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 day ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-8"><a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">3600</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-73-9"><a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a><span class="w">  </span>--statistics<span class="w"> </span>Average
</span></code></pre></div>
<h3 id="step-6-monitor-network-health">Step 6: Monitor Network Health<a class="headerlink" href="#step-6-monitor-network-health" title="Permanent link"></a></h3>
<p><strong>6.1 Monitor Load Balancer Health</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="c1"># Check target health</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="c1"># Monitor ALB metrics</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ApplicationELB<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">  </span>--metric-name<span class="w"> </span>TargetResponseTime<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>LoadBalancer,Value<span class="o">=</span>&lt;alb-arn-suffix&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-10"><a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-11"><a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-12"><a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="w">  </span>--statistics<span class="w"> </span>Average
</span><span id="__span-74-13"><a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a>
</span><span id="__span-74-14"><a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="c1"># Check HTTP error rates</span>
</span><span id="__span-74-15"><a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-16"><a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ApplicationELB<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-17"><a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a><span class="w">  </span>--metric-name<span class="w"> </span>HTTPCode_Target_5XX_Count<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-18"><a id="__codelineno-74-18" name="__codelineno-74-18" href="#__codelineno-74-18"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>LoadBalancer,Value<span class="o">=</span>&lt;alb-arn-suffix&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-19"><a id="__codelineno-74-19" name="__codelineno-74-19" href="#__codelineno-74-19"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-20"><a id="__codelineno-74-20" name="__codelineno-74-20" href="#__codelineno-74-20"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-21"><a id="__codelineno-74-21" name="__codelineno-74-21" href="#__codelineno-74-21"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-74-22"><a id="__codelineno-74-22" name="__codelineno-74-22" href="#__codelineno-74-22"></a><span class="w">  </span>--statistics<span class="w"> </span>Sum
</span></code></pre></div>
<p><strong>6.2 Monitor NAT Gateway Health</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="c1"># Check NAT Gateway status</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-nat-gateways<span class="w"> </span>--nat-gateway-ids<span class="w"> </span>&lt;nat-gateway-id&gt;
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="c1"># Monitor NAT Gateway metrics</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/NATGateway<span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="w">  </span>--metric-name<span class="w"> </span>BytesOutToDestination<span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>NatGatewayId,Value<span class="o">=</span>&lt;nat-gateway-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-9"><a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-10"><a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-11"><a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-75-12"><a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a><span class="w">  </span>--statistics<span class="w"> </span>Sum
</span></code></pre></div>
<h3 id="step-7-perform-regular-health-assessments">Step 7: Perform Regular Health Assessments<a class="headerlink" href="#step-7-perform-regular-health-assessments" title="Permanent link"></a></h3>
<p><strong>7.1 Daily Health Check Routine</strong></p>
<p>Perform these checks daily:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="c1"># 1. Check application health endpoint</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="c1"># 2. Verify all targets are healthy</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-c<span class="w"> </span><span class="s2">"healthy"</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="c1"># 3. Check for recent errors in logs</span>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a>aws<span class="w"> </span>logs<span class="w"> </span>filter-log-events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="w">  </span>--log-group-name<span class="w"> </span>/ecs/corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="w">  </span>--filter-pattern<span class="w"> </span><span class="s2">"ERROR"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-d<span class="w"> </span><span class="s1">'24 hours ago'</span><span class="w"> </span>+%s<span class="k">)</span><span class="m">000</span>
</span><span id="__span-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a>
</span><span id="__span-76-13"><a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a><span class="c1"># 4. Verify database is available</span>
</span><span id="__span-76-14"><a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].DBInstanceStatus'</span>
</span><span id="__span-76-15"><a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a>
</span><span id="__span-76-16"><a id="__codelineno-76-16" name="__codelineno-76-16" href="#__codelineno-76-16"></a><span class="c1"># 5. Check CloudWatch alarms</span>
</span><span id="__span-76-17"><a id="__codelineno-76-17" name="__codelineno-76-17" href="#__codelineno-76-17"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>describe-alarms<span class="w"> </span>--alarm-names<span class="w"> </span>corridor-health-check-failures<span class="w"> </span>corridor-high-cpu<span class="w"> </span>corridor-high-memory
</span></code></pre></div>
<p><strong>7.2 Weekly Health Assessment</strong></p>
<p>Perform these checks weekly:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="c1"># 1. Review CloudWatch metrics trends</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="c1"># Check CPU and memory trends over the past week</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ServiceName,Value<span class="o">=</span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'7 days ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-9"><a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">3600</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-10"><a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a><span class="w">  </span>--statistics<span class="w"> </span>Average,Maximum
</span><span id="__span-77-11"><a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a>
</span><span id="__span-77-12"><a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a><span class="c1"># 2. Review database performance</span>
</span><span id="__span-77-13"><a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-14"><a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/RDS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-15"><a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a><span class="w">  </span>--metric-name<span class="w"> </span>ReadLatency<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-16"><a id="__codelineno-77-16" name="__codelineno-77-16" href="#__codelineno-77-16"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>DBInstanceIdentifier,Value<span class="o">=</span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-17"><a id="__codelineno-77-17" name="__codelineno-77-17" href="#__codelineno-77-17"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'7 days ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-18"><a id="__codelineno-77-18" name="__codelineno-77-18" href="#__codelineno-77-18"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-19"><a id="__codelineno-77-19" name="__codelineno-77-19" href="#__codelineno-77-19"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">3600</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-20"><a id="__codelineno-77-20" name="__codelineno-77-20" href="#__codelineno-77-20"></a><span class="w">  </span>--statistics<span class="w"> </span>Average,Maximum
</span><span id="__span-77-21"><a id="__codelineno-77-21" name="__codelineno-77-21" href="#__codelineno-77-21"></a>
</span><span id="__span-77-22"><a id="__codelineno-77-22" name="__codelineno-77-22" href="#__codelineno-77-22"></a><span class="c1"># 3. Verify backup completion</span>
</span><span id="__span-77-23"><a id="__codelineno-77-23" name="__codelineno-77-23" href="#__codelineno-77-23"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-snapshots<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-24"><a id="__codelineno-77-24" name="__codelineno-77-24" href="#__codelineno-77-24"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-25"><a id="__codelineno-77-25" name="__codelineno-77-25" href="#__codelineno-77-25"></a><span class="w">  </span>--snapshot-type<span class="w"> </span>automated<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-26"><a id="__codelineno-77-26" name="__codelineno-77-26" href="#__codelineno-77-26"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBSnapshots[0].[DBSnapshotIdentifier,SnapshotCreateTime]'</span>
</span><span id="__span-77-27"><a id="__codelineno-77-27" name="__codelineno-77-27" href="#__codelineno-77-27"></a>
</span><span id="__span-77-28"><a id="__codelineno-77-28" name="__codelineno-77-28" href="#__codelineno-77-28"></a><span class="c1"># 4. Review storage usage trends</span>
</span><span id="__span-77-29"><a id="__codelineno-77-29" name="__codelineno-77-29" href="#__codelineno-77-29"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-30"><a id="__codelineno-77-30" name="__codelineno-77-30" href="#__codelineno-77-30"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/EFS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-31"><a id="__codelineno-77-31" name="__codelineno-77-31" href="#__codelineno-77-31"></a><span class="w">  </span>--metric-name<span class="w"> </span>StorageBytes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-32"><a id="__codelineno-77-32" name="__codelineno-77-32" href="#__codelineno-77-32"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>FileSystemId,Value<span class="o">=</span>&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-33"><a id="__codelineno-77-33" name="__codelineno-77-33" href="#__codelineno-77-33"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'7 days ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-34"><a id="__codelineno-77-34" name="__codelineno-77-34" href="#__codelineno-77-34"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-35"><a id="__codelineno-77-35" name="__codelineno-77-35" href="#__codelineno-77-35"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">3600</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-77-36"><a id="__codelineno-77-36" name="__codelineno-77-36" href="#__codelineno-77-36"></a><span class="w">  </span>--statistics<span class="w"> </span>Average,Maximum
</span></code></pre></div>
<p><strong>7.3 Monthly Health Review</strong></p>
<p>Perform these checks monthly:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="c1"># 1. Review cost trends</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>aws<span class="w"> </span>ce<span class="w"> </span>get-cost-and-usage<span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">  </span>--time-period<span class="w"> </span><span class="nv">Start</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 month ago'</span><span class="w"> </span>+%Y-%m-01<span class="k">)</span>,End<span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-01<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="w">  </span>--granularity<span class="w"> </span>MONTHLY<span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="w">  </span>--metrics<span class="w"> </span>BlendedCost
</span><span id="__span-78-6"><a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a>
</span><span id="__span-78-7"><a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a><span class="c1"># 2. Review security group rules</span>
</span><span id="__span-78-8"><a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;sg-id&gt;
</span><span id="__span-78-9"><a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a>
</span><span id="__span-78-10"><a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a><span class="c1"># 3. Review IAM access patterns</span>
</span><span id="__span-78-11"><a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a>aws<span class="w"> </span>cloudtrail<span class="w"> </span>lookup-events<span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-12"><a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a><span class="w">  </span>--lookup-attributes<span class="w"> </span><span class="nv">AttributeKey</span><span class="o">=</span>EventName,AttributeValue<span class="o">=</span>AssumeRole<span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-13"><a id="__codelineno-78-13" name="__codelineno-78-13" href="#__codelineno-78-13"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 month ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-78-14"><a id="__codelineno-78-14" name="__codelineno-78-14" href="#__codelineno-78-14"></a><span class="w">  </span>--max-results<span class="w"> </span><span class="m">100</span>
</span><span id="__span-78-15"><a id="__codelineno-78-15" name="__codelineno-78-15" href="#__codelineno-78-15"></a>
</span><span id="__span-78-16"><a id="__codelineno-78-16" name="__codelineno-78-16" href="#__codelineno-78-16"></a><span class="c1"># 4. Review application performance trends</span>
</span><span id="__span-78-17"><a id="__codelineno-78-17" name="__codelineno-78-17" href="#__codelineno-78-17"></a><span class="c1"># Compare response times, error rates, and resource utilization</span>
</span></code></pre></div>
<h3 id="step-8-create-health-monitoring-dashboard">Step 8: Create Health Monitoring Dashboard<a class="headerlink" href="#step-8-create-health-monitoring-dashboard" title="Permanent link"></a></h3>
<p><strong>8.1 Create CloudWatch Dashboard</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="c1"># Create dashboard JSON configuration</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>dashboard.json<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="s">{</span>
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="s">  "widgets": [</span>
</span><span id="__span-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="s">    {</span>
</span><span id="__span-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="s">      "type": "metric",</span>
</span><span id="__span-79-7"><a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="s">      "properties": {</span>
</span><span id="__span-79-8"><a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="s">        "metrics": [</span>
</span><span id="__span-79-9"><a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="s">          ["AWS/ApplicationELB", "HealthyHostCount", {"stat": "Average", "label": "Healthy Targets"}],</span>
</span><span id="__span-79-10"><a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a><span class="s">          [".", "UnHealthyHostCount", {"stat": "Average", "label": "Unhealthy Targets"}]</span>
</span><span id="__span-79-11"><a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="s">        ],</span>
</span><span id="__span-79-12"><a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a><span class="s">        "period": 300,</span>
</span><span id="__span-79-13"><a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a><span class="s">        "stat": "Average",</span>
</span><span id="__span-79-14"><a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a><span class="s">        "region": "us-east-1",</span>
</span><span id="__span-79-15"><a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a><span class="s">        "title": "Load Balancer Health"</span>
</span><span id="__span-79-16"><a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a><span class="s">      }</span>
</span><span id="__span-79-17"><a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a><span class="s">    },</span>
</span><span id="__span-79-18"><a id="__codelineno-79-18" name="__codelineno-79-18" href="#__codelineno-79-18"></a><span class="s">    {</span>
</span><span id="__span-79-19"><a id="__codelineno-79-19" name="__codelineno-79-19" href="#__codelineno-79-19"></a><span class="s">      "type": "metric",</span>
</span><span id="__span-79-20"><a id="__codelineno-79-20" name="__codelineno-79-20" href="#__codelineno-79-20"></a><span class="s">      "properties": {</span>
</span><span id="__span-79-21"><a id="__codelineno-79-21" name="__codelineno-79-21" href="#__codelineno-79-21"></a><span class="s">        "metrics": [</span>
</span><span id="__span-79-22"><a id="__codelineno-79-22" name="__codelineno-79-22" href="#__codelineno-79-22"></a><span class="s">          ["AWS/ECS", "CPUUtilization", {"stat": "Average", "label": "CPU"}],</span>
</span><span id="__span-79-23"><a id="__codelineno-79-23" name="__codelineno-79-23" href="#__codelineno-79-23"></a><span class="s">          [".", "MemoryUtilization", {"stat": "Average", "label": "Memory"}]</span>
</span><span id="__span-79-24"><a id="__codelineno-79-24" name="__codelineno-79-24" href="#__codelineno-79-24"></a><span class="s">        ],</span>
</span><span id="__span-79-25"><a id="__codelineno-79-25" name="__codelineno-79-25" href="#__codelineno-79-25"></a><span class="s">        "period": 300,</span>
</span><span id="__span-79-26"><a id="__codelineno-79-26" name="__codelineno-79-26" href="#__codelineno-79-26"></a><span class="s">        "stat": "Average",</span>
</span><span id="__span-79-27"><a id="__codelineno-79-27" name="__codelineno-79-27" href="#__codelineno-79-27"></a><span class="s">        "region": "us-east-1",</span>
</span><span id="__span-79-28"><a id="__codelineno-79-28" name="__codelineno-79-28" href="#__codelineno-79-28"></a><span class="s">        "title": "Application Resources"</span>
</span><span id="__span-79-29"><a id="__codelineno-79-29" name="__codelineno-79-29" href="#__codelineno-79-29"></a><span class="s">      }</span>
</span><span id="__span-79-30"><a id="__codelineno-79-30" name="__codelineno-79-30" href="#__codelineno-79-30"></a><span class="s">    },</span>
</span><span id="__span-79-31"><a id="__codelineno-79-31" name="__codelineno-79-31" href="#__codelineno-79-31"></a><span class="s">    {</span>
</span><span id="__span-79-32"><a id="__codelineno-79-32" name="__codelineno-79-32" href="#__codelineno-79-32"></a><span class="s">      "type": "metric",</span>
</span><span id="__span-79-33"><a id="__codelineno-79-33" name="__codelineno-79-33" href="#__codelineno-79-33"></a><span class="s">      "properties": {</span>
</span><span id="__span-79-34"><a id="__codelineno-79-34" name="__codelineno-79-34" href="#__codelineno-79-34"></a><span class="s">        "metrics": [</span>
</span><span id="__span-79-35"><a id="__codelineno-79-35" name="__codelineno-79-35" href="#__codelineno-79-35"></a><span class="s">          ["AWS/RDS", "CPUUtilization", {"stat": "Average", "label": "CPU"}],</span>
</span><span id="__span-79-36"><a id="__codelineno-79-36" name="__codelineno-79-36" href="#__codelineno-79-36"></a><span class="s">          [".", "DatabaseConnections", {"stat": "Average", "label": "Connections"}]</span>
</span><span id="__span-79-37"><a id="__codelineno-79-37" name="__codelineno-79-37" href="#__codelineno-79-37"></a><span class="s">        ],</span>
</span><span id="__span-79-38"><a id="__codelineno-79-38" name="__codelineno-79-38" href="#__codelineno-79-38"></a><span class="s">        "period": 300,</span>
</span><span id="__span-79-39"><a id="__codelineno-79-39" name="__codelineno-79-39" href="#__codelineno-79-39"></a><span class="s">        "stat": "Average",</span>
</span><span id="__span-79-40"><a id="__codelineno-79-40" name="__codelineno-79-40" href="#__codelineno-79-40"></a><span class="s">        "region": "us-east-1",</span>
</span><span id="__span-79-41"><a id="__codelineno-79-41" name="__codelineno-79-41" href="#__codelineno-79-41"></a><span class="s">        "title": "Database Health"</span>
</span><span id="__span-79-42"><a id="__codelineno-79-42" name="__codelineno-79-42" href="#__codelineno-79-42"></a><span class="s">      }</span>
</span><span id="__span-79-43"><a id="__codelineno-79-43" name="__codelineno-79-43" href="#__codelineno-79-43"></a><span class="s">    }</span>
</span><span id="__span-79-44"><a id="__codelineno-79-44" name="__codelineno-79-44" href="#__codelineno-79-44"></a><span class="s">  ]</span>
</span><span id="__span-79-45"><a id="__codelineno-79-45" name="__codelineno-79-45" href="#__codelineno-79-45"></a><span class="s">}</span>
</span><span id="__span-79-46"><a id="__codelineno-79-46" name="__codelineno-79-46" href="#__codelineno-79-46"></a><span class="s">EOF</span>
</span><span id="__span-79-47"><a id="__codelineno-79-47" name="__codelineno-79-47" href="#__codelineno-79-47"></a>
</span><span id="__span-79-48"><a id="__codelineno-79-48" name="__codelineno-79-48" href="#__codelineno-79-48"></a><span class="c1"># Create dashboard</span>
</span><span id="__span-79-49"><a id="__codelineno-79-49" name="__codelineno-79-49" href="#__codelineno-79-49"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-dashboard<span class="w"> </span><span class="se">\</span>
</span><span id="__span-79-50"><a id="__codelineno-79-50" name="__codelineno-79-50" href="#__codelineno-79-50"></a><span class="w">  </span>--dashboard-name<span class="w"> </span>CorridorHealthDashboard<span class="w"> </span><span class="se">\</span>
</span><span id="__span-79-51"><a id="__codelineno-79-51" name="__codelineno-79-51" href="#__codelineno-79-51"></a><span class="w">  </span>--dashboard-body<span class="w"> </span>file://dashboard.json
</span></code></pre></div>
<p><strong>8.2 Access Dashboard</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="c1"># View dashboard URL</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">"https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#dashboards:name=CorridorHealthDashboard"</span>
</span></code></pre></div>
<h2 id="backup-and-recovery">Backup and Recovery<a class="headerlink" href="#backup-and-recovery" title="Permanent link"></a></h2>
<p>This section identifies the data stores and configurations that need to be backed up, and provides step-by-step instructions for backup and recovery procedures.</p>
<h3 id="data-stores-and-configurations-for-backup">Data Stores and Configurations for Backup<a class="headerlink" href="#data-stores-and-configurations-for-backup" title="Permanent link"></a></h3>
<p>The following data stores and configurations must be backed up to ensure complete recovery capability:</p>
<p><strong>1. Metadata Database (Amazon RDS PostgreSQL)</strong></p>
<ul>
<li><strong>Data Type</strong>: Application metadata, user accounts, pipelines, prompts, models, RAG configurations, evaluation results, audit logs</li>
<li><strong>Backup Method</strong>: RDS automated backups and manual snapshots</li>
<li><strong>Backup Frequency</strong>: </li>
<li>Automated backups: Daily (retention period: 7-35 days)</li>
<li>Manual snapshots: Before major changes or weekly</li>
<li><strong>Storage Location</strong>: RDS backup storage (automated) or S3 (manual snapshots)</li>
</ul>
<p><strong>2. File Storage</strong></p>
<ul>
<li><strong>EKS/Fargate Deployments</strong>: Amazon EFS file system</li>
<li><strong>Data Type</strong>: Uploaded files, datasets, generated artifacts, temporary files</li>
<li><strong>Backup Method</strong>: EFS-to-EFS backup or EFS-to-S3 backup</li>
<li><strong>Backup Frequency</strong>: Daily incremental, weekly full</li>
<li><strong>EC2 Deployments</strong>: EBS volumes or local filesystem</li>
<li><strong>Data Type</strong>: Uploaded files, datasets, generated artifacts</li>
<li><strong>Backup Method</strong>: EBS snapshots or file system backups</li>
<li><strong>Backup Frequency</strong>: Daily snapshots</li>
</ul>
<p><strong>3. Application Configuration</strong></p>
<ul>
<li><strong>Data Type</strong>: Configuration files, environment variables, secrets</li>
<li><strong>Backup Method</strong>: Version control (Git) or S3 backups</li>
<li><strong>Backup Frequency</strong>: Before configuration changes</li>
<li><strong>Location</strong>: </li>
<li>Kubernetes ConfigMaps/Secrets (EKS)</li>
<li>ECS task definitions (ECS)</li>
<li>Configuration files on EC2 instances</li>
</ul>
<p><strong>4. SSL/TLS Certificates</strong></p>
<ul>
<li><strong>Data Type</strong>: SSL certificates and private keys</li>
<li><strong>Backup Method</strong>: Export certificates from ACM or cert-manager</li>
<li><strong>Backup Frequency</strong>: Before certificate renewal</li>
<li><strong>Storage Location</strong>: Secure S3 bucket or secure file storage</li>
</ul>
<p><strong>5. IAM Roles and Policies</strong></p>
<ul>
<li><strong>Data Type</strong>: IAM role definitions, policies, trust relationships</li>
<li><strong>Backup Method</strong>: Infrastructure-as-Code (Terraform/CloudFormation) or AWS CLI export</li>
<li><strong>Backup Frequency</strong>: Before IAM changes</li>
<li><strong>Storage Location</strong>: Version control or S3</li>
</ul>
<h3 id="step-by-step-backup-procedures">Step-by-Step Backup Procedures<a class="headerlink" href="#step-by-step-backup-procedures" title="Permanent link"></a></h3>
<h4 id="database-backup">Database Backup<a class="headerlink" href="#database-backup" title="Permanent link"></a></h4>
<p><strong>Automated RDS Backups:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1"># Verify automated backups are enabled</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].[BackupRetentionPeriod,AutomatedBackups]'</span>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>
</span><span id="__span-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="c1"># List recent automated backups</span>
</span><span id="__span-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-snapshots<span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-8"><a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-9"><a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a><span class="w">  </span>--snapshot-type<span class="w"> </span>automated<span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-10"><a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBSnapshots[*].[DBSnapshotIdentifier,SnapshotCreateTime,Status]'</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-81-11"><a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a><span class="w">  </span>--output<span class="w"> </span>table
</span></code></pre></div>
<p><strong>Manual Database Snapshot:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="c1"># Create manual snapshot</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>create-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>corridor-db-manual-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db
</span><span id="__span-82-5"><a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a>
</span><span id="__span-82-6"><a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="c1"># Wait for snapshot completion</span>
</span><span id="__span-82-7"><a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a>aws<span class="w"> </span>rds<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>db-snapshot-completed<span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-8"><a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>corridor-db-manual-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span>
</span><span id="__span-82-9"><a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a>
</span><span id="__span-82-10"><a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="c1"># Copy snapshot to another region (for disaster recovery)</span>
</span><span id="__span-82-11"><a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a>aws<span class="w"> </span>rds<span class="w"> </span>copy-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-12"><a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a><span class="w">  </span>--source-db-snapshot-identifier<span class="w"> </span>corridor-db-manual-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-13"><a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="w">  </span>--target-db-snapshot-identifier<span class="w"> </span>corridor-db-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-82-14"><a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="w">  </span>--target-region<span class="w"> </span>us-west-2
</span></code></pre></div>
<p><strong>Proprietary Database Export (Corridor API):</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="c1"># For EKS deployments</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-api<span class="w"> </span>--<span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">  </span>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">  </span>--output<span class="w"> </span>/tmp/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="c1"># Copy export file to S3</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a>kubectl<span class="w"> </span>cp<span class="w"> </span>corridor/&lt;pod-name&gt;:/tmp/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite<span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-8"><a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="w">  </span>./corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite
</span><span id="__span-83-9"><a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a>
</span><span id="__span-83-10"><a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite<span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-11"><a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/database/
</span><span id="__span-83-12"><a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a>
</span><span id="__span-83-13"><a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a><span class="c1"># For EC2 deployments</span>
</span><span id="__span-83-14"><a id="__codelineno-83-14" name="__codelineno-83-14" href="#__codelineno-83-14"></a>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-15"><a id="__codelineno-83-15" name="__codelineno-83-15" href="#__codelineno-83-15"></a><span class="w">  </span>--output<span class="w"> </span>/opt/corridor/backups/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite
</span><span id="__span-83-16"><a id="__codelineno-83-16" name="__codelineno-83-16" href="#__codelineno-83-16"></a>
</span><span id="__span-83-17"><a id="__codelineno-83-17" name="__codelineno-83-17" href="#__codelineno-83-17"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>/opt/corridor/backups/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sqlite<span class="w"> </span><span class="se">\</span>
</span><span id="__span-83-18"><a id="__codelineno-83-18" name="__codelineno-83-18" href="#__codelineno-83-18"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/database/
</span></code></pre></div>
<h4 id="file-storage-backup">File Storage Backup<a class="headerlink" href="#file-storage-backup" title="Permanent link"></a></h4>
<p><strong>EFS Backup (EKS/Fargate):</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="c1"># Create EFS backup using AWS Backup</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a>aws<span class="w"> </span>backup<span class="w"> </span>create-backup-vault<span class="w"> </span>--backup-vault-name<span class="w"> </span>corridor-efs-backup-vault
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a>aws<span class="w"> </span>backup<span class="w"> </span>start-backup-job<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-5"><a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="w">  </span>--backup-vault-name<span class="w"> </span>corridor-efs-backup-vault<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-6"><a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a><span class="w">  </span>--resource-arn<span class="w"> </span>arn:aws:elasticfilesystem:us-east-1:&lt;account-id&gt;:file-system/&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-7"><a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a><span class="w">  </span>--iam-role-arn<span class="w"> </span>arn:aws:iam::&lt;account-id&gt;:role/service-role/AWSBackupDefaultServiceRole
</span><span id="__span-84-8"><a id="__codelineno-84-8" name="__codelineno-84-8" href="#__codelineno-84-8"></a>
</span><span id="__span-84-9"><a id="__codelineno-84-9" name="__codelineno-84-9" href="#__codelineno-84-9"></a><span class="c1"># Or use DataSync to copy to S3</span>
</span><span id="__span-84-10"><a id="__codelineno-84-10" name="__codelineno-84-10" href="#__codelineno-84-10"></a>aws<span class="w"> </span>datasync<span class="w"> </span>create-location-efs<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-11"><a id="__codelineno-84-11" name="__codelineno-84-11" href="#__codelineno-84-11"></a><span class="w">  </span>--efs-filesystem-arn<span class="w"> </span>arn:aws:elasticfilesystem:us-east-1:&lt;account-id&gt;:file-system/&lt;efs-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-12"><a id="__codelineno-84-12" name="__codelineno-84-12" href="#__codelineno-84-12"></a><span class="w">  </span>--ec2-config<span class="w"> </span><span class="nv">SubnetArn</span><span class="o">=</span>arn:aws:ec2:us-east-1:&lt;account-id&gt;:subnet/&lt;subnet-id&gt;,SecurityGroupArns<span class="o">=</span>arn:aws:ec2:us-east-1:&lt;account-id&gt;:security-group/&lt;sg-id&gt;
</span><span id="__span-84-13"><a id="__codelineno-84-13" name="__codelineno-84-13" href="#__codelineno-84-13"></a>
</span><span id="__span-84-14"><a id="__codelineno-84-14" name="__codelineno-84-14" href="#__codelineno-84-14"></a>aws<span class="w"> </span>datasync<span class="w"> </span>create-location-s3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-15"><a id="__codelineno-84-15" name="__codelineno-84-15" href="#__codelineno-84-15"></a><span class="w">  </span>--s3-bucket-arn<span class="w"> </span>arn:aws:s3:::corridor-backups-&lt;unique-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-16"><a id="__codelineno-84-16" name="__codelineno-84-16" href="#__codelineno-84-16"></a><span class="w">  </span>--s3-config<span class="w"> </span><span class="nv">BucketAccessRoleArn</span><span class="o">=</span>arn:aws:iam::&lt;account-id&gt;:role/DataSyncS3Role
</span><span id="__span-84-17"><a id="__codelineno-84-17" name="__codelineno-84-17" href="#__codelineno-84-17"></a>
</span><span id="__span-84-18"><a id="__codelineno-84-18" name="__codelineno-84-18" href="#__codelineno-84-18"></a>aws<span class="w"> </span>datasync<span class="w"> </span>create-task<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-19"><a id="__codelineno-84-19" name="__codelineno-84-19" href="#__codelineno-84-19"></a><span class="w">  </span>--source-location-arn<span class="w"> </span>&lt;efs-location-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-20"><a id="__codelineno-84-20" name="__codelineno-84-20" href="#__codelineno-84-20"></a><span class="w">  </span>--destination-location-arn<span class="w"> </span>&lt;s3-location-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-84-21"><a id="__codelineno-84-21" name="__codelineno-84-21" href="#__codelineno-84-21"></a><span class="w">  </span>--name<span class="w"> </span>corridor-efs-backup-task
</span></code></pre></div>
<p><strong>EBS Snapshot Backup (EC2):</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="c1"># Create EBS snapshot</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">  </span>--volume-id<span class="w"> </span>&lt;volume-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">  </span>--description<span class="w"> </span><span class="s2">"Corridor EBS backup </span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="s2">"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">  </span>--tag-specifications<span class="w"> </span><span class="s1">'ResourceType=snapshot,Tags=[{Key=Name,Value=corridor-ebs-backup}]'</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a>
</span><span id="__span-85-7"><a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="c1"># Copy snapshot to another region</span>
</span><span id="__span-85-8"><a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a>aws<span class="w"> </span>ec2<span class="w"> </span>copy-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-9"><a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w">  </span>--source-region<span class="w"> </span>us-east-1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-10"><a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w">  </span>--source-snapshot-id<span class="w"> </span>&lt;snapshot-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-11"><a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="w">  </span>--region<span class="w"> </span>us-west-2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-85-12"><a id="__codelineno-85-12" name="__codelineno-85-12" href="#__codelineno-85-12"></a><span class="w">  </span>--description<span class="w"> </span><span class="s2">"Corridor EBS backup copy"</span>
</span></code></pre></div>
<h4 id="configuration-backup">Configuration Backup<a class="headerlink" href="#configuration-backup" title="Permanent link"></a></h4>
<p><strong>Kubernetes ConfigMaps and Secrets (EKS):</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="c1"># Backup all ConfigMaps</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmaps<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&gt;<span class="w"> </span>corridor-configmaps-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.yaml
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="c1"># Backup all Secrets (without sensitive data in output)</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secrets<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&gt;<span class="w"> </span>corridor-secrets-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.yaml
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="c1"># Upload to S3</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>corridor-configmaps-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-86-9"><a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/config/
</span><span id="__span-86-10"><a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>corridor-secrets-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-86-11"><a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/config/
</span></code></pre></div>
<p><strong>ECS Task Definitions:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="c1"># Export task definition</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-task-definition<span class="w"> </span><span class="se">\</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task<span class="w"> </span><span class="se">\</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'taskDefinition'</span><span class="w"> </span>&gt;<span class="w"> </span>corridor-task-definition-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.json
</span><span id="__span-87-5"><a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a>
</span><span id="__span-87-6"><a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>corridor-task-definition-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.json<span class="w"> </span><span class="se">\</span>
</span><span id="__span-87-7"><a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/config/
</span></code></pre></div>
<p><strong>EC2 Configuration Files:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="c1"># Backup configuration directory</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a>tar<span class="w"> </span>-czf<span class="w"> </span>corridor-config-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.tar.gz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">  </span>/opt/corridor/instances/default/config
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>corridor-config-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.tar.gz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">  </span>s3://corridor-backups-&lt;unique-id&gt;/config/
</span></code></pre></div>
<h3 id="step-by-step-recovery-procedures">Step-by-Step Recovery Procedures<a class="headerlink" href="#step-by-step-recovery-procedures" title="Permanent link"></a></h3>
<h4 id="database-recovery">Database Recovery<a class="headerlink" href="#database-recovery" title="Permanent link"></a></h4>
<p><strong>Restore from RDS Snapshot:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="c1"># List available snapshots</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-snapshots<span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBSnapshots[*].[DBSnapshotIdentifier,SnapshotCreateTime]'</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">  </span>--output<span class="w"> </span>table
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a>
</span><span id="__span-89-7"><a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="c1"># Restore database from snapshot</span>
</span><span id="__span-89-8"><a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a>aws<span class="w"> </span>rds<span class="w"> </span>restore-db-instance-from-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-9"><a id="__codelineno-89-9" name="__codelineno-89-9" href="#__codelineno-89-9"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db-restored<span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-10"><a id="__codelineno-89-10" name="__codelineno-89-10" href="#__codelineno-89-10"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>corridor-db-manual-20240101-120000<span class="w"> </span><span class="se">\</span>
</span><span id="__span-89-11"><a id="__codelineno-89-11" name="__codelineno-89-11" href="#__codelineno-89-11"></a><span class="w">  </span>--db-instance-class<span class="w"> </span>db.t3.xlarge
</span><span id="__span-89-12"><a id="__codelineno-89-12" name="__codelineno-89-12" href="#__codelineno-89-12"></a>
</span><span id="__span-89-13"><a id="__codelineno-89-13" name="__codelineno-89-13" href="#__codelineno-89-13"></a><span class="c1"># Update application configuration to point to restored database</span>
</span><span id="__span-89-14"><a id="__codelineno-89-14" name="__codelineno-89-14" href="#__codelineno-89-14"></a><span class="c1"># For EKS: Update ConfigMap/Secret with new database endpoint</span>
</span><span id="__span-89-15"><a id="__codelineno-89-15" name="__codelineno-89-15" href="#__codelineno-89-15"></a><span class="c1"># For ECS: Update task definition with new database endpoint</span>
</span><span id="__span-89-16"><a id="__codelineno-89-16" name="__codelineno-89-16" href="#__codelineno-89-16"></a><span class="c1"># For EC2: Update configuration file with new database endpoint</span>
</span></code></pre></div>
<p><strong>Restore from Proprietary Export:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="c1"># Download export file from S3</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/database/corridor-backup-20240101.sqlite<span class="w"> </span><span class="se">\</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">  </span>./corridor-backup-20240101.sqlite
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a>
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="c1"># Import into database</span>
</span><span id="__span-90-6"><a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="c1"># For EKS:</span>
</span><span id="__span-90-7"><a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a>kubectl<span class="w"> </span>cp<span class="w"> </span>./corridor-backup-20240101.sqlite<span class="w"> </span><span class="se">\</span>
</span><span id="__span-90-8"><a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a><span class="w">  </span>corridor/&lt;pod-name&gt;:/tmp/corridor-backup-20240101.sqlite
</span><span id="__span-90-9"><a id="__codelineno-90-9" name="__codelineno-90-9" href="#__codelineno-90-9"></a>
</span><span id="__span-90-10"><a id="__codelineno-90-10" name="__codelineno-90-10" href="#__codelineno-90-10"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-api<span class="w"> </span>--<span class="w"> </span><span class="se">\</span>
</span><span id="__span-90-11"><a id="__codelineno-90-11" name="__codelineno-90-11" href="#__codelineno-90-11"></a><span class="w">  </span>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span>import<span class="w"> </span><span class="se">\</span>
</span><span id="__span-90-12"><a id="__codelineno-90-12" name="__codelineno-90-12" href="#__codelineno-90-12"></a><span class="w">  </span>--input<span class="w"> </span>/tmp/corridor-backup-20240101.sqlite
</span><span id="__span-90-13"><a id="__codelineno-90-13" name="__codelineno-90-13" href="#__codelineno-90-13"></a>
</span><span id="__span-90-14"><a id="__codelineno-90-14" name="__codelineno-90-14" href="#__codelineno-90-14"></a><span class="c1"># For EC2:</span>
</span><span id="__span-90-15"><a id="__codelineno-90-15" name="__codelineno-90-15" href="#__codelineno-90-15"></a>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span>import<span class="w"> </span><span class="se">\</span>
</span><span id="__span-90-16"><a id="__codelineno-90-16" name="__codelineno-90-16" href="#__codelineno-90-16"></a><span class="w">  </span>--input<span class="w"> </span>./corridor-backup-20240101.sqlite
</span></code></pre></div>
<h4 id="file-storage-recovery">File Storage Recovery<a class="headerlink" href="#file-storage-recovery" title="Permanent link"></a></h4>
<p><strong>Restore EFS from Backup:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="c1"># Restore from AWS Backup</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>aws<span class="w"> </span>backup<span class="w"> </span>start-restore-job<span class="w"> </span><span class="se">\</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">  </span>--recovery-point-arn<span class="w"> </span>&lt;recovery-point-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-91-4"><a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">  </span>--iam-role-arn<span class="w"> </span>arn:aws:iam::&lt;account-id&gt;:role/service-role/AWSBackupDefaultServiceRole<span class="w"> </span><span class="se">\</span>
</span><span id="__span-91-5"><a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="w">  </span>--resource-type<span class="w"> </span>EFS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-91-6"><a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="w">  </span>--metadata<span class="w"> </span>file-system-id<span class="o">=</span>&lt;efs-id&gt;,new-file-system<span class="o">=</span><span class="nb">true</span>
</span><span id="__span-91-7"><a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a>
</span><span id="__span-91-8"><a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="c1"># Or restore from S3 using DataSync</span>
</span><span id="__span-91-9"><a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a>aws<span class="w"> </span>datasync<span class="w"> </span>start-task-execution<span class="w"> </span>--task-arn<span class="w"> </span>&lt;task-arn&gt;
</span></code></pre></div>
<p><strong>Restore EBS from Snapshot:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="c1"># Create volume from snapshot</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-volume<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">  </span>--snapshot-id<span class="w"> </span>&lt;snapshot-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">  </span>--availability-zone<span class="w"> </span>us-east-1a<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">  </span>--volume-type<span class="w"> </span>gp3
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a>
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="c1"># Attach volume to instance</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a>aws<span class="w"> </span>ec2<span class="w"> </span>attach-volume<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-9"><a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="w">  </span>--volume-id<span class="w"> </span>&lt;volume-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-10"><a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a><span class="w">  </span>--instance-id<span class="w"> </span>&lt;instance-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-92-11"><a id="__codelineno-92-11" name="__codelineno-92-11" href="#__codelineno-92-11"></a><span class="w">  </span>--device<span class="w"> </span>/dev/xvdf
</span><span id="__span-92-12"><a id="__codelineno-92-12" name="__codelineno-92-12" href="#__codelineno-92-12"></a>
</span><span id="__span-92-13"><a id="__codelineno-92-13" name="__codelineno-92-13" href="#__codelineno-92-13"></a><span class="c1"># Mount volume on instance</span>
</span><span id="__span-92-14"><a id="__codelineno-92-14" name="__codelineno-92-14" href="#__codelineno-92-14"></a>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/xvdf<span class="w"> </span>/mnt/restored-data
</span></code></pre></div>
<h4 id="configuration-recovery">Configuration Recovery<a class="headerlink" href="#configuration-recovery" title="Permanent link"></a></h4>
<p><strong>Restore Kubernetes ConfigMaps/Secrets:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="c1"># Download from S3</span>
</span><span id="__span-93-2"><a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/config/corridor-configmaps-backup-20240101.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-93-3"><a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="w">  </span>./corridor-configmaps-backup-20240101.yaml
</span><span id="__span-93-4"><a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a>
</span><span id="__span-93-5"><a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="c1"># Apply restored ConfigMaps</span>
</span><span id="__span-93-6"><a id="__codelineno-93-6" name="__codelineno-93-6" href="#__codelineno-93-6"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>corridor-configmaps-backup-20240101.yaml<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-93-7"><a id="__codelineno-93-7" name="__codelineno-93-7" href="#__codelineno-93-7"></a>
</span><span id="__span-93-8"><a id="__codelineno-93-8" name="__codelineno-93-8" href="#__codelineno-93-8"></a><span class="c1"># Restart pods to pick up new configuration</span>
</span><span id="__span-93-9"><a id="__codelineno-93-9" name="__codelineno-93-9" href="#__codelineno-93-9"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>restart<span class="w"> </span>deployment<span class="w"> </span>-n<span class="w"> </span>corridor
</span></code></pre></div>
<p><strong>Restore ECS Task Definition:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="c1"># Download from S3</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/config/corridor-task-definition-backup-20240101.json<span class="w"> </span><span class="se">\</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">  </span>./corridor-task-definition-backup-20240101.json
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a>
</span><span id="__span-94-5"><a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="c1"># Register restored task definition</span>
</span><span id="__span-94-6"><a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a>aws<span class="w"> </span>ecs<span class="w"> </span>register-task-definition<span class="w"> </span><span class="se">\</span>
</span><span id="__span-94-7"><a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="w">  </span>--cli-input-json<span class="w"> </span>file://corridor-task-definition-backup-20240101.json
</span><span id="__span-94-8"><a id="__codelineno-94-8" name="__codelineno-94-8" href="#__codelineno-94-8"></a>
</span><span id="__span-94-9"><a id="__codelineno-94-9" name="__codelineno-94-9" href="#__codelineno-94-9"></a><span class="c1"># Update service to use restored task definition</span>
</span><span id="__span-94-10"><a id="__codelineno-94-10" name="__codelineno-94-10" href="#__codelineno-94-10"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-94-11"><a id="__codelineno-94-11" name="__codelineno-94-11" href="#__codelineno-94-11"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-94-12"><a id="__codelineno-94-12" name="__codelineno-94-12" href="#__codelineno-94-12"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-94-13"><a id="__codelineno-94-13" name="__codelineno-94-13" href="#__codelineno-94-13"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task
</span></code></pre></div>
<h3 id="automated-backup-schedule">Automated Backup Schedule<a class="headerlink" href="#automated-backup-schedule" title="Permanent link"></a></h3>
<p><strong>Recommended Backup Schedule:</strong></p>
<ul>
<li><strong>Database</strong>: </li>
<li>Automated backups: Daily (retention: 7-35 days)</li>
<li>Manual snapshots: Weekly or before major changes</li>
<li>Cross-region copies: Monthly</li>
<li><strong>File Storage</strong>: </li>
<li>EFS: Daily incremental, weekly full</li>
<li>EBS: Daily snapshots</li>
<li><strong>Configuration</strong>: </li>
<li>Before any configuration changes</li>
<li>Weekly automated backups</li>
</ul>
<p><strong>Backup Verification:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="c1"># Verify backup completion</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a>aws<span class="w"> </span>backup<span class="w"> </span>list-backup-jobs<span class="w"> </span><span class="se">\</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">  </span>--by-state<span class="w"> </span>COMPLETED<span class="w"> </span><span class="se">\</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">  </span>--max-results<span class="w"> </span><span class="m">10</span>
</span><span id="__span-95-5"><a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a>
</span><span id="__span-95-6"><a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="c1"># Test restore procedure quarterly</span>
</span><span id="__span-95-7"><a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="c1"># Restore to test environment and verify data integrity</span>
</span></code></pre></div>
<h2 id="credential-and-key-rotation">Credential and Key Rotation<a class="headerlink" href="#credential-and-key-rotation" title="Permanent link"></a></h2>
<p>This section provides step-by-step instructions for rotating programmatic system credentials and cryptographic keys used in Corridor deployments.</p>
<h3 id="rotating-database-credentials">Rotating Database Credentials<a class="headerlink" href="#rotating-database-credentials" title="Permanent link"></a></h3>
<p><strong>Step 1: Create New Database User</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="c1"># Connect to RDS database</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="c1"># Create new user with temporary password</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a>CREATE<span class="w"> </span>USER<span class="w"> </span>corridor_new<span class="w"> </span>WITH<span class="w"> </span>PASSWORD<span class="w"> </span><span class="s1">'NewSecurePassword123!'</span><span class="p">;</span>
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a>
</span><span id="__span-96-7"><a id="__codelineno-96-7" name="__codelineno-96-7" href="#__codelineno-96-7"></a><span class="c1"># Grant necessary permissions</span>
</span><span id="__span-96-8"><a id="__codelineno-96-8" name="__codelineno-96-8" href="#__codelineno-96-8"></a>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>DATABASE<span class="w"> </span>corridor<span class="w"> </span>TO<span class="w"> </span>corridor_new<span class="p">;</span>
</span><span id="__span-96-9"><a id="__codelineno-96-9" name="__codelineno-96-9" href="#__codelineno-96-9"></a>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>ALL<span class="w"> </span>TABLES<span class="w"> </span>IN<span class="w"> </span>SCHEMA<span class="w"> </span>public<span class="w"> </span>TO<span class="w"> </span>corridor_new<span class="p">;</span>
</span><span id="__span-96-10"><a id="__codelineno-96-10" name="__codelineno-96-10" href="#__codelineno-96-10"></a>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>ALL<span class="w"> </span>SEQUENCES<span class="w"> </span>IN<span class="w"> </span>SCHEMA<span class="w"> </span>public<span class="w"> </span>TO<span class="w"> </span>corridor_new<span class="p">;</span>
</span></code></pre></div>
<p><strong>Step 2: Update Secrets Manager</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="c1"># Create new secret version with updated credentials</span>
</span><span id="__span-97-2"><a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>put-secret-value<span class="w"> </span><span class="se">\</span>
</span><span id="__span-97-3"><a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">  </span>--secret-id<span class="w"> </span>corridor/database/credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-97-4"><a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">  </span>--secret-string<span class="w"> </span><span class="s1">'{"username":"corridor_new","password":"NewSecurePassword123!","host":"&lt;rds-endpoint&gt;","port":"5432","database":"corridor"}'</span>
</span></code></pre></div>
<p><strong>Step 3: Update Application Configuration</strong></p>
<p><strong>For EKS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="c1"># Update Kubernetes secret</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>corridor-db-credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">username</span><span class="o">=</span>corridor_new<span class="w"> </span><span class="se">\</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">password</span><span class="o">=</span>NewSecurePassword123!<span class="w"> </span><span class="se">\</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">host</span><span class="o">=</span>&lt;rds-endpoint&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">  </span>--namespace<span class="w"> </span>corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="w">  </span>--dry-run<span class="o">=</span>client<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-
</span><span id="__span-98-8"><a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a>
</span><span id="__span-98-9"><a id="__codelineno-98-9" name="__codelineno-98-9" href="#__codelineno-98-9"></a><span class="c1"># Restart pods to pick up new credentials</span>
</span><span id="__span-98-10"><a id="__codelineno-98-10" name="__codelineno-98-10" href="#__codelineno-98-10"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>restart<span class="w"> </span>deployment<span class="w"> </span>-n<span class="w"> </span>corridor
</span></code></pre></div><p></p>
<p><strong>For ECS:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="c1"># Update task definition with new secret ARN (if using Secrets Manager integration)</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="c1"># Task definition automatically retrieves latest secret version</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-99-6"><a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="w">  </span>--force-new-deployment
</span></code></pre></div><p></p>
<p><strong>For EC2:</strong>
</p><div class="language-bash highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="c1"># Update configuration file</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a>sudo<span class="w"> </span>vi<span class="w"> </span>/opt/corridor/instances/default/config/api_config.py
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="c1"># Update SQLALCHEMY_DATABASE_URI with new credentials</span>
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a>
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="c1"># Restart services</span>
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api
</span></code></pre></div><p></p>
<p><strong>Step 4: Verify Application Connectivity</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="c1"># Test database connection</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="c1"># Check application logs for connection errors</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="c1"># For EKS: kubectl logs -n corridor deploy/corridor-app --tail=100</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="c1"># For ECS: aws logs tail /ecs/corridor --follow</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="c1"># For EC2: sudo journalctl -u corridor-app -n 100</span>
</span></code></pre></div>
<p><strong>Step 5: Remove Old Database User</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="c1"># After verifying new credentials work (wait 24-48 hours)</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor_new<span class="w"> </span>-d<span class="w"> </span>corridor
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a>
</span><span id="__span-102-4"><a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a><span class="c1"># Revoke permissions from old user</span>
</span><span id="__span-102-5"><a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a>REVOKE<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>DATABASE<span class="w"> </span>corridor<span class="w"> </span>FROM<span class="w"> </span>corridor<span class="p">;</span>
</span><span id="__span-102-6"><a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a>REVOKE<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>ALL<span class="w"> </span>TABLES<span class="w"> </span>IN<span class="w"> </span>SCHEMA<span class="w"> </span>public<span class="w"> </span>FROM<span class="w"> </span>corridor<span class="p">;</span>
</span><span id="__span-102-7"><a id="__codelineno-102-7" name="__codelineno-102-7" href="#__codelineno-102-7"></a>
</span><span id="__span-102-8"><a id="__codelineno-102-8" name="__codelineno-102-8" href="#__codelineno-102-8"></a><span class="c1"># Drop old user</span>
</span><span id="__span-102-9"><a id="__codelineno-102-9" name="__codelineno-102-9" href="#__codelineno-102-9"></a>DROP<span class="w"> </span>USER<span class="w"> </span>corridor<span class="p">;</span>
</span></code></pre></div>
<h3 id="rotating-aws-access-keys">Rotating AWS Access Keys<a class="headerlink" href="#rotating-aws-access-keys" title="Permanent link"></a></h3>
<p><strong>Step 1: Create New Access Key</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="c1"># Create new IAM user access key</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a>aws<span class="w"> </span>iam<span class="w"> </span>create-access-key<span class="w"> </span>--user-name<span class="w"> </span>corridor-service-user
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="c1"># Save new access key ID and secret access key securely</span>
</span></code></pre></div>
<p><strong>Step 2: Update Application Configuration</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="c1"># Update AWS credentials in Secrets Manager</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>put-secret-value<span class="w"> </span><span class="se">\</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">  </span>--secret-id<span class="w"> </span>corridor/aws/credentials<span class="w"> </span><span class="se">\</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">  </span>--secret-string<span class="w"> </span><span class="s1">'{"access_key_id":"AKIAIOSFODNN7EXAMPLE","secret_access_key":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"}'</span>
</span></code></pre></div>
<p><strong>Step 3: Deploy Updated Configuration</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="c1"># Restart application to pick up new credentials</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="c1"># For EKS: kubectl rollout restart deployment -n corridor</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="c1"># For ECS: aws ecs update-service --cluster corridor-cluster --service corridor-service --force-new-deployment</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="c1"># For EC2: sudo systemctl restart corridor-app</span>
</span></code></pre></div>
<p><strong>Step 4: Verify New Credentials Work</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="c1"># Test AWS API calls with new credentials</span>
</span><span id="__span-106-2"><a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a>aws<span class="w"> </span>s3<span class="w"> </span>ls<span class="w"> </span>s3://corridor-backups-&lt;unique-id&gt;/<span class="w"> </span>--profile<span class="w"> </span>new-credentials
</span></code></pre></div>
<p><strong>Step 5: Deactivate Old Access Key</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="c1"># Deactivate old access key</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a>aws<span class="w"> </span>iam<span class="w"> </span>update-access-key<span class="w"> </span><span class="se">\</span>
</span><span id="__span-107-3"><a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="w">  </span>--user-name<span class="w"> </span>corridor-service-user<span class="w"> </span><span class="se">\</span>
</span><span id="__span-107-4"><a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a><span class="w">  </span>--access-key-id<span class="w"> </span>&lt;old-access-key-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-107-5"><a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="w">  </span>--status<span class="w"> </span>Inactive
</span><span id="__span-107-6"><a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a>
</span><span id="__span-107-7"><a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a><span class="c1"># After verification period (24-48 hours), delete old key</span>
</span><span id="__span-107-8"><a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a>aws<span class="w"> </span>iam<span class="w"> </span>delete-access-key<span class="w"> </span><span class="se">\</span>
</span><span id="__span-107-9"><a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a><span class="w">  </span>--user-name<span class="w"> </span>corridor-service-user<span class="w"> </span><span class="se">\</span>
</span><span id="__span-107-10"><a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a><span class="w">  </span>--access-key-id<span class="w"> </span>&lt;old-access-key-id&gt;
</span></code></pre></div>
<h3 id="rotating-ssltls-certificates">Rotating SSL/TLS Certificates<a class="headerlink" href="#rotating-ssltls-certificates" title="Permanent link"></a></h3>
<p><strong>For ACM Certificates:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="c1"># Request new certificate</span>
</span><span id="__span-108-2"><a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a>aws<span class="w"> </span>acm<span class="w"> </span>request-certificate<span class="w"> </span><span class="se">\</span>
</span><span id="__span-108-3"><a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="w">  </span>--domain-name<span class="w"> </span>corridor.example.com<span class="w"> </span><span class="se">\</span>
</span><span id="__span-108-4"><a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a><span class="w">  </span>--validation-method<span class="w"> </span>DNS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-108-5"><a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="w">  </span>--region<span class="w"> </span>us-east-1
</span><span id="__span-108-6"><a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a>
</span><span id="__span-108-7"><a id="__codelineno-108-7" name="__codelineno-108-7" href="#__codelineno-108-7"></a><span class="c1"># Complete DNS validation</span>
</span><span id="__span-108-8"><a id="__codelineno-108-8" name="__codelineno-108-8" href="#__codelineno-108-8"></a><span class="c1"># Update ALB listener to use new certificate</span>
</span><span id="__span-108-9"><a id="__codelineno-108-9" name="__codelineno-108-9" href="#__codelineno-108-9"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>modify-listener<span class="w"> </span><span class="se">\</span>
</span><span id="__span-108-10"><a id="__codelineno-108-10" name="__codelineno-108-10" href="#__codelineno-108-10"></a><span class="w">  </span>--listener-arn<span class="w"> </span>&lt;listener-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-108-11"><a id="__codelineno-108-11" name="__codelineno-108-11" href="#__codelineno-108-11"></a><span class="w">  </span>--certificates<span class="w"> </span><span class="nv">CertificateArn</span><span class="o">=</span>&lt;new-certificate-arn&gt;
</span></code></pre></div>
<p><strong>For cert-manager (EKS):</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="c1"># Certificates are automatically renewed by cert-manager</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="c1"># Verify certificate status</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a>kubectl<span class="w"> </span>get<span class="w"> </span>certificate<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a>
</span><span id="__span-109-5"><a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="c1"># Force renewal if needed</span>
</span><span id="__span-109-6"><a id="__codelineno-109-6" name="__codelineno-109-6" href="#__codelineno-109-6"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>secret<span class="w"> </span>tls-corridor-cert<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-109-7"><a id="__codelineno-109-7" name="__codelineno-109-7" href="#__codelineno-109-7"></a><span class="c1"># cert-manager will automatically create new certificate</span>
</span></code></pre></div>
<h3 id="rotating-application-api-keys">Rotating Application API Keys<a class="headerlink" href="#rotating-application-api-keys" title="Permanent link"></a></h3>
<p><strong>Step 1: Generate New API Key</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="c1"># Generate new API key in Corridor application</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="c1"># Navigate to: Settings  API Keys  Generate New Key</span>
</span></code></pre></div>
<p><strong>Step 2: Update External Integrations</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="c1"># Update API key in external systems</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="c1"># Update Secrets Manager if storing API keys there</span>
</span><span id="__span-111-3"><a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>put-secret-value<span class="w"> </span><span class="se">\</span>
</span><span id="__span-111-4"><a id="__codelineno-111-4" name="__codelineno-111-4" href="#__codelineno-111-4"></a><span class="w">  </span>--secret-id<span class="w"> </span>corridor/api-keys<span class="w"> </span><span class="se">\</span>
</span><span id="__span-111-5"><a id="__codelineno-111-5" name="__codelineno-111-5" href="#__codelineno-111-5"></a><span class="w">  </span>--secret-string<span class="w"> </span><span class="s1">'{"api_key":"new-api-key-value"}'</span>
</span></code></pre></div>
<p><strong>Step 3: Revoke Old API Key</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="c1"># Revoke old API key in Corridor application</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="c1"># Navigate to: Settings  API Keys  Revoke Key</span>
</span></code></pre></div>
<h3 id="rotation-schedule-recommendations">Rotation Schedule Recommendations<a class="headerlink" href="#rotation-schedule-recommendations" title="Permanent link"></a></h3>
<ul>
<li><strong>Database Credentials</strong>: Every 90 days</li>
<li><strong>AWS Access Keys</strong>: Every 90 days</li>
<li><strong>SSL/TLS Certificates</strong>: Automatically renewed (ACM/cert-manager)</li>
<li><strong>Application API Keys</strong>: Every 180 days or when compromised</li>
<li><strong>Container Registry Credentials</strong>: Every 90 days</li>
</ul>
<h2 id="software-patches-and-upgrades">Software Patches and Upgrades<a class="headerlink" href="#software-patches-and-upgrades" title="Permanent link"></a></h2>
<p>This section provides prescriptive guidance for applying software patches and performing upgrades to Corridor deployments on AWS.</p>
<h3 id="patch-management-strategy">Patch Management Strategy<a class="headerlink" href="#patch-management-strategy" title="Permanent link"></a></h3>
<p><strong>Patch Categories:</strong></p>
<ol>
<li><strong>Security Patches</strong>: Critical security vulnerabilities (apply immediately)</li>
<li><strong>Bug Fixes</strong>: Application bug fixes (apply within 30 days)</li>
<li><strong>Feature Updates</strong>: New features and enhancements (plan and schedule)</li>
<li><strong>Infrastructure Updates</strong>: AWS service updates, OS patches (apply monthly)</li>
</ol>
<h3 id="pre-patch-preparation">Pre-Patch Preparation<a class="headerlink" href="#pre-patch-preparation" title="Permanent link"></a></h3>
<p><strong>Step 1: Review Patch Notes</strong></p>
<ul>
<li>Review Corridor release notes for changes and breaking changes</li>
<li>Review AWS service updates and deprecations</li>
<li>Identify dependencies and compatibility requirements</li>
</ul>
<p><strong>Step 2: Create Backup</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="c1"># Create database snapshot</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>create-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>pre-patch-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="c1"># Backup configuration files</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="c1"># (See Backup and Recovery section for detailed procedures)</span>
</span></code></pre></div>
<p><strong>Step 3: Test in Non-Production Environment</strong></p>
<ul>
<li>Deploy patch to development/staging environment first</li>
<li>Verify functionality and performance</li>
<li>Document any issues or workarounds</li>
</ul>
<h3 id="applying-application-updates">Applying Application Updates<a class="headerlink" href="#applying-application-updates" title="Permanent link"></a></h3>
<p><strong>For EKS Deployments:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="c1"># Step 1: Update container images</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="c1"># Pull new container image version</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a>docker<span class="w"> </span>pull<span class="w"> </span>&lt;registry&gt;/corridor/ggx:&lt;new-version&gt;
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a>
</span><span id="__span-114-5"><a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a><span class="c1"># Step 2: Update Kubernetes deployment</span>
</span><span id="__span-114-6"><a id="__codelineno-114-6" name="__codelineno-114-6" href="#__codelineno-114-6"></a>kubectl<span class="w"> </span><span class="nb">set</span><span class="w"> </span>image<span class="w"> </span>deployment/corridor-app<span class="w"> </span><span class="se">\</span>
</span><span id="__span-114-7"><a id="__codelineno-114-7" name="__codelineno-114-7" href="#__codelineno-114-7"></a><span class="w">  </span>corridor-app<span class="o">=</span>&lt;registry&gt;/corridor/ggx:&lt;new-version&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-114-8"><a id="__codelineno-114-8" name="__codelineno-114-8" href="#__codelineno-114-8"></a><span class="w">  </span>-n<span class="w"> </span>corridor
</span><span id="__span-114-9"><a id="__codelineno-114-9" name="__codelineno-114-9" href="#__codelineno-114-9"></a>
</span><span id="__span-114-10"><a id="__codelineno-114-10" name="__codelineno-114-10" href="#__codelineno-114-10"></a>kubectl<span class="w"> </span><span class="nb">set</span><span class="w"> </span>image<span class="w"> </span>deployment/corridor-api<span class="w"> </span><span class="se">\</span>
</span><span id="__span-114-11"><a id="__codelineno-114-11" name="__codelineno-114-11" href="#__codelineno-114-11"></a><span class="w">  </span>corridor-api<span class="o">=</span>&lt;registry&gt;/corridor/ggx:&lt;new-version&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-114-12"><a id="__codelineno-114-12" name="__codelineno-114-12" href="#__codelineno-114-12"></a><span class="w">  </span>-n<span class="w"> </span>corridor
</span><span id="__span-114-13"><a id="__codelineno-114-13" name="__codelineno-114-13" href="#__codelineno-114-13"></a>
</span><span id="__span-114-14"><a id="__codelineno-114-14" name="__codelineno-114-14" href="#__codelineno-114-14"></a><span class="c1"># Step 3: Monitor rollout</span>
</span><span id="__span-114-15"><a id="__codelineno-114-15" name="__codelineno-114-15" href="#__codelineno-114-15"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>status<span class="w"> </span>deployment/corridor-app<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-114-16"><a id="__codelineno-114-16" name="__codelineno-114-16" href="#__codelineno-114-16"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>status<span class="w"> </span>deployment/corridor-api<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-114-17"><a id="__codelineno-114-17" name="__codelineno-114-17" href="#__codelineno-114-17"></a>
</span><span id="__span-114-18"><a id="__codelineno-114-18" name="__codelineno-114-18" href="#__codelineno-114-18"></a><span class="c1"># Step 4: Verify application health</span>
</span><span id="__span-114-19"><a id="__codelineno-114-19" name="__codelineno-114-19" href="#__codelineno-114-19"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-114-20"><a id="__codelineno-114-20" name="__codelineno-114-20" href="#__codelineno-114-20"></a>
</span><span id="__span-114-21"><a id="__codelineno-114-21" name="__codelineno-114-21" href="#__codelineno-114-21"></a><span class="c1"># Step 5: Rollback if needed</span>
</span><span id="__span-114-22"><a id="__codelineno-114-22" name="__codelineno-114-22" href="#__codelineno-114-22"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>undo<span class="w"> </span>deployment/corridor-app<span class="w"> </span>-n<span class="w"> </span>corridor
</span></code></pre></div>
<p><strong>For ECS Fargate Deployments:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="c1"># Step 1: Register new task definition with updated image</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a>aws<span class="w"> </span>ecs<span class="w"> </span>register-task-definition<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="w">  </span>--cli-input-json<span class="w"> </span>file://corridor-task-definition-v2.json
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="c1"># Step 2: Update service with new task definition</span>
</span><span id="__span-115-6"><a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-7"><a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-8"><a id="__codelineno-115-8" name="__codelineno-115-8" href="#__codelineno-115-8"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-9"><a id="__codelineno-115-9" name="__codelineno-115-9" href="#__codelineno-115-9"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task:v2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-10"><a id="__codelineno-115-10" name="__codelineno-115-10" href="#__codelineno-115-10"></a><span class="w">  </span>--force-new-deployment
</span><span id="__span-115-11"><a id="__codelineno-115-11" name="__codelineno-115-11" href="#__codelineno-115-11"></a>
</span><span id="__span-115-12"><a id="__codelineno-115-12" name="__codelineno-115-12" href="#__codelineno-115-12"></a><span class="c1"># Step 3: Monitor deployment</span>
</span><span id="__span-115-13"><a id="__codelineno-115-13" name="__codelineno-115-13" href="#__codelineno-115-13"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-services<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-14"><a id="__codelineno-115-14" name="__codelineno-115-14" href="#__codelineno-115-14"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-15"><a id="__codelineno-115-15" name="__codelineno-115-15" href="#__codelineno-115-15"></a><span class="w">  </span>--services<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-16"><a id="__codelineno-115-16" name="__codelineno-115-16" href="#__codelineno-115-16"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'services[0].deployments'</span>
</span><span id="__span-115-17"><a id="__codelineno-115-17" name="__codelineno-115-17" href="#__codelineno-115-17"></a>
</span><span id="__span-115-18"><a id="__codelineno-115-18" name="__codelineno-115-18" href="#__codelineno-115-18"></a><span class="c1"># Step 4: Verify application health</span>
</span><span id="__span-115-19"><a id="__codelineno-115-19" name="__codelineno-115-19" href="#__codelineno-115-19"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-115-20"><a id="__codelineno-115-20" name="__codelineno-115-20" href="#__codelineno-115-20"></a>
</span><span id="__span-115-21"><a id="__codelineno-115-21" name="__codelineno-115-21" href="#__codelineno-115-21"></a><span class="c1"># Step 5: Rollback if needed</span>
</span><span id="__span-115-22"><a id="__codelineno-115-22" name="__codelineno-115-22" href="#__codelineno-115-22"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-23"><a id="__codelineno-115-23" name="__codelineno-115-23" href="#__codelineno-115-23"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-24"><a id="__codelineno-115-24" name="__codelineno-115-24" href="#__codelineno-115-24"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-115-25"><a id="__codelineno-115-25" name="__codelineno-115-25" href="#__codelineno-115-25"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task:v1
</span></code></pre></div>
<p><strong>For EC2 Deployments:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="c1"># Step 1: Download new installation bundle</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a>wget<span class="w"> </span>https://&lt;download-url&gt;/corridor-bundle-&lt;new-version&gt;.zip
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="c1"># Step 2: Stop services</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api<span class="w"> </span>corridor-worker-api
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a>
</span><span id="__span-116-7"><a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="c1"># Step 3: Backup current installation</span>
</span><span id="__span-116-8"><a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a>sudo<span class="w"> </span>cp<span class="w"> </span>-r<span class="w"> </span>/opt/corridor<span class="w"> </span>/opt/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>
</span><span id="__span-116-9"><a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a>
</span><span id="__span-116-10"><a id="__codelineno-116-10" name="__codelineno-116-10" href="#__codelineno-116-10"></a><span class="c1"># Step 4: Extract new bundle</span>
</span><span id="__span-116-11"><a id="__codelineno-116-11" name="__codelineno-116-11" href="#__codelineno-116-11"></a><span class="nb">cd</span><span class="w"> </span>/tmp
</span><span id="__span-116-12"><a id="__codelineno-116-12" name="__codelineno-116-12" href="#__codelineno-116-12"></a>unzip<span class="w"> </span>corridor-bundle-&lt;new-version&gt;.zip
</span><span id="__span-116-13"><a id="__codelineno-116-13" name="__codelineno-116-13" href="#__codelineno-116-13"></a>
</span><span id="__span-116-14"><a id="__codelineno-116-14" name="__codelineno-116-14" href="#__codelineno-116-14"></a><span class="c1"># Step 5: Run database migrations</span>
</span><span id="__span-116-15"><a id="__codelineno-116-15" name="__codelineno-116-15" href="#__codelineno-116-15"></a>/opt/corridor/venv-api/bin/corridor-api<span class="w"> </span>db<span class="w"> </span>upgrade
</span><span id="__span-116-16"><a id="__codelineno-116-16" name="__codelineno-116-16" href="#__codelineno-116-16"></a>
</span><span id="__span-116-17"><a id="__codelineno-116-17" name="__codelineno-116-17" href="#__codelineno-116-17"></a><span class="c1"># Step 6: Restart services</span>
</span><span id="__span-116-18"><a id="__codelineno-116-18" name="__codelineno-116-18" href="#__codelineno-116-18"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api<span class="w"> </span>corridor-worker-api
</span><span id="__span-116-19"><a id="__codelineno-116-19" name="__codelineno-116-19" href="#__codelineno-116-19"></a>
</span><span id="__span-116-20"><a id="__codelineno-116-20" name="__codelineno-116-20" href="#__codelineno-116-20"></a><span class="c1"># Step 7: Verify application health</span>
</span><span id="__span-116-21"><a id="__codelineno-116-21" name="__codelineno-116-21" href="#__codelineno-116-21"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-116-22"><a id="__codelineno-116-22" name="__codelineno-116-22" href="#__codelineno-116-22"></a>
</span><span id="__span-116-23"><a id="__codelineno-116-23" name="__codelineno-116-23" href="#__codelineno-116-23"></a><span class="c1"># Step 8: Rollback if needed</span>
</span><span id="__span-116-24"><a id="__codelineno-116-24" name="__codelineno-116-24" href="#__codelineno-116-24"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api
</span><span id="__span-116-25"><a id="__codelineno-116-25" name="__codelineno-116-25" href="#__codelineno-116-25"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/opt/corridor
</span><span id="__span-116-26"><a id="__codelineno-116-26" name="__codelineno-116-26" href="#__codelineno-116-26"></a>sudo<span class="w"> </span>cp<span class="w"> </span>-r<span class="w"> </span>/opt/corridor-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span><span class="w"> </span>/opt/corridor
</span><span id="__span-116-27"><a id="__codelineno-116-27" name="__codelineno-116-27" href="#__codelineno-116-27"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api
</span></code></pre></div>
<h3 id="applying-infrastructure-patches">Applying Infrastructure Patches<a class="headerlink" href="#applying-infrastructure-patches" title="Permanent link"></a></h3>
<p><strong>RDS Database Engine Updates:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="c1"># Step 1: Check available engine versions</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-engine-versions<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="w">  </span>--engine<span class="w"> </span>postgres<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="w">  </span>--engine-version<span class="w"> </span><span class="m">14</span>.9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-5"><a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBEngineVersions[*].EngineVersion'</span>
</span><span id="__span-117-6"><a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a>
</span><span id="__span-117-7"><a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a><span class="c1"># Step 2: Apply minor version update during maintenance window</span>
</span><span id="__span-117-8"><a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a>aws<span class="w"> </span>rds<span class="w"> </span>modify-db-instance<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-9"><a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-10"><a id="__codelineno-117-10" name="__codelineno-117-10" href="#__codelineno-117-10"></a><span class="w">  </span>--engine-version<span class="w"> </span><span class="m">14</span>.10<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-11"><a id="__codelineno-117-11" name="__codelineno-117-11" href="#__codelineno-117-11"></a><span class="w">  </span>--apply-immediately<span class="w"> </span><span class="nb">false</span>
</span><span id="__span-117-12"><a id="__codelineno-117-12" name="__codelineno-117-12" href="#__codelineno-117-12"></a>
</span><span id="__span-117-13"><a id="__codelineno-117-13" name="__codelineno-117-13" href="#__codelineno-117-13"></a><span class="c1"># Step 3: Monitor update progress</span>
</span><span id="__span-117-14"><a id="__codelineno-117-14" name="__codelineno-117-14" href="#__codelineno-117-14"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-15"><a id="__codelineno-117-15" name="__codelineno-117-15" href="#__codelineno-117-15"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-117-16"><a id="__codelineno-117-16" name="__codelineno-117-16" href="#__codelineno-117-16"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].[DBInstanceStatus,PendingModifiedValues]'</span>
</span></code></pre></div>
<p><strong>EKS Cluster Updates:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="c1"># Step 1: Update EKS cluster version</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-cluster-version<span class="w"> </span><span class="se">\</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="w">  </span>--name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="w">  </span>--version<span class="w"> </span><span class="m">1</span>.28
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a>
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="c1"># Step 2: Update node group AMI</span>
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-nodegroup-version<span class="w"> </span><span class="se">\</span>
</span><span id="__span-118-8"><a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a><span class="w">  </span>--cluster-name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-118-9"><a id="__codelineno-118-9" name="__codelineno-118-9" href="#__codelineno-118-9"></a><span class="w">  </span>--nodegroup-name<span class="w"> </span>corridor-nodes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-118-10"><a id="__codelineno-118-10" name="__codelineno-118-10" href="#__codelineno-118-10"></a><span class="w">  </span>--release-version<span class="w"> </span>&lt;new-release-version&gt;
</span></code></pre></div>
<p><strong>EC2 Instance Updates:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="c1"># Step 1: Install OS updates</span>
</span><span id="__span-119-2"><a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a>sudo<span class="w"> </span>yum<span class="w"> </span>update<span class="w"> </span>-y<span class="w">  </span><span class="c1"># Amazon Linux</span>
</span><span id="__span-119-3"><a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="c1"># or</span>
</span><span id="__span-119-4"><a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>upgrade<span class="w"> </span>-y<span class="w">  </span><span class="c1"># Ubuntu</span>
</span><span id="__span-119-5"><a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a>
</span><span id="__span-119-6"><a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="c1"># Step 2: Reboot if kernel updates were applied</span>
</span><span id="__span-119-7"><a id="__codelineno-119-7" name="__codelineno-119-7" href="#__codelineno-119-7"></a>sudo<span class="w"> </span>reboot
</span></code></pre></div>
<h3 id="post-patch-verification">Post-Patch Verification<a class="headerlink" href="#post-patch-verification" title="Permanent link"></a></h3>
<p>After applying patches, verify the following:</p>
<ul>
<li>Application health endpoint returns healthy status</li>
<li>All services are running correctly</li>
<li>Database connectivity is working</li>
<li>File storage is accessible</li>
<li>User authentication works</li>
<li>Critical functionality is operational</li>
<li>Performance metrics are within normal ranges</li>
<li>No errors in application logs</li>
</ul>
<h3 id="rollback-procedures">Rollback Procedures<a class="headerlink" href="#rollback-procedures" title="Permanent link"></a></h3>
<p><strong>If patch causes issues:</strong></p>
<ol>
<li><strong>Stop the update process</strong> (if in progress)</li>
<li><strong>Restore from backup</strong> (database, configuration)</li>
<li><strong>Revert to previous version</strong> (application code)</li>
<li><strong>Verify rollback success</strong></li>
<li><strong>Document issues</strong> for future reference</li>
</ol>
<h2 id="license-management">License Management<a class="headerlink" href="#license-management" title="Permanent link"></a></h2>
<p>This section provides prescriptive guidance on managing Corridor software licenses and AWS service licenses.</p>
<h3 id="corridor-software-license-management">Corridor Software License Management<a class="headerlink" href="#corridor-software-license-management" title="Permanent link"></a></h3>
<p><strong>License Types:</strong></p>
<ul>
<li><strong>Subscription License</strong>: Annual or multi-year subscription</li>
<li><strong>Perpetual License</strong>: One-time purchase with optional maintenance</li>
<li><strong>Trial License</strong>: Time-limited evaluation license</li>
</ul>
<p><strong>License Information Storage:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="c1"># License information is typically stored in:</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a><span class="c1"># - Application configuration files</span>
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="c1"># - Environment variables</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="c1"># - Secrets Manager (for license keys)</span>
</span><span id="__span-120-5"><a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a>
</span><span id="__span-120-6"><a id="__codelineno-120-6" name="__codelineno-120-6" href="#__codelineno-120-6"></a><span class="c1"># View current license information</span>
</span><span id="__span-120-7"><a id="__codelineno-120-7" name="__codelineno-120-7" href="#__codelineno-120-7"></a><span class="c1"># For EKS:</span>
</span><span id="__span-120-8"><a id="__codelineno-120-8" name="__codelineno-120-8" href="#__codelineno-120-8"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span>corridor-config<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>license
</span><span id="__span-120-9"><a id="__codelineno-120-9" name="__codelineno-120-9" href="#__codelineno-120-9"></a>
</span><span id="__span-120-10"><a id="__codelineno-120-10" name="__codelineno-120-10" href="#__codelineno-120-10"></a><span class="c1"># For EC2:</span>
</span><span id="__span-120-11"><a id="__codelineno-120-11" name="__codelineno-120-11" href="#__codelineno-120-11"></a>cat<span class="w"> </span>/opt/corridor/instances/default/config/app_config.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>license
</span></code></pre></div>
<p><strong>License Renewal Process:</strong></p>
<ol>
<li><strong>Monitor License Expiration:</strong></li>
<li>Check license expiration date in application settings</li>
<li>Set up alerts 30 days before expiration</li>
<li>
<p>Review license usage and compliance</p>
</li>
<li>
<p><strong>Renew License:</strong></p>
</li>
<li>Contact Corridor sales or account representative</li>
<li>Provide current license information</li>
<li>
<p>Receive new license key or activation code</p>
</li>
<li>
<p><strong>Update License:</strong>
   </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="c1"># Update license in application configuration</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="c1"># For EKS: Update ConfigMap or Secret</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>corridor-license<span class="w"> </span><span class="se">\</span>
</span><span id="__span-121-4"><a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a><span class="w">  </span>--from-literal<span class="o">=</span>license-key<span class="o">=</span>&lt;new-license-key&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-121-5"><a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a><span class="w">  </span>--namespace<span class="w"> </span>corridor<span class="w"> </span><span class="se">\</span>
</span><span id="__span-121-6"><a id="__codelineno-121-6" name="__codelineno-121-6" href="#__codelineno-121-6"></a><span class="w">  </span>--dry-run<span class="o">=</span>client<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-
</span><span id="__span-121-7"><a id="__codelineno-121-7" name="__codelineno-121-7" href="#__codelineno-121-7"></a>
</span><span id="__span-121-8"><a id="__codelineno-121-8" name="__codelineno-121-8" href="#__codelineno-121-8"></a><span class="c1"># Restart application</span>
</span><span id="__span-121-9"><a id="__codelineno-121-9" name="__codelineno-121-9" href="#__codelineno-121-9"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>restart<span class="w"> </span>deployment<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-121-10"><a id="__codelineno-121-10" name="__codelineno-121-10" href="#__codelineno-121-10"></a>
</span><span id="__span-121-11"><a id="__codelineno-121-11" name="__codelineno-121-11" href="#__codelineno-121-11"></a><span class="c1"># For EC2: Update configuration file</span>
</span><span id="__span-121-12"><a id="__codelineno-121-12" name="__codelineno-121-12" href="#__codelineno-121-12"></a>sudo<span class="w"> </span>vi<span class="w"> </span>/opt/corridor/instances/default/config/app_config.py
</span><span id="__span-121-13"><a id="__codelineno-121-13" name="__codelineno-121-13" href="#__codelineno-121-13"></a><span class="c1"># Update LICENSE_KEY value</span>
</span><span id="__span-121-14"><a id="__codelineno-121-14" name="__codelineno-121-14" href="#__codelineno-121-14"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>corridor-app
</span></code></pre></div><p></p>
</li>
<li>
<p><strong>Verify License Activation:</strong></p>
</li>
<li>Check application logs for license validation</li>
<li>Verify license status in application UI</li>
<li>Confirm all features are accessible</li>
</ol>
<p><strong>License Compliance:</strong></p>
<ul>
<li>Track license usage against purchased licenses</li>
<li>Monitor user counts and feature usage</li>
<li>Generate license usage reports quarterly</li>
<li>Ensure compliance with license terms</li>
</ul>
<h3 id="aws-service-license-management">AWS Service License Management<a class="headerlink" href="#aws-service-license-management" title="Permanent link"></a></h3>
<p><strong>AWS Services:</strong></p>
<ul>
<li>AWS services use pay-as-you-go pricing (no separate licenses)</li>
<li>Some services have usage limits (see AWS Service Limits section)</li>
<li>Reserved Instances provide cost savings but are not licenses</li>
</ul>
<p><strong>Third-Party Software Licenses:</strong></p>
<ul>
<li><strong>PostgreSQL</strong>: Open-source (no license required)</li>
<li><strong>Redis</strong>: Open-source (no license required)</li>
<li><strong>Python</strong>: Open-source (no license required)</li>
<li><strong>Java</strong>: Open-source OpenJDK (no license required)</li>
<li><strong>Kubernetes</strong>: Open-source (no license required)</li>
</ul>
<p><strong>License Audit:</strong></p>
<ul>
<li>Conduct quarterly license audits</li>
<li>Document all software licenses and expiration dates</li>
<li>Maintain license inventory spreadsheet</li>
<li>Set up renewal reminders</li>
</ul>
<h2 id="aws-service-limits-management">AWS Service Limits Management<a class="headerlink" href="#aws-service-limits-management" title="Permanent link"></a></h2>
<p>This section provides prescriptive guidance on managing AWS service limits (quotas) to ensure deployments can scale and operate effectively.</p>
<h3 id="understanding-aws-service-limits">Understanding AWS Service Limits<a class="headerlink" href="#understanding-aws-service-limits" title="Permanent link"></a></h3>
<p><strong>Common Service Limits:</strong></p>
<ul>
<li><strong>EC2 Instances</strong>: Number of running instances per region</li>
<li><strong>EKS Clusters</strong>: Number of clusters per account</li>
<li><strong>RDS Instances</strong>: Number of DB instances per region</li>
<li><strong>VPCs</strong>: Number of VPCs per region</li>
<li><strong>Elastic IPs</strong>: Number of Elastic IPs per region</li>
<li><strong>NAT Gateways</strong>: Number of NAT Gateways per availability zone</li>
</ul>
<h3 id="checking-current-service-limits">Checking Current Service Limits<a class="headerlink" href="#checking-current-service-limits" title="Permanent link"></a></h3>
<p><strong>Step 1: List Service Quotas</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="c1"># List all service quotas for a specific service</span>
</span><span id="__span-122-2"><a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a>aws<span class="w"> </span>service-quotas<span class="w"> </span>list-service-quotas<span class="w"> </span><span class="se">\</span>
</span><span id="__span-122-3"><a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a><span class="w">  </span>--service-code<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-122-4"><a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'Quotas[*].[QuotaName,Value,Adjustable]'</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-122-5"><a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a><span class="w">  </span>--output<span class="w"> </span>table
</span><span id="__span-122-6"><a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a>
</span><span id="__span-122-7"><a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a><span class="c1"># Check specific quota</span>
</span><span id="__span-122-8"><a id="__codelineno-122-8" name="__codelineno-122-8" href="#__codelineno-122-8"></a>aws<span class="w"> </span>service-quotas<span class="w"> </span>get-service-quota<span class="w"> </span><span class="se">\</span>
</span><span id="__span-122-9"><a id="__codelineno-122-9" name="__codelineno-122-9" href="#__codelineno-122-9"></a><span class="w">  </span>--service-code<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-122-10"><a id="__codelineno-122-10" name="__codelineno-122-10" href="#__codelineno-122-10"></a><span class="w">  </span>--quota-code<span class="w"> </span>L-0263D0A3<span class="w">  </span><span class="c1"># Running On-Demand EC2 instances</span>
</span></code></pre></div>
<p><strong>Step 2: Monitor Quota Usage</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="c1"># Get current usage</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a>aws<span class="w"> </span>service-quotas<span class="w"> </span>get-aws-default-service-quota<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a><span class="w">  </span>--service-code<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-4"><a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="w">  </span>--quota-code<span class="w"> </span>L-0263D0A3
</span><span id="__span-123-5"><a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a>
</span><span id="__span-123-6"><a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a><span class="c1"># Set up CloudWatch alarms for quota usage</span>
</span><span id="__span-123-7"><a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>put-metric-alarm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-8"><a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a><span class="w">  </span>--alarm-name<span class="w"> </span>ec2-instance-quota-warning<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-9"><a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a><span class="w">  </span>--alarm-description<span class="w"> </span><span class="s2">"Alert when EC2 instance quota exceeds 80%"</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-10"><a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a><span class="w">  </span>--metric-name<span class="w"> </span>ResourceCount<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-11"><a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/Usage<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-12"><a id="__codelineno-123-12" name="__codelineno-123-12" href="#__codelineno-123-12"></a><span class="w">  </span>--statistic<span class="w"> </span>Average<span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-13"><a id="__codelineno-123-13" name="__codelineno-123-13" href="#__codelineno-123-13"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-14"><a id="__codelineno-123-14" name="__codelineno-123-14" href="#__codelineno-123-14"></a><span class="w">  </span>--threshold<span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-123-15"><a id="__codelineno-123-15" name="__codelineno-123-15" href="#__codelineno-123-15"></a><span class="w">  </span>--comparison-operator<span class="w"> </span>GreaterThanThreshold
</span></code></pre></div>
<h3 id="requesting-limit-increases">Requesting Limit Increases<a class="headerlink" href="#requesting-limit-increases" title="Permanent link"></a></h3>
<p><strong>Step 1: Identify Required Increase</strong></p>
<ul>
<li>Determine current usage and projected growth</li>
<li>Calculate required limit increase</li>
<li>Document business justification</li>
</ul>
<p><strong>Step 2: Submit Limit Increase Request</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="c1"># Request limit increase via AWS CLI</span>
</span><span id="__span-124-2"><a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a>aws<span class="w"> </span>service-quotas<span class="w"> </span>request-service-quota-increase<span class="w"> </span><span class="se">\</span>
</span><span id="__span-124-3"><a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="w">  </span>--service-code<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-124-4"><a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="w">  </span>--quota-code<span class="w"> </span>L-0263D0A3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-124-5"><a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="w">  </span>--desired-value<span class="w"> </span><span class="m">100</span>
</span><span id="__span-124-6"><a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a>
</span><span id="__span-124-7"><a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a><span class="c1"># Or use AWS Console:</span>
</span><span id="__span-124-8"><a id="__codelineno-124-8" name="__codelineno-124-8" href="#__codelineno-124-8"></a><span class="c1"># Service Quotas  AWS services  Select service  Request quota increase</span>
</span></code></pre></div>
<p><strong>Step 3: Monitor Request Status</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="c1"># Check request status</span>
</span><span id="__span-125-2"><a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a>aws<span class="w"> </span>service-quotas<span class="w"> </span>list-requested-service-quota-change-history<span class="w"> </span><span class="se">\</span>
</span><span id="__span-125-3"><a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="w">  </span>--service-code<span class="w"> </span>ec2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-125-4"><a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'RequestedQuotas[*].[QuotaName,Status,DesiredValue]'</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-125-5"><a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a><span class="w">  </span>--output<span class="w"> </span>table
</span></code></pre></div>
<p><strong>Step 4: Implement Workarounds (If Needed)</strong></p>
<ul>
<li>Use multiple AWS accounts for different environments</li>
<li>Distribute resources across multiple regions</li>
<li>Use Spot Instances for non-production workloads</li>
<li>Optimize resource usage</li>
</ul>
<h3 id="proactive-limit-management">Proactive Limit Management<a class="headerlink" href="#proactive-limit-management" title="Permanent link"></a></h3>
<p><strong>Best Practices:</strong></p>
<ol>
<li><strong>Monitor Quota Usage Regularly:</strong></li>
<li>Set up CloudWatch alarms at 80% usage</li>
<li>Review quota usage monthly</li>
<li>
<p>Plan for growth</p>
</li>
<li>
<p><strong>Request Increases Early:</strong></p>
</li>
<li>Request increases 2-4 weeks before needed</li>
<li>Provide business justification</li>
<li>
<p>Request slightly higher than immediate need</p>
</li>
<li>
<p><strong>Document Limits:</strong></p>
</li>
<li>Maintain inventory of all service limits</li>
<li>Track limit increase requests</li>
<li>
<p>Document approved limits</p>
</li>
<li>
<p><strong>Optimize Resource Usage:</strong></p>
</li>
<li>Right-size instances and resources</li>
<li>Use Reserved Instances for predictable workloads</li>
<li>Clean up unused resources regularly</li>
</ol>
<h2 id="fault-handling-and-recovery">Fault Handling and Recovery<a class="headerlink" href="#fault-handling-and-recovery" title="Permanent link"></a></h2>
<p>This section provides step-by-step instructions for handling fault conditions and recovering the Corridor software deployment.</p>
<h3 id="handling-fault-conditions">Handling Fault Conditions<a class="headerlink" href="#handling-fault-conditions" title="Permanent link"></a></h3>
<h4 id="fault-detection">Fault Detection<a class="headerlink" href="#fault-detection" title="Permanent link"></a></h4>
<p><strong>Step 1: Identify Fault Type</strong></p>
<p>Common fault conditions:
- Application unresponsive or returning errors
- Database connection failures
- Storage access issues
- Network connectivity problems
- High resource utilization
- Service crashes or restarts</p>
<p><strong>Step 2: Check Application Health</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="c1"># Check health endpoint</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a>
</span><span id="__span-126-4"><a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a><span class="c1"># Check load balancer target health</span>
</span><span id="__span-126-5"><a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a>aws<span class="w"> </span>elbv2<span class="w"> </span>describe-target-health<span class="w"> </span>--target-group-arn<span class="w"> </span>&lt;target-group-arn&gt;
</span><span id="__span-126-6"><a id="__codelineno-126-6" name="__codelineno-126-6" href="#__codelineno-126-6"></a>
</span><span id="__span-126-7"><a id="__codelineno-126-7" name="__codelineno-126-7" href="#__codelineno-126-7"></a><span class="c1"># Check application logs for errors</span>
</span><span id="__span-126-8"><a id="__codelineno-126-8" name="__codelineno-126-8" href="#__codelineno-126-8"></a><span class="c1"># For EKS:</span>
</span><span id="__span-126-9"><a id="__codelineno-126-9" name="__codelineno-126-9" href="#__codelineno-126-9"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--tail<span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>error
</span><span id="__span-126-10"><a id="__codelineno-126-10" name="__codelineno-126-10" href="#__codelineno-126-10"></a>
</span><span id="__span-126-11"><a id="__codelineno-126-11" name="__codelineno-126-11" href="#__codelineno-126-11"></a><span class="c1"># For ECS:</span>
</span><span id="__span-126-12"><a id="__codelineno-126-12" name="__codelineno-126-12" href="#__codelineno-126-12"></a>aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/ecs/corridor<span class="w"> </span>--follow<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>error
</span><span id="__span-126-13"><a id="__codelineno-126-13" name="__codelineno-126-13" href="#__codelineno-126-13"></a>
</span><span id="__span-126-14"><a id="__codelineno-126-14" name="__codelineno-126-14" href="#__codelineno-126-14"></a><span class="c1"># For EC2:</span>
</span><span id="__span-126-15"><a id="__codelineno-126-15" name="__codelineno-126-15" href="#__codelineno-126-15"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>corridor-app<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>error
</span></code></pre></div>
<p><strong>Step 3: Check Infrastructure Health</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="c1"># Check database status</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-127-4"><a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].[DBInstanceStatus,DBInstanceStatusInfos]'</span>
</span><span id="__span-127-5"><a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a>
</span><span id="__span-127-6"><a id="__codelineno-127-6" name="__codelineno-127-6" href="#__codelineno-127-6"></a><span class="c1"># Check compute resources</span>
</span><span id="__span-127-7"><a id="__codelineno-127-7" name="__codelineno-127-7" href="#__codelineno-127-7"></a><span class="c1"># For EKS:</span>
</span><span id="__span-127-8"><a id="__codelineno-127-8" name="__codelineno-127-8" href="#__codelineno-127-8"></a>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</span><span id="__span-127-9"><a id="__codelineno-127-9" name="__codelineno-127-9" href="#__codelineno-127-9"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-127-10"><a id="__codelineno-127-10" name="__codelineno-127-10" href="#__codelineno-127-10"></a>
</span><span id="__span-127-11"><a id="__codelineno-127-11" name="__codelineno-127-11" href="#__codelineno-127-11"></a><span class="c1"># For ECS:</span>
</span><span id="__span-127-12"><a id="__codelineno-127-12" name="__codelineno-127-12" href="#__codelineno-127-12"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-tasks<span class="w"> </span><span class="se">\</span>
</span><span id="__span-127-13"><a id="__codelineno-127-13" name="__codelineno-127-13" href="#__codelineno-127-13"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-127-14"><a id="__codelineno-127-14" name="__codelineno-127-14" href="#__codelineno-127-14"></a><span class="w">  </span>--tasks<span class="w"> </span><span class="k">$(</span>aws<span class="w"> </span>ecs<span class="w"> </span>list-tasks<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--query<span class="w"> </span><span class="s1">'taskArns[0]'</span><span class="w"> </span>--output<span class="w"> </span>text<span class="k">)</span>
</span><span id="__span-127-15"><a id="__codelineno-127-15" name="__codelineno-127-15" href="#__codelineno-127-15"></a>
</span><span id="__span-127-16"><a id="__codelineno-127-16" name="__codelineno-127-16" href="#__codelineno-127-16"></a><span class="c1"># For EC2:</span>
</span><span id="__span-127-17"><a id="__codelineno-127-17" name="__codelineno-127-17" href="#__codelineno-127-17"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-instance-status<span class="w"> </span>--instance-ids<span class="w"> </span>&lt;instance-id&gt;
</span></code></pre></div>
<h4 id="common-fault-scenarios-and-resolution">Common Fault Scenarios and Resolution<a class="headerlink" href="#common-fault-scenarios-and-resolution" title="Permanent link"></a></h4>
<p><strong>Scenario 1: Application Pod/Container Crashes</strong></p>
<p><strong>Symptoms:</strong> Pods/containers restarting frequently, application unavailable</p>
<p><strong>Resolution Steps:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="c1"># For EKS:</span>
</span><span id="__span-128-2"><a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="c1"># 1. Check pod status</span>
</span><span id="__span-128-3"><a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-128-4"><a id="__codelineno-128-4" name="__codelineno-128-4" href="#__codelineno-128-4"></a>
</span><span id="__span-128-5"><a id="__codelineno-128-5" name="__codelineno-128-5" href="#__codelineno-128-5"></a><span class="c1"># 2. Describe pod for events</span>
</span><span id="__span-128-6"><a id="__codelineno-128-6" name="__codelineno-128-6" href="#__codelineno-128-6"></a>kubectl<span class="w"> </span>describe<span class="w"> </span>pod<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-128-7"><a id="__codelineno-128-7" name="__codelineno-128-7" href="#__codelineno-128-7"></a>
</span><span id="__span-128-8"><a id="__codelineno-128-8" name="__codelineno-128-8" href="#__codelineno-128-8"></a><span class="c1"># 3. Check pod logs</span>
</span><span id="__span-128-9"><a id="__codelineno-128-9" name="__codelineno-128-9" href="#__codelineno-128-9"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>--previous
</span><span id="__span-128-10"><a id="__codelineno-128-10" name="__codelineno-128-10" href="#__codelineno-128-10"></a>
</span><span id="__span-128-11"><a id="__codelineno-128-11" name="__codelineno-128-11" href="#__codelineno-128-11"></a><span class="c1"># 4. Check resource limits</span>
</span><span id="__span-128-12"><a id="__codelineno-128-12" name="__codelineno-128-12" href="#__codelineno-128-12"></a>kubectl<span class="w"> </span>top<span class="w"> </span>pod<span class="w"> </span>&lt;pod-name&gt;<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-128-13"><a id="__codelineno-128-13" name="__codelineno-128-13" href="#__codelineno-128-13"></a>
</span><span id="__span-128-14"><a id="__codelineno-128-14" name="__codelineno-128-14" href="#__codelineno-128-14"></a><span class="c1"># 5. Scale up if resource constrained</span>
</span><span id="__span-128-15"><a id="__codelineno-128-15" name="__codelineno-128-15" href="#__codelineno-128-15"></a>kubectl<span class="w"> </span>scale<span class="w"> </span>deployment<span class="w"> </span>corridor-app<span class="w"> </span>--replicas<span class="o">=</span><span class="m">3</span><span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-128-16"><a id="__codelineno-128-16" name="__codelineno-128-16" href="#__codelineno-128-16"></a>
</span><span id="__span-128-17"><a id="__codelineno-128-17" name="__codelineno-128-17" href="#__codelineno-128-17"></a><span class="c1"># For ECS:</span>
</span><span id="__span-128-18"><a id="__codelineno-128-18" name="__codelineno-128-18" href="#__codelineno-128-18"></a><span class="c1"># 1. Check task status</span>
</span><span id="__span-128-19"><a id="__codelineno-128-19" name="__codelineno-128-19" href="#__codelineno-128-19"></a>aws<span class="w"> </span>ecs<span class="w"> </span>describe-tasks<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--tasks<span class="w"> </span>&lt;task-id&gt;
</span><span id="__span-128-20"><a id="__codelineno-128-20" name="__codelineno-128-20" href="#__codelineno-128-20"></a>
</span><span id="__span-128-21"><a id="__codelineno-128-21" name="__codelineno-128-21" href="#__codelineno-128-21"></a><span class="c1"># 2. Check task logs</span>
</span><span id="__span-128-22"><a id="__codelineno-128-22" name="__codelineno-128-22" href="#__codelineno-128-22"></a>aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/ecs/corridor<span class="w"> </span>--follow
</span><span id="__span-128-23"><a id="__codelineno-128-23" name="__codelineno-128-23" href="#__codelineno-128-23"></a>
</span><span id="__span-128-24"><a id="__codelineno-128-24" name="__codelineno-128-24" href="#__codelineno-128-24"></a><span class="c1"># 3. Update service desired count</span>
</span><span id="__span-128-25"><a id="__codelineno-128-25" name="__codelineno-128-25" href="#__codelineno-128-25"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--service<span class="w"> </span>corridor-service<span class="w"> </span>--desired-count<span class="w"> </span><span class="m">3</span>
</span><span id="__span-128-26"><a id="__codelineno-128-26" name="__codelineno-128-26" href="#__codelineno-128-26"></a>
</span><span id="__span-128-27"><a id="__codelineno-128-27" name="__codelineno-128-27" href="#__codelineno-128-27"></a><span class="c1"># For EC2:</span>
</span><span id="__span-128-28"><a id="__codelineno-128-28" name="__codelineno-128-28" href="#__codelineno-128-28"></a><span class="c1"># 1. Check service status</span>
</span><span id="__span-128-29"><a id="__codelineno-128-29" name="__codelineno-128-29" href="#__codelineno-128-29"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>corridor-app
</span><span id="__span-128-30"><a id="__codelineno-128-30" name="__codelineno-128-30" href="#__codelineno-128-30"></a>
</span><span id="__span-128-31"><a id="__codelineno-128-31" name="__codelineno-128-31" href="#__codelineno-128-31"></a><span class="c1"># 2. Check service logs</span>
</span><span id="__span-128-32"><a id="__codelineno-128-32" name="__codelineno-128-32" href="#__codelineno-128-32"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>corridor-app<span class="w"> </span>-n<span class="w"> </span><span class="m">100</span>
</span><span id="__span-128-33"><a id="__codelineno-128-33" name="__codelineno-128-33" href="#__codelineno-128-33"></a>
</span><span id="__span-128-34"><a id="__codelineno-128-34" name="__codelineno-128-34" href="#__codelineno-128-34"></a><span class="c1"># 3. Restart service</span>
</span><span id="__span-128-35"><a id="__codelineno-128-35" name="__codelineno-128-35" href="#__codelineno-128-35"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>corridor-app
</span></code></pre></div>
<p><strong>Scenario 2: Database Connection Failures</strong></p>
<p><strong>Symptoms:</strong> Application cannot connect to database, database errors in logs</p>
<p><strong>Resolution Steps:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="c1"># 1. Verify database is running</span>
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-129-4"><a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].DBInstanceStatus'</span>
</span><span id="__span-129-5"><a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a>
</span><span id="__span-129-6"><a id="__codelineno-129-6" name="__codelineno-129-6" href="#__codelineno-129-6"></a><span class="c1"># 2. Check database endpoint</span>
</span><span id="__span-129-7"><a id="__codelineno-129-7" name="__codelineno-129-7" href="#__codelineno-129-7"></a>aws<span class="w"> </span>rds<span class="w"> </span>describe-db-instances<span class="w"> </span><span class="se">\</span>
</span><span id="__span-129-8"><a id="__codelineno-129-8" name="__codelineno-129-8" href="#__codelineno-129-8"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db<span class="w"> </span><span class="se">\</span>
</span><span id="__span-129-9"><a id="__codelineno-129-9" name="__codelineno-129-9" href="#__codelineno-129-9"></a><span class="w">  </span>--query<span class="w"> </span><span class="s1">'DBInstances[0].Endpoint.Address'</span>
</span><span id="__span-129-10"><a id="__codelineno-129-10" name="__codelineno-129-10" href="#__codelineno-129-10"></a>
</span><span id="__span-129-11"><a id="__codelineno-129-11" name="__codelineno-129-11" href="#__codelineno-129-11"></a><span class="c1"># 3. Test database connectivity</span>
</span><span id="__span-129-12"><a id="__codelineno-129-12" name="__codelineno-129-12" href="#__codelineno-129-12"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor<span class="w"> </span>-c<span class="w"> </span><span class="s2">"SELECT 1;"</span>
</span><span id="__span-129-13"><a id="__codelineno-129-13" name="__codelineno-129-13" href="#__codelineno-129-13"></a>
</span><span id="__span-129-14"><a id="__codelineno-129-14" name="__codelineno-129-14" href="#__codelineno-129-14"></a><span class="c1"># 4. Check security groups</span>
</span><span id="__span-129-15"><a id="__codelineno-129-15" name="__codelineno-129-15" href="#__codelineno-129-15"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-security-groups<span class="w"> </span>--group-ids<span class="w"> </span>&lt;db-sg-id&gt;
</span><span id="__span-129-16"><a id="__codelineno-129-16" name="__codelineno-129-16" href="#__codelineno-129-16"></a>
</span><span id="__span-129-17"><a id="__codelineno-129-17" name="__codelineno-129-17" href="#__codelineno-129-17"></a><span class="c1"># 5. Verify credentials in Secrets Manager</span>
</span><span id="__span-129-18"><a id="__codelineno-129-18" name="__codelineno-129-18" href="#__codelineno-129-18"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>get-secret-value<span class="w"> </span>--secret-id<span class="w"> </span>corridor/database/credentials
</span><span id="__span-129-19"><a id="__codelineno-129-19" name="__codelineno-129-19" href="#__codelineno-129-19"></a>
</span><span id="__span-129-20"><a id="__codelineno-129-20" name="__codelineno-129-20" href="#__codelineno-129-20"></a><span class="c1"># 6. Restart application to refresh connections</span>
</span><span id="__span-129-21"><a id="__codelineno-129-21" name="__codelineno-129-21" href="#__codelineno-129-21"></a><span class="c1"># For EKS: kubectl rollout restart deployment -n corridor</span>
</span><span id="__span-129-22"><a id="__codelineno-129-22" name="__codelineno-129-22" href="#__codelineno-129-22"></a><span class="c1"># For ECS: aws ecs update-service --cluster corridor-cluster --service corridor-service --force-new-deployment</span>
</span><span id="__span-129-23"><a id="__codelineno-129-23" name="__codelineno-129-23" href="#__codelineno-129-23"></a><span class="c1"># For EC2: sudo systemctl restart corridor-app</span>
</span></code></pre></div>
<p><strong>Scenario 3: Storage Access Issues</strong></p>
<p><strong>Symptoms:</strong> File uploads/downloads failing, storage errors</p>
<p><strong>Resolution Steps:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="c1"># For EFS:</span>
</span><span id="__span-130-2"><a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="c1"># 1. Check EFS status</span>
</span><span id="__span-130-3"><a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-file-systems<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-130-4"><a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a>
</span><span id="__span-130-5"><a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="c1"># 2. Check mount targets</span>
</span><span id="__span-130-6"><a id="__codelineno-130-6" name="__codelineno-130-6" href="#__codelineno-130-6"></a>aws<span class="w"> </span>efs<span class="w"> </span>describe-mount-targets<span class="w"> </span>--file-system-id<span class="w"> </span>&lt;efs-id&gt;
</span><span id="__span-130-7"><a id="__codelineno-130-7" name="__codelineno-130-7" href="#__codelineno-130-7"></a>
</span><span id="__span-130-8"><a id="__codelineno-130-8" name="__codelineno-130-8" href="#__codelineno-130-8"></a><span class="c1"># 3. Test mount from application</span>
</span><span id="__span-130-9"><a id="__codelineno-130-9" name="__codelineno-130-9" href="#__codelineno-130-9"></a><span class="c1"># For EKS:</span>
</span><span id="__span-130-10"><a id="__codelineno-130-10" name="__codelineno-130-10" href="#__codelineno-130-10"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-n<span class="w"> </span>corridor<span class="w"> </span>deploy/corridor-app<span class="w"> </span>--<span class="w"> </span>df<span class="w"> </span>-h<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>efs
</span><span id="__span-130-11"><a id="__codelineno-130-11" name="__codelineno-130-11" href="#__codelineno-130-11"></a>
</span><span id="__span-130-12"><a id="__codelineno-130-12" name="__codelineno-130-12" href="#__codelineno-130-12"></a><span class="c1"># For ECS:</span>
</span><span id="__span-130-13"><a id="__codelineno-130-13" name="__codelineno-130-13" href="#__codelineno-130-13"></a>aws<span class="w"> </span>ecs<span class="w"> </span>execute-command<span class="w"> </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span>--task<span class="w"> </span>&lt;task-id&gt;<span class="w"> </span>--container<span class="w"> </span>corridor-app<span class="w"> </span>--command<span class="w"> </span><span class="s2">"df -h"</span>
</span><span id="__span-130-14"><a id="__codelineno-130-14" name="__codelineno-130-14" href="#__codelineno-130-14"></a>
</span><span id="__span-130-15"><a id="__codelineno-130-15" name="__codelineno-130-15" href="#__codelineno-130-15"></a><span class="c1"># For EBS (EC2):</span>
</span><span id="__span-130-16"><a id="__codelineno-130-16" name="__codelineno-130-16" href="#__codelineno-130-16"></a><span class="c1"># 1. Check volume status</span>
</span><span id="__span-130-17"><a id="__codelineno-130-17" name="__codelineno-130-17" href="#__codelineno-130-17"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-volumes<span class="w"> </span>--volume-ids<span class="w"> </span>&lt;volume-id&gt;
</span><span id="__span-130-18"><a id="__codelineno-130-18" name="__codelineno-130-18" href="#__codelineno-130-18"></a>
</span><span id="__span-130-19"><a id="__codelineno-130-19" name="__codelineno-130-19" href="#__codelineno-130-19"></a><span class="c1"># 2. Check volume attachment</span>
</span><span id="__span-130-20"><a id="__codelineno-130-20" name="__codelineno-130-20" href="#__codelineno-130-20"></a>aws<span class="w"> </span>ec2<span class="w"> </span>describe-instances<span class="w"> </span>--instance-ids<span class="w"> </span>&lt;instance-id&gt;<span class="w"> </span>--query<span class="w"> </span><span class="s1">'Instances[0].BlockDeviceMappings'</span>
</span><span id="__span-130-21"><a id="__codelineno-130-21" name="__codelineno-130-21" href="#__codelineno-130-21"></a>
</span><span id="__span-130-22"><a id="__codelineno-130-22" name="__codelineno-130-22" href="#__codelineno-130-22"></a><span class="c1"># 3. Check filesystem</span>
</span><span id="__span-130-23"><a id="__codelineno-130-23" name="__codelineno-130-23" href="#__codelineno-130-23"></a>df<span class="w"> </span>-h
</span><span id="__span-130-24"><a id="__codelineno-130-24" name="__codelineno-130-24" href="#__codelineno-130-24"></a>sudo<span class="w"> </span>mount<span class="w"> </span>/dev/xvdf<span class="w"> </span>/mnt/data
</span></code></pre></div>
<p><strong>Scenario 4: High Resource Utilization</strong></p>
<p><strong>Symptoms:</strong> Slow response times, timeouts, high CPU/memory usage</p>
<p><strong>Resolution Steps:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="c1"># 1. Check resource utilization</span>
</span><span id="__span-131-2"><a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a><span class="c1"># For EKS:</span>
</span><span id="__span-131-3"><a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a>kubectl<span class="w"> </span>top<span class="w"> </span>nodes
</span><span id="__span-131-4"><a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a>kubectl<span class="w"> </span>top<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-131-5"><a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a>
</span><span id="__span-131-6"><a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a><span class="c1"># For ECS:</span>
</span><span id="__span-131-7"><a id="__codelineno-131-7" name="__codelineno-131-7" href="#__codelineno-131-7"></a>aws<span class="w"> </span>cloudwatch<span class="w"> </span>get-metric-statistics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-8"><a id="__codelineno-131-8" name="__codelineno-131-8" href="#__codelineno-131-8"></a><span class="w">  </span>--namespace<span class="w"> </span>AWS/ECS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-9"><a id="__codelineno-131-9" name="__codelineno-131-9" href="#__codelineno-131-9"></a><span class="w">  </span>--metric-name<span class="w"> </span>CPUUtilization<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-10"><a id="__codelineno-131-10" name="__codelineno-131-10" href="#__codelineno-131-10"></a><span class="w">  </span>--dimensions<span class="w"> </span><span class="nv">Name</span><span class="o">=</span>ServiceName,Value<span class="o">=</span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-11"><a id="__codelineno-131-11" name="__codelineno-131-11" href="#__codelineno-131-11"></a><span class="w">  </span>--start-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>-d<span class="w"> </span><span class="s1">'1 hour ago'</span><span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-12"><a id="__codelineno-131-12" name="__codelineno-131-12" href="#__codelineno-131-12"></a><span class="w">  </span>--end-time<span class="w"> </span><span class="k">$(</span>date<span class="w"> </span>-u<span class="w"> </span>+%Y-%m-%dT%H:%M:%S<span class="k">)</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-13"><a id="__codelineno-131-13" name="__codelineno-131-13" href="#__codelineno-131-13"></a><span class="w">  </span>--period<span class="w"> </span><span class="m">300</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-14"><a id="__codelineno-131-14" name="__codelineno-131-14" href="#__codelineno-131-14"></a><span class="w">  </span>--statistics<span class="w"> </span>Average,Maximum
</span><span id="__span-131-15"><a id="__codelineno-131-15" name="__codelineno-131-15" href="#__codelineno-131-15"></a>
</span><span id="__span-131-16"><a id="__codelineno-131-16" name="__codelineno-131-16" href="#__codelineno-131-16"></a><span class="c1"># 2. Scale resources</span>
</span><span id="__span-131-17"><a id="__codelineno-131-17" name="__codelineno-131-17" href="#__codelineno-131-17"></a><span class="c1"># For EKS: Scale node group or increase pod replicas</span>
</span><span id="__span-131-18"><a id="__codelineno-131-18" name="__codelineno-131-18" href="#__codelineno-131-18"></a>aws<span class="w"> </span>eks<span class="w"> </span>update-nodegroup-config<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-19"><a id="__codelineno-131-19" name="__codelineno-131-19" href="#__codelineno-131-19"></a><span class="w">  </span>--cluster-name<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-20"><a id="__codelineno-131-20" name="__codelineno-131-20" href="#__codelineno-131-20"></a><span class="w">  </span>--nodegroup-name<span class="w"> </span>corridor-nodes<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-21"><a id="__codelineno-131-21" name="__codelineno-131-21" href="#__codelineno-131-21"></a><span class="w">  </span>--scaling-config<span class="w"> </span><span class="nv">minSize</span><span class="o">=</span><span class="m">5</span>,maxSize<span class="o">=</span><span class="m">15</span>
</span><span id="__span-131-22"><a id="__codelineno-131-22" name="__codelineno-131-22" href="#__codelineno-131-22"></a>
</span><span id="__span-131-23"><a id="__codelineno-131-23" name="__codelineno-131-23" href="#__codelineno-131-23"></a><span class="c1"># For ECS: Increase task count</span>
</span><span id="__span-131-24"><a id="__codelineno-131-24" name="__codelineno-131-24" href="#__codelineno-131-24"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-25"><a id="__codelineno-131-25" name="__codelineno-131-25" href="#__codelineno-131-25"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-26"><a id="__codelineno-131-26" name="__codelineno-131-26" href="#__codelineno-131-26"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-27"><a id="__codelineno-131-27" name="__codelineno-131-27" href="#__codelineno-131-27"></a><span class="w">  </span>--desired-count<span class="w"> </span><span class="m">4</span>
</span><span id="__span-131-28"><a id="__codelineno-131-28" name="__codelineno-131-28" href="#__codelineno-131-28"></a>
</span><span id="__span-131-29"><a id="__codelineno-131-29" name="__codelineno-131-29" href="#__codelineno-131-29"></a><span class="c1"># For EC2: Upgrade instance type or add instances</span>
</span><span id="__span-131-30"><a id="__codelineno-131-30" name="__codelineno-131-30" href="#__codelineno-131-30"></a>aws<span class="w"> </span>ec2<span class="w"> </span>modify-instance-attribute<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-31"><a id="__codelineno-131-31" name="__codelineno-131-31" href="#__codelineno-131-31"></a><span class="w">  </span>--instance-id<span class="w"> </span>&lt;instance-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-131-32"><a id="__codelineno-131-32" name="__codelineno-131-32" href="#__codelineno-131-32"></a><span class="w">  </span>--instance-type<span class="w"> </span><span class="nv">Value</span><span class="o">=</span>t3.2xlarge
</span></code></pre></div>
<h3 id="software-recovery-procedures">Software Recovery Procedures<a class="headerlink" href="#software-recovery-procedures" title="Permanent link"></a></h3>
<h4 id="complete-deployment-recovery">Complete Deployment Recovery<a class="headerlink" href="#complete-deployment-recovery" title="Permanent link"></a></h4>
<p><strong>Step 1: Assess Recovery Requirements</strong></p>
<ul>
<li>Identify what needs to be recovered (database, files, configuration)</li>
<li>Determine recovery point objective (RPO) and recovery time objective (RTO)</li>
<li>Choose recovery method (full restore, partial restore, failover)</li>
</ul>
<p><strong>Step 2: Restore Infrastructure (If Needed)</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="c1"># Restore from Infrastructure-as-Code</span>
</span><span id="__span-132-2"><a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="c1"># Using Terraform:</span>
</span><span id="__span-132-3"><a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var-file<span class="o">=</span>production.tfvars
</span><span id="__span-132-4"><a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a>
</span><span id="__span-132-5"><a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="c1"># Using CloudFormation:</span>
</span><span id="__span-132-6"><a id="__codelineno-132-6" name="__codelineno-132-6" href="#__codelineno-132-6"></a>aws<span class="w"> </span>cloudformation<span class="w"> </span>create-stack<span class="w"> </span><span class="se">\</span>
</span><span id="__span-132-7"><a id="__codelineno-132-7" name="__codelineno-132-7" href="#__codelineno-132-7"></a><span class="w">  </span>--stack-name<span class="w"> </span>corridor-recovery<span class="w"> </span><span class="se">\</span>
</span><span id="__span-132-8"><a id="__codelineno-132-8" name="__codelineno-132-8" href="#__codelineno-132-8"></a><span class="w">  </span>--template-body<span class="w"> </span>file://corridor-infrastructure.yaml
</span></code></pre></div>
<p><strong>Step 3: Restore Database</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="c1"># Restore from latest snapshot</span>
</span><span id="__span-133-2"><a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>restore-db-instance-from-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-133-3"><a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db-recovered<span class="w"> </span><span class="se">\</span>
</span><span id="__span-133-4"><a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>corridor-db-snapshot-20240101
</span><span id="__span-133-5"><a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a>
</span><span id="__span-133-6"><a id="__codelineno-133-6" name="__codelineno-133-6" href="#__codelineno-133-6"></a><span class="c1"># Wait for restore completion</span>
</span><span id="__span-133-7"><a id="__codelineno-133-7" name="__codelineno-133-7" href="#__codelineno-133-7"></a>aws<span class="w"> </span>rds<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>db-instance-available<span class="w"> </span><span class="se">\</span>
</span><span id="__span-133-8"><a id="__codelineno-133-8" name="__codelineno-133-8" href="#__codelineno-133-8"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db-recovered
</span><span id="__span-133-9"><a id="__codelineno-133-9" name="__codelineno-133-9" href="#__codelineno-133-9"></a>
</span><span id="__span-133-10"><a id="__codelineno-133-10" name="__codelineno-133-10" href="#__codelineno-133-10"></a><span class="c1"># Update application configuration with new database endpoint</span>
</span></code></pre></div>
<p><strong>Step 4: Restore File Storage</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="c1"># Restore EFS from backup</span>
</span><span id="__span-134-2"><a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a>aws<span class="w"> </span>backup<span class="w"> </span>start-restore-job<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-3"><a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a><span class="w">  </span>--recovery-point-arn<span class="w"> </span>&lt;recovery-point-arn&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-4"><a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a><span class="w">  </span>--iam-role-arn<span class="w"> </span>arn:aws:iam::&lt;account-id&gt;:role/service-role/AWSBackupDefaultServiceRole<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-5"><a id="__codelineno-134-5" name="__codelineno-134-5" href="#__codelineno-134-5"></a><span class="w">  </span>--resource-type<span class="w"> </span>EFS<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-6"><a id="__codelineno-134-6" name="__codelineno-134-6" href="#__codelineno-134-6"></a><span class="w">  </span>--metadata<span class="w"> </span>file-system-id<span class="o">=</span>&lt;efs-id&gt;
</span><span id="__span-134-7"><a id="__codelineno-134-7" name="__codelineno-134-7" href="#__codelineno-134-7"></a>
</span><span id="__span-134-8"><a id="__codelineno-134-8" name="__codelineno-134-8" href="#__codelineno-134-8"></a><span class="c1"># Or restore EBS from snapshot</span>
</span><span id="__span-134-9"><a id="__codelineno-134-9" name="__codelineno-134-9" href="#__codelineno-134-9"></a>aws<span class="w"> </span>ec2<span class="w"> </span>create-volume<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-10"><a id="__codelineno-134-10" name="__codelineno-134-10" href="#__codelineno-134-10"></a><span class="w">  </span>--snapshot-id<span class="w"> </span>&lt;snapshot-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-134-11"><a id="__codelineno-134-11" name="__codelineno-134-11" href="#__codelineno-134-11"></a><span class="w">  </span>--availability-zone<span class="w"> </span>us-east-1a
</span></code></pre></div>
<p><strong>Step 5: Restore Application Configuration</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="c1"># Restore Kubernetes ConfigMaps/Secrets</span>
</span><span id="__span-135-2"><a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>corridor-configmaps-backup-20240101.yaml<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-135-3"><a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a>
</span><span id="__span-135-4"><a id="__codelineno-135-4" name="__codelineno-135-4" href="#__codelineno-135-4"></a><span class="c1"># Restore ECS task definition</span>
</span><span id="__span-135-5"><a id="__codelineno-135-5" name="__codelineno-135-5" href="#__codelineno-135-5"></a>aws<span class="w"> </span>ecs<span class="w"> </span>register-task-definition<span class="w"> </span><span class="se">\</span>
</span><span id="__span-135-6"><a id="__codelineno-135-6" name="__codelineno-135-6" href="#__codelineno-135-6"></a><span class="w">  </span>--cli-input-json<span class="w"> </span>file://corridor-task-definition-backup-20240101.json
</span><span id="__span-135-7"><a id="__codelineno-135-7" name="__codelineno-135-7" href="#__codelineno-135-7"></a>
</span><span id="__span-135-8"><a id="__codelineno-135-8" name="__codelineno-135-8" href="#__codelineno-135-8"></a><span class="c1"># Restore EC2 configuration files</span>
</span><span id="__span-135-9"><a id="__codelineno-135-9" name="__codelineno-135-9" href="#__codelineno-135-9"></a>tar<span class="w"> </span>-xzf<span class="w"> </span>corridor-config-backup-20240101.tar.gz<span class="w"> </span>-C<span class="w"> </span>/
</span></code></pre></div>
<p><strong>Step 6: Deploy Application</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="c1"># Deploy application using restored configuration</span>
</span><span id="__span-136-2"><a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a><span class="c1"># For EKS:</span>
</span><span id="__span-136-3"><a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>corridor-manifests.yaml<span class="w"> </span>-n<span class="w"> </span>corridor
</span><span id="__span-136-4"><a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a>
</span><span id="__span-136-5"><a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a><span class="c1"># For ECS:</span>
</span><span id="__span-136-6"><a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a>aws<span class="w"> </span>ecs<span class="w"> </span>update-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-136-7"><a id="__codelineno-136-7" name="__codelineno-136-7" href="#__codelineno-136-7"></a><span class="w">  </span>--cluster<span class="w"> </span>corridor-cluster<span class="w"> </span><span class="se">\</span>
</span><span id="__span-136-8"><a id="__codelineno-136-8" name="__codelineno-136-8" href="#__codelineno-136-8"></a><span class="w">  </span>--service<span class="w"> </span>corridor-service<span class="w"> </span><span class="se">\</span>
</span><span id="__span-136-9"><a id="__codelineno-136-9" name="__codelineno-136-9" href="#__codelineno-136-9"></a><span class="w">  </span>--task-definition<span class="w"> </span>corridor-task
</span><span id="__span-136-10"><a id="__codelineno-136-10" name="__codelineno-136-10" href="#__codelineno-136-10"></a>
</span><span id="__span-136-11"><a id="__codelineno-136-11" name="__codelineno-136-11" href="#__codelineno-136-11"></a><span class="c1"># For EC2:</span>
</span><span id="__span-136-12"><a id="__codelineno-136-12" name="__codelineno-136-12" href="#__codelineno-136-12"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>corridor-app<span class="w"> </span>corridor-api
</span></code></pre></div>
<p><strong>Step 7: Verify Recovery</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="c1"># Verify application health</span>
</span><span id="__span-137-2"><a id="__codelineno-137-2" name="__codelineno-137-2" href="#__codelineno-137-2"></a>curl<span class="w"> </span>https://corridor.example.com/health
</span><span id="__span-137-3"><a id="__codelineno-137-3" name="__codelineno-137-3" href="#__codelineno-137-3"></a>
</span><span id="__span-137-4"><a id="__codelineno-137-4" name="__codelineno-137-4" href="#__codelineno-137-4"></a><span class="c1"># Verify database connectivity</span>
</span><span id="__span-137-5"><a id="__codelineno-137-5" name="__codelineno-137-5" href="#__codelineno-137-5"></a>psql<span class="w"> </span>-h<span class="w"> </span>&lt;rds-endpoint&gt;<span class="w"> </span>-U<span class="w"> </span>corridor<span class="w"> </span>-d<span class="w"> </span>corridor<span class="w"> </span>-c<span class="w"> </span><span class="s2">"SELECT COUNT(*) FROM users;"</span>
</span><span id="__span-137-6"><a id="__codelineno-137-6" name="__codelineno-137-6" href="#__codelineno-137-6"></a>
</span><span id="__span-137-7"><a id="__codelineno-137-7" name="__codelineno-137-7" href="#__codelineno-137-7"></a><span class="c1"># Verify file storage</span>
</span><span id="__span-137-8"><a id="__codelineno-137-8" name="__codelineno-137-8" href="#__codelineno-137-8"></a><span class="c1"># Test file upload/download functionality</span>
</span><span id="__span-137-9"><a id="__codelineno-137-9" name="__codelineno-137-9" href="#__codelineno-137-9"></a>
</span><span id="__span-137-10"><a id="__codelineno-137-10" name="__codelineno-137-10" href="#__codelineno-137-10"></a><span class="c1"># Verify all services</span>
</span><span id="__span-137-11"><a id="__codelineno-137-11" name="__codelineno-137-11" href="#__codelineno-137-11"></a><span class="c1"># Check application logs for errors</span>
</span></code></pre></div>
<h4 id="disaster-recovery-to-secondary-region">Disaster Recovery to Secondary Region<a class="headerlink" href="#disaster-recovery-to-secondary-region" title="Permanent link"></a></h4>
<p><strong>Step 1: Prepare Secondary Region</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="c1"># Copy database snapshot to secondary region</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>copy-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="w">  </span>--source-db-snapshot-identifier<span class="w"> </span>corridor-db-snapshot-20240101<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-4"><a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a><span class="w">  </span>--target-db-snapshot-identifier<span class="w"> </span>corridor-db-snapshot-dr<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-5"><a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a><span class="w">  </span>--target-region<span class="w"> </span>us-west-2
</span><span id="__span-138-6"><a id="__codelineno-138-6" name="__codelineno-138-6" href="#__codelineno-138-6"></a>
</span><span id="__span-138-7"><a id="__codelineno-138-7" name="__codelineno-138-7" href="#__codelineno-138-7"></a><span class="c1"># Copy EBS snapshots</span>
</span><span id="__span-138-8"><a id="__codelineno-138-8" name="__codelineno-138-8" href="#__codelineno-138-8"></a>aws<span class="w"> </span>ec2<span class="w"> </span>copy-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-9"><a id="__codelineno-138-9" name="__codelineno-138-9" href="#__codelineno-138-9"></a><span class="w">  </span>--source-region<span class="w"> </span>us-east-1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-10"><a id="__codelineno-138-10" name="__codelineno-138-10" href="#__codelineno-138-10"></a><span class="w">  </span>--source-snapshot-id<span class="w"> </span>&lt;snapshot-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-138-11"><a id="__codelineno-138-11" name="__codelineno-138-11" href="#__codelineno-138-11"></a><span class="w">  </span>--region<span class="w"> </span>us-west-2
</span></code></pre></div>
<p><strong>Step 2: Deploy Infrastructure in Secondary Region</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="c1"># Deploy infrastructure using Terraform/CloudFormation</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="c1"># Update region parameter to secondary region</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var<span class="o">=</span><span class="s2">"aws_region=us-west-2"</span>
</span></code></pre></div>
<p><strong>Step 3: Restore Data in Secondary Region</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="c1"># Restore database from snapshot</span>
</span><span id="__span-140-2"><a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a>aws<span class="w"> </span>rds<span class="w"> </span>restore-db-instance-from-db-snapshot<span class="w"> </span><span class="se">\</span>
</span><span id="__span-140-3"><a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="w">  </span>--db-instance-identifier<span class="w"> </span>corridor-db-dr<span class="w"> </span><span class="se">\</span>
</span><span id="__span-140-4"><a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="w">  </span>--db-snapshot-identifier<span class="w"> </span>corridor-db-snapshot-dr<span class="w"> </span><span class="se">\</span>
</span><span id="__span-140-5"><a id="__codelineno-140-5" name="__codelineno-140-5" href="#__codelineno-140-5"></a><span class="w">  </span>--region<span class="w"> </span>us-west-2
</span><span id="__span-140-6"><a id="__codelineno-140-6" name="__codelineno-140-6" href="#__codelineno-140-6"></a>
</span><span id="__span-140-7"><a id="__codelineno-140-7" name="__codelineno-140-7" href="#__codelineno-140-7"></a><span class="c1"># Restore file storage</span>
</span><span id="__span-140-8"><a id="__codelineno-140-8" name="__codelineno-140-8" href="#__codelineno-140-8"></a><span class="c1"># (Follow file storage restore procedures)</span>
</span></code></pre></div>
<p><strong>Step 4: Update DNS for Failover</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="c1"># Update Route 53 health check and failover</span>
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a>aws<span class="w"> </span>route53<span class="w"> </span>change-resource-record-sets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="w">  </span>--hosted-zone-id<span class="w"> </span>&lt;hosted-zone-id&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-141-4"><a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a><span class="w">  </span>--change-batch<span class="w"> </span>file://failover-routing.json
</span></code></pre></div>
<h3 id="recovery-testing">Recovery Testing<a class="headerlink" href="#recovery-testing" title="Permanent link"></a></h3>
<p><strong>Regular Recovery Testing:</strong></p>
<ul>
<li>Test database restore procedures quarterly</li>
<li>Test file storage restore procedures quarterly</li>
<li>Test complete deployment recovery annually</li>
<li>Document test results and update procedures</li>
</ul>
<h2 id="support-information">Support Information<a class="headerlink" href="#support-information" title="Permanent link"></a></h2>
<p>This section provides details on how to receive support, technical support tiers, and Service Level Agreements (SLAs) for Corridor deployments on AWS.</p>
<h3 id="how-to-receive-support">How to Receive Support<a class="headerlink" href="#how-to-receive-support" title="Permanent link"></a></h3>
<p><strong>Support Channels:</strong></p>
<ol>
<li><strong>Email Support:</strong></li>
<li>Primary support email: support@corridorplatforms.com</li>
<li>Include deployment method (EKS/ECS/EC2), AWS region, error messages, and logs</li>
<li>
<p>Response time: Based on support tier (see below)</p>
</li>
<li>
<p><strong>Support Portal:</strong></p>
</li>
<li>Access support portal at: https://support.corridorplatforms.com</li>
<li>Submit tickets, track issues, access knowledge base</li>
<li>
<p>Available 24/7 for ticket submission</p>
</li>
<li>
<p><strong>Emergency Support:</strong></p>
</li>
<li>For critical production issues</li>
<li>Contact via emergency hotline (Premium/Enterprise tiers)</li>
<li>Available 24/7 for critical issues</li>
</ol>
<p><strong>Information to Provide When Requesting Support:</strong></p>
<ul>
<li>Deployment method (EKS, ECS Fargate, or EC2)</li>
<li>AWS region and account ID</li>
<li>Corridor version</li>
<li>Detailed error messages and logs</li>
<li>Steps to reproduce the issue</li>
<li>Screenshots or screen recordings (if applicable)</li>
<li>Impact assessment (number of users affected, business impact)</li>
</ul>
<h3 id="technical-support-tiers">Technical Support Tiers<a class="headerlink" href="#technical-support-tiers" title="Permanent link"></a></h3>
<p><strong>Tier 1: Standard Support</strong></p>
<ul>
<li><strong>Availability</strong>: Business hours (9 AM - 5 PM EST, Monday-Friday)</li>
<li><strong>Response Time</strong>: </li>
<li>Critical: 8 business hours</li>
<li>High: 1 business day</li>
<li>Medium: 2 business days</li>
<li>Low: 3 business days</li>
<li><strong>Channels</strong>: Email, Support Portal</li>
<li><strong>Included Services</strong>:</li>
<li>Product documentation access</li>
<li>Knowledge base access</li>
<li>Bug fixes and security patches</li>
<li>General product questions</li>
<li><strong>Exclusions</strong>: </li>
<li>Custom development</li>
<li>Architecture design consultation</li>
<li>On-site support</li>
</ul>
<p><strong>Tier 2: Premium Support</strong></p>
<ul>
<li><strong>Availability</strong>: Extended business hours (8 AM - 8 PM EST, Monday-Friday)</li>
<li><strong>Response Time</strong>:</li>
<li>Critical: 4 business hours</li>
<li>High: 8 business hours</li>
<li>Medium: 1 business day</li>
<li>Low: 2 business days</li>
<li><strong>Channels</strong>: Email, Support Portal</li>
<li><strong>Included Services</strong>:</li>
<li>All Standard Support services</li>
<li>Priority ticket handling</li>
<li>Architecture guidance</li>
<li>Performance optimization assistance</li>
<li><strong>Additional Features</strong>:</li>
<li>Monthly health check reviews</li>
<li>Proactive monitoring recommendations</li>
</ul>
<p><strong>Tier 3: Enterprise Support</strong></p>
<ul>
<li><strong>Availability</strong>: 24/7 support</li>
<li><strong>Response Time</strong>:</li>
<li>Critical: 1 hour (24/7)</li>
<li>High: 4 hours (24/7)</li>
<li>Medium: 8 business hours</li>
<li>Low: 1 business day</li>
<li><strong>Channels</strong>: Email, Support Portal, Emergency Hotline</li>
<li><strong>Included Services</strong>:</li>
<li>All Premium Support services</li>
<li>24/7 critical issue support</li>
<li>Dedicated support engineer</li>
<li>Custom deployment assistance</li>
<li>Quarterly architecture reviews</li>
<li>On-site support (as needed)</li>
<li><strong>Additional Features</strong>:</li>
<li>Custom SLA definitions</li>
<li>Direct access to engineering team</li>
<li>Proactive issue identification</li>
</ul>
<h3 id="support-tiers-and-service-level-agreements-slas">Support Tiers and Service Level Agreements (SLAs)<a class="headerlink" href="#support-tiers-and-service-level-agreements-slas" title="Permanent link"></a></h3>
<p><strong>Severity Levels:</strong></p>
<ol>
<li><strong>Critical (P1)</strong>:</li>
<li>Production system down or severely degraded</li>
<li>Data loss or corruption risk</li>
<li>Security breach</li>
<li>
<p><strong>SLA</strong>: </p>
<ul>
<li>Standard: 8 business hours</li>
<li>Premium: 4 business hours</li>
<li>Enterprise: 1 hour (24/7)</li>
</ul>
</li>
<li>
<p><strong>High (P2)</strong>:</p>
</li>
<li>Major feature unavailable</li>
<li>Significant performance degradation</li>
<li>
<p><strong>SLA</strong>:</p>
<ul>
<li>Standard: 1 business day</li>
<li>Premium: 8 business hours</li>
<li>Enterprise: 4 hours (24/7)</li>
</ul>
</li>
<li>
<p><strong>Medium (P3)</strong>:</p>
</li>
<li>Minor feature unavailable</li>
<li>Workaround available</li>
<li>
<p><strong>SLA</strong>:</p>
<ul>
<li>Standard: 2 business days</li>
<li>Premium: 1 business day</li>
<li>Enterprise: 8 business hours</li>
</ul>
</li>
<li>
<p><strong>Low (P4)</strong>:</p>
</li>
<li>General questions</li>
<li>Feature requests</li>
<li><strong>SLA</strong>:<ul>
<li>Standard: 3 business days</li>
<li>Premium: 2 business days</li>
<li>Enterprise: 1 business day</li>
</ul>
</li>
</ol>
<p><strong>SLA Guarantees:</strong></p>
<ul>
<li><strong>Response Time</strong>: Time to initial response from support team</li>
<li><strong>Resolution Time</strong>: Target time to resolve issue (varies by severity and complexity)</li>
<li><strong>Uptime Guarantee</strong>: 99.9% availability (Enterprise tier)</li>
<li><strong>Escalation Process</strong>: Automatic escalation if SLA not met</li>
</ul>
<p><strong>Support Coverage:</strong></p>
<ul>
<li><strong>Product Support</strong>: Corridor platform functionality, deployment, configuration</li>
<li><strong>Infrastructure Support</strong>: AWS infrastructure guidance (limited)</li>
<li><strong>Integration Support</strong>: Third-party integration assistance</li>
<li><strong>Exclusions</strong>: </li>
<li>Custom development</li>
<li>Training (available as separate service)</li>
<li>AWS account management</li>
</ul>
<p><strong>Escalation Process:</strong></p>
<ol>
<li><strong>Level 1</strong>: Support Engineer (initial response)</li>
<li><strong>Level 2</strong>: Senior Support Engineer (complex issues)</li>
<li><strong>Level 3</strong>: Engineering Team (critical bugs, architecture issues)</li>
<li><strong>Level 4</strong>: Product Management (feature requests, strategic issues)</li>
</ol>
<p><strong>Support Request Process:</strong></p>
<ol>
<li>Submit ticket via email or support portal</li>
<li>Receive ticket confirmation and tracking number</li>
<li>Initial response within SLA timeframe</li>
<li>Issue investigation and resolution</li>
<li>Ticket closure with resolution summary</li>
</ol>
<p><strong>Contact Information:</strong></p>
<ul>
<li><strong>Support Email</strong>: support@corridorplatforms.com</li>
<li><strong>Support Portal</strong>: https://support.corridorplatforms.com</li>
<li><strong>Emergency Hotline</strong>: Provided upon account activation (Enterprise)</li>
</ul>
<h2 id="installation-methods">Installation Methods<a class="headerlink" href="#installation-methods" title="Permanent link"></a></h2>
<p>Corridor supports three different installation approaches on AWS, each suited to different organizational needs and infrastructure preferences:</p>
<h3 id="option-1-kubernetes-eks">Option 1: Kubernetes - EKS<a class="headerlink" href="#option-1-kubernetes-eks" title="Permanent link"></a></h3>
<p>Deploy Corridor on Amazon Elastic Kubernetes Service (EKS) for a cloud-native, containerized deployment.</p>
<p><strong>Best for:</strong></p>
<ul>
<li>Organizations with Kubernetes expertise</li>
<li>Multi-tenant deployments with namespace isolation</li>
<li>Auto-scaling and high availability requirements</li>
<li>Modern cloud-native infrastructure</li>
</ul>
<p><a href="aws-eks/">View EKS Installation Guide </a></p>
<h3 id="option-2-serverless-ecs-fargate">Option 2: Serverless - ECS Fargate<a class="headerlink" href="#option-2-serverless-ecs-fargate" title="Permanent link"></a></h3>
<p>Deploy Corridor using AWS Fargate for a serverless container deployment.</p>
<p><strong>Best for:</strong></p>
<ul>
<li>Organizations wanting serverless infrastructure</li>
<li>Minimal infrastructure management</li>
<li>Variable workload patterns</li>
</ul>
<p><a href="aws-fargate/">View Fargate Installation Guide </a></p>
<h3 id="option-3-virtual-machines-ec2">Option 3: Virtual Machines - EC2<a class="headerlink" href="#option-3-virtual-machines-ec2" title="Permanent link"></a></h3>
<p>Deploy Corridor on Amazon EC2 instances for a traditional VM-based deployment.</p>
<p><strong>Best for:</strong></p>
<ul>
<li>Organizations preferring VM-based infrastructure</li>
<li>Direct control over the operating system</li>
<li>Traditional IT infrastructure patterns</li>
<li>Custom hardware requirements</li>
</ul>
<p><a href="aws-ec2/">View EC2 Installation Guide </a></p>
<h2 id="common-aws-services">Common AWS Services<a class="headerlink" href="#common-aws-services" title="Permanent link"></a></h2>
<p>All deployment options utilize these AWS managed services:</p>
<ul>
<li><strong>RDS</strong>: PostgreSQL database for metadata storage</li>
<li><strong>S3</strong>: Object storage for file management (or EFS for NFS)</li>
<li><strong>Application Load Balancer</strong>: HTTP(S) load balancing</li>
<li><strong>Route 53</strong>: Domain name management</li>
<li><strong>VPC</strong>: Virtual private cloud networking</li>
</ul>
<h2 id="choosing-the-right-option">Choosing the Right Option<a class="headerlink" href="#choosing-the-right-option" title="Permanent link"></a></h2>
<table>
<thead>
<tr>
<th>Factor</th>
<th>EKS (Kubernetes)</th>
<th>ECS Fargate</th>
<th>EC2 (VMs)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Complexity</strong></td>
<td>Higher</td>
<td>Medium</td>
<td>Lower</td>
</tr>
<tr>
<td><strong>Scalability</strong></td>
<td>Automatic</td>
<td>Automatic</td>
<td>Manual</td>
</tr>
<tr>
<td><strong>Multi-tenancy</strong></td>
<td>Native (namespaces)</td>
<td>Task-based</td>
<td>Separate VMs</td>
</tr>
<tr>
<td><strong>Operational Overhead</strong></td>
<td>Lower (managed K8s)</td>
<td>Lowest</td>
<td>Higher</td>
</tr>
<tr>
<td><strong>Deployment Speed</strong></td>
<td>Fast</td>
<td>Fastest</td>
<td>Moderate</td>
</tr>
<tr>
<td><strong>Infrastructure Management</strong></td>
<td>Minimal</td>
<td>None</td>
<td>Full</td>
</tr>
<tr>
<td><strong>Cost Model</strong></td>
<td>Node-based</td>
<td>Per task</td>
<td>Per instance</td>
</tr>
<tr>
<td><strong>Kubernetes Skills Required</strong></td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
</tbody>
</table>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
    </span>
    2025-12-23
  </span>

    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.54 5.54 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13zM0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20zm24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9z"></path></svg>
      
    </span>
    <nav>
      AbdealiLoKo, Vishnu Suman
    </nav>
  </span>

    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../gcp/gcp-vms/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Google Compute Engine VMs (GCE)">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Google Compute Engine VMs (GCE)
              </div>
            </div>
          </a>
        
        
          
          <a href="aws-fargate/" class="md-footer__link md-footer__link--next" aria-label="Next: Amazon Fargate">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Amazon Fargate
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  Corridor Platforms
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/corridor" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/corridor-platforms/" target="_blank" rel="noopener" title="LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/@corridorplatforms" target="_blank" rel="noopener" title="YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"></path></svg>
    </a>
  
    
    
    
    
    <a href="https://cloud.google.com/find-a-partner/partner/corridor-platforms" target="_blank" rel="noopener" title="Google Partner" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C270.5 52.6 106.3 116.6 106.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H260v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["navigation.expand", "navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.tracking", "navigation.path", "navigation.footer", "search.highlight", "search.suggest", "content.code.copy", "content.action.edit", "content.action.edit.top", "content.time.last_updated", "content.code.select", "content.code.annotate", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../../assets/javascripts/mermaid.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>